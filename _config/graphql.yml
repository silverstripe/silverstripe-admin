---
Name: 'admin-graphql'
Only:
  classexists: 'SilverStripe\GraphQL\Schema\Schema'
---
SilverStripe\Core\Injector\Injector:
  SilverStripe\GraphQL\Controller.admin:
    class: SilverStripe\GraphQL\Controller
    constructor:
      schema: admin
SilverStripe\GraphQL\Schema\Schema:
  schemas:
    '*':
      defaults:
        operations:
          read:
            plugins:
              paginateList: true
              canView:
                after: paginateList
          readOne:
            plugins:
              canView: true
              firstResult:
                after: '*'
        models:
          DataObject:
            plugins:
              inheritance: true
              inheritedPlugins:
                after: '*'
    default:
      defaults:
        operations:
          read:
            plugins:
              filter:
                before: paginateList
              sort:
                before: paginateList
          readOne:
            plugins:
              filter: true
              sort: true

SilverStripe\Admin\LeftAndMain:
  graphql_legacy: false
