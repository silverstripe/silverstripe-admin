webpackJsonp([1],{"./client/src/legacy/TinyMCE_sslink-external.js":function(n,e,t){"use strict";function i(n){return n&&n.__esModule?n:{default:n}}Object.defineProperty(e,"__esModule",{value:!0});var r=t("i18n"),a=i(r),l=t("lib/TinyMCEActionRegistrar"),o=i(l),s=t("react"),d=i(s),c=t("react-dom"),u=i(c),f=t("jquery"),p=i(f),k=t("containers/InsertLinkModal/InsertLinkModal"),m=t("lib/Injector");o.default.addAction("sslink",{text:a.default._t("Admin.LINKLABEL_EXTERNALURL","Link to external URL"),onclick:function(n){return n.execCommand("sslinkexternal")},priority:52});var x={init:function(n){n.addCommand("sslinkexternal",function(){window.jQuery("#"+n.id).entwine("ss").openLinkExternalDialog()})}},L="insert-link__dialog-wrapper--external",g=(0,m.loadComponent)((0,k.createInsertLinkModal)("SilverStripe\\Admin\\LeftAndMain","EditorExternalLink"));p.default.entwine("ss",function(n){n("textarea.htmleditor").entwine({openLinkExternalDialog:function(){var e=n("#"+L);e.length||(e=n('<div id="'+L+'" />'),n("body").append(e)),e.addClass("insert-link__dialog-wrapper"),e.setElement(this),e.open()}}),n("#"+L).entwine({renderModal:function(n){var e=this,t=function(){return e.close()},i=function(){return e.handleInsert.apply(e,arguments)},r=this.getOriginalAttributes(),l=tinymce.activeEditor.selection,o=l.getContent()||"",s=l.getNode().tagName,c="A"!==s&&""===o.trim();u.default.render(d.default.createElement(g,{isOpen:n,onInsert:i,onClosed:t,title:a.default._t("Admin.LINK_EXTERNAL","Insert external link"),bodyClassName:"modal__dialog",className:"insert-link__dialog-wrapper--external",fileAttributes:r,identifier:"Admin.InsertLinkExternalModal",requireLinkText:c}),this[0])},buildAttributes:function(n){var e=this._super(n),t=e.href;return t.match(/:\/\//)||(t=window.location.protocol+"//"+t),t=t.replace(/.*:\/\/(#.*)$/,"$1"),t.match(/:\/\/$/)&&(t=""),e.href=t,e}})}),tinymce.PluginManager.add("sslinkexternal",function(n){return x.init(n)}),e.default=x},"containers/InsertLinkModal/InsertLinkModal":function(n,e){n.exports=InsertLinkModal},i18n:function(n,e){n.exports=i18n},"lib/Injector":function(n,e){n.exports=Injector},"lib/TinyMCEActionRegistrar":function(n,e){n.exports=TinyMCEActionRegistrar}},["./client/src/legacy/TinyMCE_sslink-external.js"]);