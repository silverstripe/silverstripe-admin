(self.webpackChunksilverstripe_admin=self.webpackChunksilverstripe_admin||[]).push([[296],{13978:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=b(n(19755)),a=b(n(67294)),i=n(86706),s=n(20745),o=n(79655),l=b(n(94974)),d=b(n(15586)),u=b(n(80507)),c=b(n(55766)),f=n(83065),p=b(n(4754)),h=n(11962),m=b(n(87393)),g=n(89250),v=n(80195),_=b(n(3730));function b(e){return e&&e.__esModule?e:{default:e}}t.default=class{constructor(e,t){this.store=e,this.client=t;const n=l.default.get("absoluteBaseUrl");d.default.setAbsoluteBase(n),this.shouldConfirmBeforeUnload=this.shouldConfirmBeforeUnload.bind(this)}setStore(e){this.store=e}setClient(e){this.client=e}start(e){this.matchesReactRoute(e)?this.initReactRouter():this.initLegacyRouter();const t=window.onbeforeunload;window.onbeforeunload=()=>this.shouldConfirmBeforeUnload()?p.default._t("Admin.CONFIRMUNSAVEDSHORT","WARNING: Your changes have not been saved."):"function"==typeof t?t():void 0}matchesReactRoute(e){const t=l.default.get("sections"),n=d.default.resolveURLToBase(e).replace(/\/$/,"");return!!t.find((e=>{const t=d.default.resolveURLToBase(e.url).replace(/\/$/,"");return!!e.reactRouter&&n.match(t)}))}initReactRouter(){u.default.updateRootRoute({component:c.default});const e=u.default.getRootRoute(),t=(0,o.createBrowserRouter)((0,o.createRoutesFromElements)(a.default.createElement(g.Route,{path:e.path,element:a.default.createElement(e.component,null,a.default.createElement(_.default,{shouldBlockFn:this.shouldConfirmBeforeUnload,blockMessage:this.getUnsavedChangesMessage()}))},u.default.getChildRoutes().map((e=>a.default.createElement(g.Route,{key:e.path,path:e.path,element:a.default.createElement(e.component,null)}))))),{basename:(0,v.joinUrlPaths)(l.default.get("baseUrl"),l.default.get("adminUrl"))});(0,s.createRoot)(document.getElementsByClassName("cms-content")[0]).render(a.default.createElement(f.ApolloProvider,{client:this.client},a.default.createElement(i.Provider,{store:this.store},a.default.createElement(o.RouterProvider,{router:t}))))}initLegacyRouter(){const e=l.default.get("sections"),t=this.store;(0,d.default)("*",((e,n)=>{const r=this.getUnsavedChangesMessage();this.shouldConfirmBeforeUnload()&&!window.confirm(r)||(e.store=t,n())}));let n=null;e.forEach((e=>{let t=d.default.resolveURLToBase(e.url);t=t.replace(/\/$/,""),t=`${t}(/*?)?`,(0,d.default)(t,((e,t)=>{if("complete"!==document.readyState||e.init)return void t();n||(n=window.location.pathname);const a=e.state&&e.state.__forceReload;(e.path!==n||a)&&(n=e.path.replace(/#.*$/,""),(0,r.default)(".cms-container").entwine("ss").handleStateChange(null,e.state))}))}));(0,s.createRoot)(document.createElement("div")).render(a.default.createElement("a",{role:"none",onClick:()=>{}})),d.default.start()}shouldConfirmBeforeUnload(){const e=this.store.getState(),t=e.unsavedForms||[],n=e.form.formSchemas;return t.filter((t=>{const r=Object.values(n).find((e=>e.name===t.name));return!!(r&&r.state&&r.state.notifyUnsavedChanges)&&(0,h.isDirty)(t.name,m.default)(e)})).length>0}getUnsavedChangesMessage(){return p.default._t("Admin.CONFIRMUNSAVED","Are you sure you want to navigate away\n    from this page?\n\nWARNING: Your changes have not been saved.\n\n\n    Press OK to continue, or Cancel to stay on the current page.")}}},56029:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r,a=n(71745),i=(r=n(2395))&&r.__esModule?r:{default:r};t.default=e=>{const t={};return e&&e.__schema.types.forEach((e=>{e.possibleTypes&&(t[e.name]=e.possibleTypes.map((e=>e.name)))})),new a.InMemoryCache({possibleTypes:t,dataIdFromObject:i.default,addTypename:!0})}},56062:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(83065),a=l(n(94974)),i=l(n(85478)),s=l(n(66783)),o=l(n(56029));function l(e){return e&&e.__esModule?e:{default:e}}t.default=async e=>{const t=a.default.getSection("SilverStripe\\Admin\\LeftAndMain").graphql,n=t&&t.cachedTypenames;let l;try{l=await(0,i.default)(e,n)}catch(e){l=null}const d=(0,o.default)(l),u=(0,s.default)(e),c=(0,r.from)(u);return new r.ApolloClient({cache:d,link:c})}},66783:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r,a=n(83065),i=n(63200),s=(r=n(94974))&&r.__esModule?r:{default:r},o=n(80195);t.default=e=>{const t=new a.HttpLink({uri:(0,o.joinUrlPaths)(e,"admin/graphql"),fetchOptions:{credentials:"same-origin",headers:{accept:"application/json"}}}),n=(0,i.onError)((e=>{let{networkError:t}=e;t&&console.log(`[Network error]: ${t}`)}));return[new a.ApolloLink(((e,t)=>(e.setContext({headers:{"X-CSRF-TOKEN":s.default.get("SecurityID")}}),t(e)))),n,t]}},2395:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;t.default=e=>{const t=e.id||e.ID;return t&&t>=0&&e.__typename?`${e.__typename}:${t}`:null}},85478:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r,a=(r=n(94301))&&r.__esModule?r:{default:r},i=n(80195);const s=e=>{const t=e.data;return t.__schema.types=t.__schema.types.filter((e=>null!==e.possibleTypes)),t},o=e=>{if(!e.ok)throw new Error("The types.graphql file could not be loaded. You probably need to run a ?flush to generate it.\n            Alternatively, you can use the IntrospectionProvider extension to generate the file dynamically.\n            More information: https://github.com/silverstripe/silverstripe-graphql/#schema-introspection");return e};t.default=async function(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];const n=!!document.body.getAttribute("data-graphql-legacy"),r=[(0,i.joinUrlPaths)(e,"_graphql/admin.types.graphql"),(0,i.joinUrlPaths)(e,"admin.types.graphql")],l=[(0,i.joinUrlPaths)(e,"admin/graphql/types"),(0,i.joinUrlPaths)(e,"assets/admin.types.graphql")];let d,u;n?(t&&l.reverse(),[d,u]=l):[d,u]=r;const c={method:"GET",headers:{"Content-Type":"application/json"},uri:e,credentials:"same-origin"},f=async e=>(0,a.default)(e,c).then(o).then((e=>e.json())).then(s);let p;try{p=await f(d)}catch(e){if(!u)return Promise.reject(e);try{p=await f(u)}catch(e){return Promise.reject(e)}}return Promise.resolve(p)}},59467:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){const t=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__,n=window.__REDUX_DEVTOOLS_EXTENSION__||window.devToolsExtension;if("function"==typeof t)return t(e);if("function"==typeof n)return(0,r.compose)(e,n());return e};var r=n(14890)},10374:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=l(n(54582)),a=l(n(39062)),i=l(n(93967)),s=n(48834),o=l(n(98028));function l(e){return e&&e.__esModule?e:{default:e}}const d=function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const n=e.extraClass?e.extraClass.split(" ").reduce(((e,t)=>({...e,[t]:!0})),{}):{};"string"==typeof e.data.pristineClass&&(n[e.data.pristineClass]=t),"string"==typeof e.data.dirtyClass&&(n[e.data.dirtyClass]=!t);const r=t?e.data.pristineTitle:e.data.dirtyTitle,a=t?e.data.pristineIcon:e.data.dirtyIcon;return{...e,title:r||e.title,icon:a||e.icon,extraClass:(0,i.default)(n)}};t.default=()=>{r.default.transform("field-holders",(e=>{["FieldGroup"].forEach((t=>e.component("FieldGroup",o.default,`${t}Holder`)))})),r.default.transform("form-action-changed",(e=>{e.form.alterSchema("*",(e=>(e.mutateField("action_save",(t=>{const n=e.isPristine();return d(t,n)})),e.mutateField("action_publish",(t=>{const n=t.data.isPublished&&!t.data.isModified&&e.isPristine();return d(t,n)})),e.getState())))})),r.default.transform("schema-validation",(e=>{e.form.addValidation("*",((e,t,n)=>{const r=new a.default(e),i=Object.keys(e).reduce(((e,t)=>{const a=(0,s.findField)(n.fields,t);if(!a)return e;const{valid:i,errors:o}=r.validateFieldSchema(a);return i?e:{...e,[t]:o}}),{});return t.addErrors(i),t.getState()}))}))}},27274:function(e,t,n){"use strict";var r=h(n(54582)),a=n(14890),i=h(n(53894)),s=h(n(94974)),o=h(n(56062)),l=n(32212),d=h(n(89521)),u=h(n(24180)),c=h(n(59467)),f=h(n(10374)),p=h(n(13978));function h(e){return e&&e.__esModule?e:{default:e}}window.ss=window.ss||{},window.onload=async function(){const e=s.default.get("absoluteBaseUrl"),t=await(0,o.default)(e);(0,d.default)(),(0,u.default)();const n=[i.default],h=s.default.get("debugging");let m=(0,a.applyMiddleware)(...n);h&&(m=(0,c.default)(m));const g=m(a.createStore);window.ss.apolloClient=t;const v=new p.default(null,t);(0,f.default)(),r.default.init((()=>{const e=(0,a.combineReducers)(r.default.reducer.getAll()),t=g(e,{});t.dispatch((0,l.setConfig)(s.default.getAll())),r.default.reducer.setStore(t),window.ss.store=t,v.setStore(t),v.start(window.location.pathname),window.jQuery&&window.jQuery("body").addClass("js-react-boot").addClass("js-injector-boot")})),window.setTimeout((()=>r.default.load()),0)}},89521:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(11962),a=ne(n(54582)),i=ne(n(95393)),s=ne(n(37294)),o=ne(n(22602)),l=ne(n(45332)),d=ne(n(74898)),u=ne(n(19423)),c=ne(n(81463)),f=ne(n(63182)),p=ne(n(79629)),h=ne(n(49954)),m=ne(n(41370)),g=ne(n(5110)),v=ne(n(88940)),_=ne(n(71375)),b=ne(n(63980)),y=ne(n(20693)),w=ne(n(65732)),O=ne(n(7162)),C=ne(n(26055)),E=ne(n(21677)),T=ne(n(82432)),S=ne(n(75917)),P=ne(n(61404)),M=ne(n(40505)),j=ne(n(59644)),D=ne(n(52935)),R=ne(n(59888)),k=ne(n(48297)),I=ne(n(55742)),x=ne(n(65963)),A=ne(n(23296)),N=ne(n(3080)),F=ne(n(36800)),L=ne(n(80384)),$=ne(n(34411)),U=ne(n(18871)),B=ne(n(57129)),V=ne(n(98031)),W=ne(n(72543)),H=ne(n(85362)),q=ne(n(97023)),z=ne(n(97228)),G=ne(n(20164)),K=ne(n(62266)),Y=ne(n(65693)),X=ne(n(1922)),Q=ne(n(92227)),J=ne(n(71255)),Z=ne(n(49331)),ee=ne(n(6734)),te=ne(n(84331));function ne(e){return e&&e.__esModule?e:{default:e}}t.default=()=>{a.default.component.registerMany({ActionMenu:i.default,Badge:s.default,Button:o.default,BackButton:l.default,TextField:d.default,HiddenField:u.default,DateField:c.default,TimeField:f.default,DatetimeField:p.default,CheckboxField:h.default,CheckboxSetField:m.default,OptionsetField:g.default,GridField:v.default,GridFieldActions:_.default,FieldGroup:D.default,SingleSelectField:b.default,PopoverField:y.default,HeaderField:w.default,LiteralField:O.default,HtmlReadonlyField:C.default,LookupField:E.default,CompositeField:T.default,Tabs:P.default,TabItem:M.default,FormAction:j.default,LabelField:S.default,TreeDropdownField:R.default,Preview:N.default,ReduxForm:F.default,ReduxFormField:r.Field,Form:x.default,FormAlert:A.default,FormBuilderModal:k.default,NotFoundComponent:I.default,UsedOnTable:L.default,Loading:$.default,CircularLoading:U.default,VersionedBadge:B.default,ViewModeToggle:V.default,ResizeAware:W.default,Tag:H.default,TagList:q.default,CompactTagList:z.default,Tip:G.default,Search:K.default,SearchToggle:Y.default,HtmlEditorField:X.default,NumberField:Q.default,PopoverOptionSet:J.default,ToastsContainer:Z.default,ListboxField:ee.default,SearchableDropdownField:te.default})}},24180:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=_(n(54582)),a=n(14890),i=n(11962),s=_(n(18373)),o=_(n(54191)),l=_(n(81951)),d=_(n(20430)),u=_(n(5452)),c=_(n(54558)),f=_(n(80573)),p=_(n(13346)),h=_(n(11146)),m=_(n(32659)),g=_(n(22793)),v=_(n(84231));function _(e){return e&&e.__esModule?e:{default:e}}t.default=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const t=(0,a.combineReducers)({formState:i.reducer,formSchemas:o.default});r.default.reducer.registerMany({config:s.default,form:t,records:l.default,breadcrumbs:d.default,treeDropdownField:u.default,tabs:c.default,mobileMenu:f.default,unsavedForms:p.default,usedOn:h.default,viewMode:g.default,toasts:v.default,...e}),r.default.transform("admin",(e=>{e.reducer("form",m.default)}))}},61534:function(e,t,n){"use strict";n(28432),n(77300),n(12523),n(46844),n(58794),n(91044),n(94033),n(39432),n(10452),n(99324),n(66273),n(62746),n(86673),n(92173),n(65986),n(64482),n(4567),n(77511),n(45970),n(64300),n(16741),n(31968),n(31643),n(63063),n(16089),n(14755),n(50194),n(37386),n(87577),n(43109),n(4193),n(40127),n(44368),n(40256),n(29094),n(60462),n(49841),n(99511),n(14536),n(96582),n(1488),n(69860),n(33281),n(79035),n(8592),n(46508),n(28170),n(53438),n(83361),n(94813),n(72472),n(55488),n(40829),n(47157),n(53877),n(71080),n(37904),n(97976),n(8145),n(87746),n(86317),n(87603),n(59628),n(70184),n(91673),n(60128),n(87872),n(60140),n(57006),n(19602),n(27729),n(54218),n(98441),n(96007),n(43893),n(51865),n(1913),n(88854),n(47640),n(50628),n(62596),n(73843),n(49266),n(95075),n(49958),n(60395),n(41221),n(88615),n(82165),n(56970),n(73366),n(81047),n(87594),n(15878),n(75350),n(8162),n(76406),n(8298),n(40303),n(44686),n(49785),n(13305),n(57893),n(49414),n(42886),n(17106),n(46993),n(27274)},34625:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r,a=(r=n(67294))&&r.__esModule?r:{default:r};t.default=e=>a.default.createElement("div",{className:"accordion",role:"tablist","aria-multiselectable":"true"},e.children)},56448:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r,a=(r=n(67294))&&r.__esModule?r:{default:r};t.default=e=>{const t=`${e.groupid}_Header`,n=`${e.groupid}_Items`,r=n.replace(/\\/g,"_"),i=t.replace(/\\/g,"_"),s={id:r,"aria-expanded":!0,className:"list-group list-group-flush collapse show",role:"tabpanel","aria-labelledby":t};return a.default.createElement("div",{className:"accordion__block"},a.default.createElement("a",{className:"accordion__title","data-toggle":"collapse",href:`#${r}`,"aria-expanded":"true","aria-controls":n,id:i,role:"tab"},e.title),a.default.createElement("div",s,e.children))}},95393:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=d(t);if(n&&n.has(e))return n.get(e);var r={__proto__:null},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var s=a?Object.getOwnPropertyDescriptor(e,i):null;s&&(s.get||s.set)?Object.defineProperty(r,i,s):r[i]=e[i]}return r.default=e,n&&n.set(e,r),r}(n(67294)),a=l(n(45697)),i=n(53556),s=l(n(4754)),o=l(n(93967));function l(e){return e&&e.__esModule?e:{default:e}}function d(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(d=function(e){return e?n:t})(e)}function u(){return u=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},u.apply(this,arguments)}class c extends r.PureComponent{constructor(e){super(e),this.toggle=this.toggle.bind(this),this.state={isOpen:!1}}toggle(e){const{toggleCallback:t}=this.props;t&&t(e),window.setTimeout((()=>this.setState({isOpen:!this.state.isOpen})),0)}render(){const{dropdownToggleProps:e,dropdownMenuProps:t,dropdownToggleClassNames:n,className:a,toggleCallback:l,...d}=this.props,c=(0,o.default)(n,e.className),f=(0,o.default)("action-menu__dropdown",t.className);return r.default.createElement(i.Dropdown,u({className:(0,o.default)("action-menu",a),isOpen:this.state.isOpen,toggle:this.toggle},d),r.default.createElement(i.DropdownToggle,u({className:c,"aria-label":s.default._t("Admin.ACTIONS","View actions")},e)),r.default.createElement(i.DropdownMenu,u({className:f},t),this.props.children))}}c.propTypes={toggleCallback:a.default.func,dropdownToggleClassNames:a.default.arrayOf(a.default.string)},c.defaultProps={className:"",dropdownToggleClassNames:["action-menu__toggle","btn","btn--no-text","btn--icon-xl","font-icon-dot-3"],dropdownToggleProps:{},dropdownMenuProps:{}};t.default=c},37294:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.statuses=t.default=void 0;var r=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=o(t);if(n&&n.has(e))return n.get(e);var r={__proto__:null},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var s=a?Object.getOwnPropertyDescriptor(e,i):null;s&&(s.get||s.set)?Object.defineProperty(r,i,s):r[i]=e[i]}return r.default=e,n&&n.set(e,r),r}(n(67294)),a=s(n(93967)),i=s(n(45697));function s(e){return e&&e.__esModule?e:{default:e}}function o(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(o=function(e){return e?n:t})(e)}const l=t.statuses=["default","info","success","warning","danger","primary","secondary"];class d extends r.PureComponent{render(){const{status:e,inverted:t,className:n,message:i}=this.props;if(!e)return null;const s=t?`badge-${e}--inverted`:"",o=(0,a.default)(n,"badge",`badge-${e}`,s);return r.default.createElement("span",{className:o},i)}}d.propTypes={message:i.default.node,status:i.default.oneOf(l),className:i.default.string,inverted:i.default.bool},d.defaultProps={status:"default",className:"badge-pill",inverted:!1};t.default=d},71691:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.Component=void 0;var r=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=u(t);if(n&&n.has(e))return n.get(e);var r={__proto__:null},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var s=a?Object.getOwnPropertyDescriptor(e,i):null;s&&(s.get||s.set)?Object.defineProperty(r,i,s):r[i]=e[i]}return r.default=e,n&&n.set(e,r),r}(n(67294)),a=n(86706),i=d(n(93967)),s=d(n(45697)),o=d(n(67388)),l=d(n(5257));function d(e){return e&&e.__esModule?e:{default:e}}function u(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(u=function(e){return e?n:t})(e)}class c extends r.Component{getLastCrumb(){return this.props.crumbs&&this.props.crumbs[this.props.crumbs.length-1]}renderBreadcrumbs(){return this.props.crumbs?this.props.crumbs.slice(0,-1).map((e=>r.default.createElement("li",{key:e.text,className:"breadcrumb__item"},r.default.createElement(l.default,{className:"breadcrumb__item-title",href:e.href,onClick:e.onClick},e.text)))):null}renderLastCrumb(){const e=this.getLastCrumb();return e?r.default.createElement("div",{className:"breadcrumb__item breadcrumb__item--last"},r.default.createElement("h2",{className:"breadcrumb__item-title"},e.text,e.icon&&this.renderIcons([e.icon]),e.icons&&this.renderIcons(e.icons))):null}renderIcons(e){return e.map(((e,t)=>{const{nodeName:n,className:a,hasRestrictedAccess:s,...l}=e;let d={...l};const u=(0,i.default)(["breadcrumb__icon",a]);return d={tabIndex:"0",...d},d.hasOwnProperty("onClick")&&(d={role:"button",...d}),d.key=`breadcrumb-icon-${t}`,"FileStatusIcon"===n?(d.fileID=0,d.hasRestrictedAccess=s,d.extraClassName=u,r.default.createElement(o.default,d)):(d.className=u,r.default.createElement("span",d))}))}render(){return r.default.createElement("div",{className:"breadcrumb__container fill-height flexbox-area-grow"},this.props.crumbs&&this.props.crumbs.length>1&&r.default.createElement("div",{className:"breadcrumb__list-container"},r.default.createElement("ol",{className:"breadcrumb"},this.renderBreadcrumbs())),this.renderLastCrumb())}}t.Component=c,c.propTypes={crumbs:s.default.arrayOf(s.default.shape({onClick:s.default.func,text:s.default.string,icon:s.default.shape({nodeName:s.default.string,className:s.default.string,onClick:s.default.func,action:e=>{if(e.action)throw new Error("action: no longer used")}}),icons:s.default.arrayOf(s.default.shape({nodeName:s.default.string,className:s.default.string,onClick:s.default.func}))}))};t.default=(0,a.connect)((function(e){return{crumbs:e.breadcrumbs}}))(c)},45332:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=o(n(67294)),a=o(n(22602)),i=o(n(93967)),s=o(n(4754));function o(e){return e&&e.__esModule?e:{default:e}}function l(){return l=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},l.apply(this,arguments)}const d=e=>{let{className:t,...n}=e;return r.default.createElement(a.default,l({className:(0,i.default)(t,"back-button")},n))};d.propTypes=a.default.propTypes,d.defaultProps={...a.default.defaultProps,noText:!0,icon:"left-open-big",children:s.default._t("Admin.BACK","Back")};t.default=d},22602:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=l(n(67294)),a=n(53556),i=l(n(45697)),s=l(n(93967)),o=l(n(29258));function l(e){return e&&e.__esModule?e:{default:e}}function d(){return d=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},d.apply(this,arguments)}const u=e=>{let{className:t,noText:n,children:i,...o}=e;return r.default.createElement(a.Button,d({className:(0,s.default)(t,{"btn--no-text":n}),"aria-label":n?i:void 0},o),n?void 0:i)};u.propTypes={...a.Button.propTypes,noText:i.default.bool},u.defaultProps={...a.Button.defaultProps,noText:!1};t.default=(0,o.default)(u)},29258:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=s(n(67294)),a=s(n(45697)),i=s(n(93967));function s(e){return e&&e.__esModule?e:{default:e}}function o(){return o=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o.apply(this,arguments)}t.default=e=>{const t=t=>{let{icon:n,className:a,...s}=t;return r.default.createElement(e,o({className:(0,i.default)(a,n&&`font-icon-${n}`)},s))};return t.propTypes={...e.propTypes,icon:a.default.string},t.defaultProps=e.defaultProps,t.displayName=e.name,t}},49954:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.Component=void 0;var r=s(n(67294)),a=s(n(98028)),i=s(n(31885));function s(e){return e&&e.__esModule?e:{default:e}}function o(){return o=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o.apply(this,arguments)}const l=e=>r.default.createElement(i.default,o({},e,{type:"checkbox"}));t.Component=l;t.default=e=>{const t=(0,a.default)(l);return r.default.createElement(t,o({},e,{hideLabels:!0}))}},41370:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.Component=void 0;var r=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=l(t);if(n&&n.has(e))return n.get(e);var r={__proto__:null},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var s=a?Object.getOwnPropertyDescriptor(e,i):null;s&&(s.get||s.set)?Object.defineProperty(r,i,s):r[i]=e[i]}return r.default=e,n&&n.set(e,r),r}(n(67294)),a=o(n(31885)),i=o(n(98028)),s=o(n(45697));function o(e){return e&&e.__esModule?e:{default:e}}function l(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(l=function(e){return e?n:t})(e)}function d(){return d=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},d.apply(this,arguments)}class u extends r.Component{constructor(e){super(e),this.getItemKey=this.getItemKey.bind(this),this.getOptionProps=this.getOptionProps.bind(this),this.handleChange=this.handleChange.bind(this),this.getValues=this.getValues.bind(this)}getItemKey(e,t){return`${this.props.id}-${e.value||`empty${t}`}`}getValues(){let e=this.props.value;return Array.isArray(e)||("string"==typeof e&&(e=e.length?[e]:[]),"number"==typeof e&&(e=[e])),e?e.map((e=>`${e}`)):[]}getOptionProps(e,t){const n=this.getValues(),r=this.getItemKey(e,t);return{key:r,id:r,name:this.props.name,className:this.props.itemClass,disabled:e.disabled||this.props.disabled,readOnly:this.props.readOnly,onChange:this.handleChange,value:n.indexOf(`${e.value}`)>-1,title:e.title,type:"checkbox"}}handleChange(e,t){if("function"==typeof this.props.onChange){const n=this.getValues(),r=this.props.source.filter(((e,r)=>this.getItemKey(e,r)===t.id?1===t.value:n.indexOf(`${e.value}`)>-1)).map((e=>`${e.value}`));this.props.onChange(e,{id:this.props.id,value:r})}}render(){return this.props.source?r.default.createElement("div",null,this.props.source.map(((e,t)=>r.default.createElement(a.default,d({},this.getOptionProps(e,t),{hideLabels:!0}))))):null}}t.Component=u,u.propTypes={className:s.default.string,extraClass:s.default.string,itemClass:s.default.string,id:s.default.string,name:s.default.string.isRequired,source:s.default.arrayOf(s.default.shape({value:s.default.oneOfType([s.default.string,s.default.number]),title:s.default.any,disabled:s.default.bool})),onChange:s.default.func,value:s.default.any,readOnly:s.default.bool,disabled:s.default.bool},u.defaultProps={extraClass:"",className:"",value:[]};t.default=e=>{const t=(0,i.default)(u);return r.default.createElement(t,e)}},82432:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.Component=void 0;var r=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=o(t);if(n&&n.has(e))return n.get(e);var r={__proto__:null},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var s=a?Object.getOwnPropertyDescriptor(e,i):null;s&&(s.get||s.set)?Object.defineProperty(r,i,s):r[i]=e[i]}return r.default=e,n&&n.set(e,r),r}(n(67294)),a=s(n(10259)),i=s(n(45697));function s(e){return e&&e.__esModule?e:{default:e}}function o(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(o=function(e){return e?n:t})(e)}class l extends r.Component{getLegend(){return"fieldset"===this.props.data.tag&&this.props.data.legend?(0,a.default)("legend",this.props.data.legend):null}getClassName(){return`${this.props.className} ${this.props.extraClass}`}render(){const e=this.getLegend(),t=this.props.data.tag||"div",n=this.getClassName();return r.default.createElement(t,{className:n},e,this.props.children)}}t.Component=l,l.propTypes={data:i.default.oneOfType([i.default.array,i.default.shape({tag:i.default.string,legend:i.default.string})]),extraClass:i.default.string},l.defaultProps={className:"",extraClass:""};t.default=l},81463:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.Component=void 0;var r=d(n(98028)),a=d(n(30381)),i=d(n(68300)),s=d(n(4754)),o=d(n(45697)),l=n(74898);function d(e){return e&&e.__esModule?e:{default:e}}class u extends l.Component{render(){return super.render()}moment(){return a.default.locale(this.getLang()),(0,a.default)(...arguments)}getLang(){return(this.asHTML5()?this.props.isoLang:this.props.lang)||(0,a.default)().locale()}asHTML5(){return this.props.data.html5&&this.hasNativeSupport()}hasNativeSupport(){return this.props.modernizr.inputtypes.date}getInputProps(){const e=s.default.inject(s.default._t("Admin.FormatExample","Example: {format}"),{format:this.moment().endOf("month").format("L")}),t=this.asHTML5()?this.props.value:this.getLocalisedValue(),n=this.asHTML5()?"date":"text";return{...super.getInputProps(),type:n,value:t,placeholder:e}}getLocalisedValue(){return this.convertToLocalised(this.props.value)}isMultiline(){return!1}handleChange(e){const t=e.target.value;let n="";n=this.asHTML5()?t:this.convertToIso(t),"function"==typeof this.props.onChange&&this.triggerChange(e,n)}triggerChange(e,t){this.props.onChange(e,{id:this.props.id,value:t})}convertToIso(e){let t="";if(e){const n=this.moment(e,["L","YYYY-MM-DD"]);n.isValid()&&(t=n.format("YYYY-MM-DD"))}return t}convertToLocalised(e){let t="";if(e){const n=this.moment(e);n.isValid()&&(t=n.format("L"))}return t}}t.Component=u,u.propTypes={lang:o.default.string,isoLang:o.default.string,modernizr:o.default.object,data:o.default.shape({html5:o.default.bool})},u.defaultProps={modernizr:i.default,data:{}};t.default=(0,r.default)(u)},79629:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.Component=void 0;var r=o(n(98028)),a=o(n(30381)),i=o(n(4754)),s=n(81463);function o(e){return e&&e.__esModule?e:{default:e}}const l="L LT";class d extends s.Component{getInputProps(){const e=i.default.inject(i.default._t("Admin.FormatExample","Example: {format}"),{format:this.moment().endOf("month").format(l)}),t=this.asHTML5()?"datetime-local":"text";return{...super.getInputProps(),type:t,placeholder:e}}isMultiline(){return!1}hasNativeSupport(){return this.props.modernizr.inputtypes["datetime-local"]}triggerChange(e,t){/^\d{4}-\d\d-\d\dT\d\d:\d\d$/.test(t)?this.props.onChange(e,{id:this.props.id,value:`${t}:00`}):this.props.onChange(e,{id:this.props.id,value:t})}convertToLocalised(e){a.default.locale(this.props.lang);let t="";if(e){const n=this.moment(e);n.isValid()&&(t=n.format(l))}return t}convertToIso(e){a.default.locale(this.props.lang);let t="";if(e){const n=[l,"L",a.default.ISO_8601],r=this.moment(e,n);r.isValid()&&(t=r.format("YYYY-MM-DDTHH:mm:ss"))}return t}}t.Component=d,d.propTypes=s.Component.propTypes,d.defaultProps=s.Component.defaultProps;t.default=(0,r.default)(d)},52935:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=s(n(82432)),a=s(n(45697)),i=s(n(93967));function s(e){return e&&e.__esModule?e:{default:e}}class o extends r.default{getClassName(){return(0,i.default)("field-group-component",{"field-group-component__small-holder":this.props.smallholder},super.getClassName())}}o.propTypes={...r.default.propTypes,smallholder:a.default.bool},o.defaultProps={...r.default.defaultProps,smallholder:!0};t.default=o},98028:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=c(n(67294)),a=n(53556),i=d(n(10259)),s=d(n(93967)),o=d(n(45697)),l=c(n(20164));function d(e){return e&&e.__esModule?e:{default:e}}function u(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(u=function(e){return e?n:t})(e)}function c(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=u(t);if(n&&n.has(e))return n.get(e);var r={__proto__:null},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var s=a?Object.getOwnPropertyDescriptor(e,i):null;s&&(s.get||s.set)?Object.defineProperty(r,i,s):r[i]=e[i]}return r.default=e,n&&n.set(e,r),r}t.default=function(e){class t extends r.Component{getMessage(){let e=null;this.props.message&&this.props.message.value&&(e=this.props.message);const t=this.props.meta;return t&&t.error&&t.touched&&(!e||t.dirty)&&(e=t.error),e}getHolderProps(){return{className:(0,s.default)({field:!0,[this.props.extraClass]:!0,readonly:this.props.readOnly}),id:this.props.holderId}}renderMessage(){const e=this.getMessage();if(!e)return null;const t=(0,s.default)(["form__field-message",`form__field-message--${e.type}`]),n=(0,i.default)("div",e.value);return r.default.createElement("div",{className:t},n)}renderLeftTitle(){const e=this.props.leftTitle?this.props.leftTitle:this.props.title;return!e||this.props.hideLabels?null:(0,i.default)(a.Label,e,{className:"form__field-label",for:this.props.id})}renderRightTitle(){return!this.props.rightTitle||this.props.hideLabels?null:(0,i.default)(a.Label,this.props.rightTitle,{className:"form__field-label",for:this.props.id})}renderField(){const t=Boolean(this.getMessage()),n={...this.props,extraClass:(0,s.default)(this.props.extraClass,{"is-invalid":t})},i=r.default.createElement(e,n),o=this.props.data&&this.props.data.prefix?this.props.data.prefix:"",l=this.props.data&&this.props.data.suffix?this.props.data.suffix:"";return o||l?r.default.createElement(a.InputGroup,null,o&&r.default.createElement(a.InputGroupAddon,{addonType:"prepend"},o),i,l&&r.default.createElement(a.InputGroupAddon,{addonType:"append"},l)):i}renderTitleTip(){return this.props.id&&this.props.titleTip&&this.props.titleTip.content?r.default.createElement(l.default,{id:`FieldHolder-${this.props.id}-titleTip`,content:this.props.titleTip.content,fieldTitle:this.props.title,type:l.TIP_TYPES.TITLE,icon:"menu-help"}):null}renderDescription(){return null===this.props.description?null:(0,i.default)("div",this.props.description,{className:"form__field-description"})}render(){return this.props.noHolder?this.renderField():r.default.createElement(a.FormGroup,this.getHolderProps(),this.renderLeftTitle(),this.renderTitleTip(),r.default.createElement("div",{className:"form__field-holder"},this.renderField(),this.renderMessage(),this.renderDescription()),this.renderRightTitle())}}return t.propTypes={leftTitle:o.default.any,rightTitle:o.default.any,title:o.default.any,extraClass:o.default.string,holderId:o.default.string,id:o.default.string,name:o.default.string,description:o.default.any,hideLabels:o.default.bool,message:o.default.shape({extraClass:o.default.string,value:o.default.any,type:o.default.string}),data:o.default.oneOfType([o.default.array,o.default.shape({prefix:o.default.string,suffix:o.default.string})]),titleTip:o.default.shape(l.tipShape)},t.defaultProps={className:"",extraClass:"",leftTitle:null,rightTitle:null,title:"",description:null,hideLabels:!1,noHolder:!1,message:null,data:{}},t}},67388:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=d(t);if(n&&n.has(e))return n.get(e);var r={__proto__:null},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var s=a?Object.getOwnPropertyDescriptor(e,i):null;s&&(s.get||s.set)?Object.defineProperty(r,i,s):r[i]=e[i]}return r.default=e,n&&n.set(e,r),r}(n(67294)),a=l(n(45697)),i=l(n(4754)),s=l(n(93967)),o=n(53556);function l(e){return e&&e.__esModule?e:{default:e}}function d(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(d=function(e){return e?n:t})(e)}function u(){return u=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},u.apply(this,arguments)}const c="file-status-icon";class f extends r.PureComponent{buildTrackedFormUpload(e){const t=e?"font-icon-address-card":"font-icon-address-card-warning";return{className:(0,s.default)("icon",`${c}__icon`,t),"data-title":e?i.default._t("SilverStripe\\Admin\\FileStatusIcon.TRACKED_FORM_UPLOAD_RESTRICTED","Form submission"):i.default._t("SilverStripe\\Admin\\FileStatusIcon.TRACKED_FORM_UPLOAD_UNRESTRICTED","Form submission, unrestricted access")}}buildRestrictedFileAttrs(){return{className:(0,s.default)("icon",`${c}__icon`,"font-icon-user-lock"),"data-title":i.default._t("SilverStripe\\Admin\\FileStatusIcon.ACCESS_RESTRICTED","Restricted access")}}renderTooltip(e,t,n){return r.default.createElement(o.UncontrolledTooltip,{placement:e,target:t,delay:{show:300,hide:0}},n)}render(){const{fileID:e,hasRestrictedAccess:t,isTrackedFormUpload:n,placement:a,extraClassName:i,disableTooltip:o,includeBackground:l}=this.props;if(!n&&!t)return"";const d=l?"file-status-icon--background":"",f=(0,s.default)([c,d,i]),p=n?this.buildTrackedFormUpload(t):this.buildRestrictedFileAttrs(),h=`FileStatusIcon-${n?"tracked-form-upload":"restricted"}-${e}`,m=o?"":this.renderTooltip(a,h,p["data-title"]);return r.default.createElement("div",{className:f},r.default.createElement("span",u({id:h},p)),m)}}f.propTypes={fileID:a.default.number,hasRestrictedAccess:a.default.bool,isTrackedFormUpload:a.default.bool,placement:a.default.string,disableTooltip:a.default.bool,extraClassName:a.default.string,includeBackground:a.default.bool},f.defaultProps={placement:"auto",disableTooltip:!1};t.default=f},90161:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=s(t);if(n&&n.has(e))return n.get(e);var r={__proto__:null},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var o=a?Object.getOwnPropertyDescriptor(e,i):null;o&&(o.get||o.set)?Object.defineProperty(r,i,o):r[i]=e[i]}return r.default=e,n&&n.set(e,r),r}(n(67294)),i=(r=n(45697))&&r.__esModule?r:{default:r};function s(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(s=function(e){return e?n:t})(e)}class o extends a.Component{constructor(e){super(e),this.wasClicked=!1,this.handleElementClick=this.handleElementClick.bind(this),this.handleDocumentClick=this.handleDocumentClick.bind(this)}componentDidMount(){this.container.addEventListener("click",this.handleElementClick),document.addEventListener("click",this.handleDocumentClick)}componentWillUnmount(){this.container.removeEventListener("click",this.handleElementClick),document.removeEventListener("click",this.handleDocumentClick)}handleElementClick(){this.wasClicked=!0}handleDocumentClick(){this.wasClicked||this.props.onClickOut(),this.wasClicked=!1}render(){return a.default.createElement("div",{className:this.props.className,ref:e=>{this.container=e}},this.props.children)}}o.propTypes={children:i.default.any,className:i.default.string,onClickOut:i.default.func.isRequired},o.defaultProps={className:""};t.default=o},65963:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.Component=void 0;var r=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=o(t);if(n&&n.has(e))return n.get(e);var r={__proto__:null},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var s=a?Object.getOwnPropertyDescriptor(e,i):null;s&&(s.get||s.set)?Object.defineProperty(r,i,s):r[i]=e[i]}return r.default=e,n&&n.set(e,r),r}(n(67294)),a=s(n(23296)),i=s(n(45697));function s(e){return e&&e.__esModule?e:{default:e}}function o(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(o=function(e){return e?n:t})(e)}function l(){return l=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},l.apply(this,arguments)}class d extends r.Component{componentDidMount(){if(this.props.autoFocus&&this.form){const e=this.form.querySelector("input:not([type=hidden]), select, textarea");e&&(e.focus(),e.select&&e.select())}}renderMessages(){const{FormAlertComponent:e}=this.props;return Array.isArray(this.props.messages)?this.props.messages.map(((t,n)=>r.default.createElement(e,l({key:n,className:n?"":"message-box--panel-top"},t)))):null}render(){const e=!1!==this.props.valid,t=this.props.mapFieldsToComponents(this.props.fields),n=this.props.mapActionsToComponents(this.props.actions),a=this.renderMessages(),i=this.props.formTag,s=["form"];!1===e&&s.push("form--invalid"),this.props.attributes&&this.props.attributes.className&&s.push(this.props.attributes.className);const o={...this.props.attributes,onSubmit:this.props.handleSubmit,className:s.join(" ")};return r.default.createElement(i,l({},o,{ref:e=>{this.form=e,this.props.setDOM(e)},role:"form"}),t&&r.default.createElement("fieldset",this.props.fieldHolder,a,this.props.afterMessages,t),n&&n.length?r.default.createElement("div",this.props.actionHolder,n):null)}}t.Component=d,d.propTypes={autoFocus:i.default.bool,setDOM:i.default.func,valid:i.default.bool,actions:i.default.array,fieldHolder:i.default.shape({className:i.default.string}),actionHolder:i.default.shape({className:i.default.string}),extraClass:i.default.string,afterMessages:i.default.node,attributes:i.default.shape({action:i.default.string.isRequired,className:i.default.string,encType:i.default.string,id:i.default.string,method:i.default.string.isRequired}),fields:i.default.array.isRequired,handleSubmit:i.default.func,mapActionsToComponents:i.default.func.isRequired,mapFieldsToComponents:i.default.func.isRequired,messages:i.default.arrayOf(i.default.shape({extraClass:i.default.string,value:i.default.any,type:i.default.string})),formTag:i.default.oneOfType([i.default.func,i.default.string]),FormAlertComponent:i.default.oneOfType([i.default.object,i.default.func])},d.defaultProps={setDOM:()=>null,formTag:"form",actionHolder:{className:"btn-toolbar"},FormAlertComponent:a.default};t.default=d},430:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;t.default={CSRF_HEADER:"X-SecurityID"}},59644:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=l(t);if(n&&n.has(e))return n.get(e);var r={__proto__:null},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var s=a?Object.getOwnPropertyDescriptor(e,i):null;s&&(s.get||s.set)?Object.defineProperty(r,i,s):r[i]=e[i]}return r.default=e,n&&n.set(e,r),r}(n(67294)),a=o(n(10259)),i=o(n(93967)),s=o(n(45697));function o(e){return e&&e.__esModule?e:{default:e}}function l(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(l=function(e){return e?n:t})(e)}class d extends r.Component{constructor(e){super(e),this.handleClick=this.handleClick.bind(this)}getButtonProps(){const{attributes:e,id:t,name:n}=this.props;return{...void 0===e?{}:e,id:t,name:n,className:this.getButtonClasses(),disabled:this.isDisabled(),onClick:this.handleClick}}getButtonClasses(){const{title:e,loading:t,extraClass:n}=this.props,r={btn:!0,"btn--no-text":"string"!=typeof e,"btn--loading":t,disabled:this.isDisabled()},a=this.getButtonStyle();a&&(r[`btn-${a}`]=!0);const s=this.getIcon();return s&&(r[`font-icon-${s}`]=!0),"string"==typeof n&&(r[n]=!0),(0,i.default)(r)}getButtonStyle(){if(void 0!==this.props.data.buttonStyle)return this.props.data.buttonStyle;if(void 0!==this.props.buttonStyle)return this.props.buttonStyle;return this.props.extraClass.split(" ").find((e=>e.indexOf("btn-")>-1))?null:this.isPrimary()?"primary":"secondary"}getIcon(){return this.props.icon||this.props.data.icon||null}getLoadingIcon(){return this.props.loading?r.default.createElement("div",{className:"btn__loading-icon"},r.default.createElement("span",{className:"btn__circle btn__circle--1"}),r.default.createElement("span",{className:"btn__circle btn__circle--2"}),r.default.createElement("span",{className:"btn__circle btn__circle--3"})):null}isDisabled(){const{disabled:e,readOnly:t}=this.props;return e||t}isPrimary(){const{extraClass:e,name:t}=this.props,n=e?e.split(" "):[];return"action_save"===t||!!n.find((e=>"ss-ui-action-constructive"===e))}handleClick(e){"function"==typeof this.props.onClick&&this.props.onClick(e,this.props.name||this.props.id)}render(){const{title:e}=this.props;return r.default.createElement("button",this.getButtonProps(),this.getLoadingIcon(),(0,a.default)("span",e,{className:"btn__title"}))}}d.propTypes={id:s.default.string,name:s.default.string,onClick:s.default.func,title:s.default.string,type:s.default.string,loading:s.default.bool,icon:s.default.string,disabled:s.default.bool,readOnly:s.default.bool,data:s.default.oneOfType([s.default.array,s.default.shape({buttonStyle:s.default.string})]),extraClass:s.default.string,attributes:s.default.object},d.defaultProps={title:"",icon:"",extraClass:"",attributes:{},data:{},disabled:!1,readOnly:!1};t.default=d},23296:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=d(t);if(n&&n.has(e))return n.get(e);var r={__proto__:null},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var s=a?Object.getOwnPropertyDescriptor(e,i):null;s&&(s.get||s.set)?Object.defineProperty(r,i,s):r[i]=e[i]}return r.default=e,n&&n.set(e,r),r}(n(67294)),a=n(53556),i=l(n(10259)),s=l(n(93967)),o=l(n(45697));function l(e){return e&&e.__esModule?e:{default:e}}function d(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(d=function(e){return e?n:t})(e)}class u extends r.Component{constructor(e){super(e),this.handleClosed=this.handleClosed.bind(this),this.state={visible:!0}}getMessageStyle(){switch(this.props.type){case"good":case"success":return"success";case"info":return"info";case"warn":case"warning":return"warning";default:return"danger"}}getMessageProps(){const e=this.props.type||"no-type";return{className:(0,s.default)(["message-box",`message-box--${e}`,this.props.className,this.props.extraClass]),color:this.getMessageStyle(),toggle:this.props.closeLabel?this.handleClosed:null,isOpen:!this.props.closeLabel||this.state.visible}}handleClosed(){"function"==typeof this.props.onClosed?this.props.onClosed():this.setState({visible:!1})}render(){if("boolean"!=typeof this.props.visible&&this.state.visible||this.props.visible){const e=(0,i.default)("div",this.props.value);if(e)return r.default.createElement(a.Alert,this.getMessageProps(),e)}return null}}u.propTypes={extraClass:o.default.string,value:o.default.any,type:o.default.string,onClosed:o.default.func,closeLabel:o.default.string,visible:o.default.bool},u.defaultProps={extraClass:"",className:""};t.default=u},56334:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.schemaPropType=t.default=t.basePropTypes=t.Component=void 0;var r=f(n(67294)),a=u(n(45697)),i=u(n(21965)),s=f(n(48834)),o=n(48942),l=u(n(1591)),d=n(54582);function u(e){return e&&e.__esModule?e:{default:e}}function c(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(c=function(e){return e?n:t})(e)}function f(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=c(t);if(n&&n.has(e))return n.get(e);var r={__proto__:null},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var s=a?Object.getOwnPropertyDescriptor(e,i):null;s&&(s.get||s.set)?Object.defineProperty(r,i,s):r[i]=e[i]}return r.default=e,n&&n.set(e,r),r}function p(){return p=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},p.apply(this,arguments)}class h extends r.Component{constructor(e){super(e);const t=e.schema.schema;this.state={submittingAction:null},this.submitApi=l.default.createEndpointFetcher({url:t.attributes.action,method:t.attributes.method}),this.mapActionsToComponents=this.mapActionsToComponents.bind(this),this.mapFieldsToComponents=this.mapFieldsToComponents.bind(this),this.handleSubmit=this.handleSubmit.bind(this),this.handleAction=this.handleAction.bind(this),this.buildComponent=this.buildComponent.bind(this),this.validateForm=this.validateForm.bind(this)}getComponent(e){let{name:t,schemaComponent:n,schemaType:r}=e;const{identifier:a,getCustomFields:i}=this.props;if(i){const e=i(r,`${a}.${t}`);if(e)return e}return null!==n?this.context.injector.get(n,`${a}.${t}`):this.getComponentForDataType(r,t)}getComponentForDataType(e,t){const{identifier:n}=this.props,r=e=>this.context.injector.get(e,`${n}.${t}`);switch(e){case"Integer":case"Decimal":return r("NumberField");case"String":case"Text":return r("TextField");case"Date":return r("DateField");case"Time":return r("TimeField");case"Datetime":return r("DatetimeField");case"Hidden":return r("HiddenField");case"SingleSelect":return r("SingleSelectField");case"Custom":return r("GridField");case"Structural":return r("CompositeField");case"Boolean":return r("CheckboxField");case"MultiSelect":return r("CheckboxSetField");default:return null}}validateForm(e){if("function"==typeof this.props.validate)return this.props.validate(e);if(!(this.props.schema&&this.props.schema.schema))return{};const t=this.context.injector.validate(this.props.identifier);let n={};return t&&(n=t(e,this.props.schema.schema)||{}),(0,o.createErrorBlock)(n)}buildComponent(e){const t=e.input||{},n={...e,...e.input,onChange:t.onChange?(e,n)=>{t.onChange(n?n.value:e)}:null};delete n.input;const a=this.getComponent(n);if(null===a)return null;if(null!==n.schemaComponent&&void 0===a)throw Error(`Component not found in injector: ${n.schemaComponent}`);const i=this.props.createFn;return"function"==typeof i?i(a,n):r.default.createElement(a,p({key:n.id},n))}mapFieldsToComponents(e){const t=this.props.baseFieldComponent;return e.map((e=>{let n=e;return e.children&&(n=Object.assign({},e,{children:this.mapFieldsToComponents(e.children)})),n=Object.assign({onAutofill:this.props.onAutofill,formid:this.props.form},n),"Structural"===e.schemaType||!0===e.readOnly?this.buildComponent(n):r.default.createElement(t,p({key:n.id},n,{component:this.buildComponent}))}))}handleAction(e){"function"==typeof this.props.onAction&&this.props.onAction(e,this.props.values),e.isPropagationStopped()||this.setState({submittingAction:e.currentTarget.name})}handleSubmit(e){let t="";this.state.submittingAction?t=this.state.submittingAction:this.props.schema.schema.actions[0]&&(t=this.props.schema.schema.actions[0].name);const n=Object.assign({},e,t?{[t]:1}:{}),r={"X-Formschema-Request":this.props.responseRequestedSchema.join(),"X-Requested-With":"XMLHttpRequest"},a=e=>this.submitApi(e||n,r).then((e=>(this.setState({submittingAction:null}),e))).catch((e=>{throw this.setState({submittingAction:null}),e}));return"function"==typeof this.props.onSubmit?this.props.onSubmit(n,t,a):a()}mapActionsToComponents(e){return e.map((e=>{const t=Object.assign({},e);return e.children?t.children=this.mapActionsToComponents(e.children):(t.onClick=this.handleAction,this.props.submitting&&this.state.submittingAction===e.name&&(t.loading=!0)),this.buildComponent(t)}))}normalizeFields(e,t){return e.map((e=>{const n=t&&t.fields?t.fields.find((t=>t.id===e.id)):{},r=i.default.recursive(!0,(0,s.schemaMerge)(e,n),{schemaComponent:n&&n.component?n.component:e.component});return e.children&&(r.children=this.normalizeFields(e.children,t)),r}))}render(){const e=this.props.schema.schema,t=this.props.schema.state,n=this.props.baseFormComponent,a={...e.attributes,className:e.attributes.class,encType:e.attributes.enctype,noValidate:!0};delete a.class,delete a.enctype;const{asyncValidate:i,fieldHolder:o,actionHolder:l,onSubmitFail:d,onSubmitSuccess:u,shouldAsyncValidate:c,touchOnBlur:f,touchOnChange:p,persistentSubmitErrors:h,form:m,afterMessages:g,autoFocus:v,formTag:_}=this.props,b={form:m,afterMessages:g,fields:this.normalizeFields(e.fields,t),fieldHolder:o,actions:this.normalizeFields(e.actions,t),actionHolder:l,attributes:a,data:e.data,initialValues:(0,s.default)(e,t),onSubmit:this.handleSubmit,valid:t&&t.valid,messages:t&&Array.isArray(t.messages)?t.messages:[],mapActionsToComponents:this.mapActionsToComponents,mapFieldsToComponents:this.mapFieldsToComponents,asyncValidate:i,onSubmitFail:d,onSubmitSuccess:u,shouldAsyncValidate:c,touchOnBlur:f,touchOnChange:p,persistentSubmitErrors:h,validate:this.validateForm,autoFocus:v,setDOM:e=>{this.formDOM=e},formTag:_};return r.default.createElement(n,b)}}t.Component=h;const m=t.schemaPropType=a.default.shape({id:a.default.string,schema:a.default.shape({attributes:a.default.shape({class:a.default.string,enctype:a.default.string}),fields:a.default.array.isRequired}),state:a.default.shape({fields:a.default.array}),loading:a.default.bool,stateOverride:a.default.shape({fields:a.default.array})}),g=t.basePropTypes={createFn:a.default.func,onSubmit:a.default.func,onAction:a.default.func,asyncValidate:a.default.func,onSubmitFail:a.default.func,onSubmitSuccess:a.default.func,shouldAsyncValidate:a.default.func,touchOnBlur:a.default.bool,touchOnChange:a.default.bool,persistentSubmitErrors:a.default.bool,validate:a.default.func,values:a.default.object,submitting:a.default.bool,baseFormComponent:a.default.elementType.isRequired,baseFieldComponent:a.default.elementType.isRequired,getCustomFields:a.default.func,responseRequestedSchema:a.default.arrayOf(a.default.oneOf(["schema","state","errors","auto"])),identifier(e,t,n){return/^[A-Za-z0-9_.]+$/.test(e[t])?null:new Error(`\n        Invalid identifier supplied to ${n}. Must be a set of\n        dot-separated alphanumeric strings.\n      `)}};h.propTypes=Object.assign({},g,{form:a.default.string.isRequired,schema:m.isRequired,autoFocus:a.default.bool}),h.defaultProps={responseRequestedSchema:["auto"],autoFocus:!1};t.default=(0,d.withInjector)(h)},48297:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=u(t);if(n&&n.has(e))return n.get(e);var r={__proto__:null},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var s=a?Object.getOwnPropertyDescriptor(e,i):null;s&&(s.get||s.set)?Object.defineProperty(r,i,s):r[i]=e[i]}return r.default=e,n&&n.set(e,r),r}(n(67294)),a=d(n(16304)),i=d(n(10259)),s=d(n(93967)),o=d(n(45697)),l=d(n(97399));function d(e){return e&&e.__esModule?e:{default:e}}function u(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(u=function(e){return e?n:t})(e)}const c=()=>null;class f extends r.Component{constructor(e){super(e),this.handleSubmit=this.handleSubmit.bind(this),this.handleHide=this.handleHide.bind(this),this.clearResponse=this.clearResponse.bind(this),this.handleLoadingError=this.handleLoadingError.bind(this)}getForm(){const{FormBuilderLoaderComponent:e}=this.props;return this.props.schemaUrl?r.default.createElement(e,{fieldHolder:{className:(0,s.default)("modal-body",this.props.bodyClassName)},actionHolder:{className:"modal-footer"},autoFocus:this.props.autoFocus,schemaUrl:this.props.schemaUrl,onSubmit:this.handleSubmit,onAction:this.props.onAction,onLoadingError:this.handleLoadingError,identifier:this.props.identifier}):null}getResponse(){if(!this.state||!this.state.response)return null;let e="";return e=this.state.error?this.props.responseClassBad:this.props.responseClassGood,r.default.createElement("div",{className:e},(0,i.default)("span",{html:this.state.response}))}clearResponse(){this.setState({response:null})}handleLoadingError(e){const t=this.props.onLoadingError!==c;if(this.props.showErrorMessage||!t){const t=e.errors&&e.errors[0];this.setState({response:t.value,error:!0})}t&&this.props.onLoadingError(e)}handleHide(){this.clearResponse(),"function"==typeof this.props.onClosed&&this.props.onClosed()}handleSubmit(e,t,n){this.clearResponse();let r=null;if(r="function"==typeof this.props.onSubmit?this.props.onSubmit(e,t,n):n(),!r)throw new Error("Promise was not returned for submitting");return r.then((e=>(e&&this.setState({response:e.message,error:!1}),e))).catch((e=>{e.then((e=>{this.setState({response:e,error:!0})}))})),r}render(){const e=this.getForm(),t=this.getResponse();return r.default.createElement(l.default,{onClosed:this.props.handleHide,isOpen:this.props.isOpen,toggle:this.handleHide,className:this.props.className,modalClassName:this.props.modalClassName,size:this.props.size,ModalComponent:this.props.ModalComponent,ModalHeaderComponent:this.props.ModalHeaderComponent,title:this.props.title,showCloseButton:this.props.showCloseButton},t,e,this.props.children)}}f.propTypes={autoFocus:o.default.bool,isOpen:o.default.bool,title:o.default.oneOfType([o.default.string,o.default.bool,o.default.shape({html:o.default.string})]),className:o.default.string,bodyClassName:o.default.string,modalClassName:o.default.string,showCloseButton:o.default.bool,size:o.default.string,onClosed:o.default.func,schemaUrl:o.default.string,onSubmit:o.default.func,onAction:o.default.func,responseClassGood:o.default.string,responseClassBad:o.default.string,identifier:o.default.string,showErrorMessage:o.default.bool,onLoadingError:o.default.func,ModalComponent:o.default.oneOfType([o.default.object,o.default.func]),ModalHeaderComponent:o.default.oneOfType([o.default.object,o.default.func]),FormBuilderLoaderComponent:o.default.oneOfType([o.default.object,o.default.func])},f.defaultProps={showErrorMessage:!1,showCloseButton:!0,onLoadingError:c,isOpen:!1,title:null,modalClassName:"form-builder-modal",responseClassGood:"alert alert-success",responseClassBad:"alert alert-danger",FormBuilderLoaderComponent:a.default};t.default=f},88940:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=b(n(67294)),a=v(n(4754)),i=n(14890),s=n(86706),o=v(n(430)),l=b(n(30772)),d=v(n(10259)),u=v(n(45697)),c=v(n(59746)),f=v(n(73542)),p=v(n(84002)),h=v(n(58227)),m=v(n(18052)),g=v(n(13527));function v(e){return e&&e.__esModule?e:{default:e}}function _(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(_=function(e){return e?n:t})(e)}function b(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=_(t);if(n&&n.has(e))return n.get(e);var r={__proto__:null},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var s=a?Object.getOwnPropertyDescriptor(e,i):null;s&&(s.get||s.set)?Object.defineProperty(r,i,s):r[i]=e[i]}return r.default=e,n&&n.set(e,r),r}const y=[];class w extends r.Component{constructor(e){super(e),this.deleteRecord=this.deleteRecord.bind(this),this.editRecord=this.editRecord.bind(this)}componentDidMount(){const e=this.props.data;this.props.actions.fetchRecords(e.recordType,e.collectionReadEndpoint.method,e.collectionReadEndpoint.url)}createRowActions(e){return r.default.createElement(m.default,{className:"grid-field__cell--actions",key:"Actions"},r.default.createElement(g.default,{icon:"cog",onClick:this.editRecord,record:e}),r.default.createElement(g.default,{icon:"cancel",onClick:this.deleteRecord,record:e}))}createCell(e,t){const n=this.props.data.onDrillDown,r={className:n?"grid-field__cell--drillable":"",onDrillDown:n?t=>n(t,e):null,key:`${t.name}`,width:t.width},a=t.field.split(".").reduce(((e,t)=>e[t]),e);return(0,d.default)(m.default,a,r)}createRow(e){const t={className:this.props.data.onDrillDown?"grid-field__row--drillable":"",key:`${e.ID}`},n=this.props.data.columns.map((t=>this.createCell(e,t))),a=this.createRowActions(e);return r.default.createElement(h.default,t,n,a)}deleteRecord(e,t){e.preventDefault();const n={};n[o.default.CSRF_HEADER]=this.props.config.SecurityID,confirm(a.default._t("CampaignAdmin.DELETECAMPAIGN","Are you sure you want to delete this record?"))&&this.props.actions.deleteRecord(this.props.data.recordType,t,this.props.data.itemDeleteEndpoint.method,this.props.data.itemDeleteEndpoint.url,n)}editRecord(e,t){e.preventDefault(),this.props.data&&"function"==typeof this.props.data.onEditRecord&&this.props.data.onEditRecord(e,t)}render(){if(this.props.records===y)return r.default.createElement("div",null,a.default._t("CampaignAdmin.LOADING","Loading..."));if(!this.props.records.length)return r.default.createElement("div",null,a.default._t("CampaignAdmin.NO_RECORDS","No campaigns created yet."));const e=r.default.createElement("th",{key:"holder",className:"grid-field__action-placeholder"}),t=this.props.data.columns.map((e=>r.default.createElement(p.default,{key:e.name},e.name))),n=r.default.createElement(f.default,null,t.concat(e)),i=this.props.records.map((e=>this.createRow(e)));return r.default.createElement(c.default,{header:n,rows:i})}}w.propTypes={data:u.default.shape({recordType:u.default.string.isRequired,headerColumns:u.default.array,collectionReadEndpoint:u.default.object,onDrillDown:u.default.func,onEditRecord:u.default.func})};t.default=(0,s.connect)((function(e,t){const n=t.data&&t.data.recordType;return{config:e.config,records:n&&e.records[n]?e.records[n]:y}}),(function(e){return{actions:(0,i.bindActionCreators)(l,e)}}))(w)},13527:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=s(t);if(n&&n.has(e))return n.get(e);var r={__proto__:null},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var o=a?Object.getOwnPropertyDescriptor(e,i):null;o&&(o.get||o.set)?Object.defineProperty(r,i,o):r[i]=e[i]}return r.default=e,n&&n.set(e,r),r}(n(67294)),i=(r=n(45697))&&r.__esModule?r:{default:r};function s(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(s=function(e){return e?n:t})(e)}class o extends a.Component{constructor(e){super(e),this.handleClick=this.handleClick.bind(this)}handleClick(e){this.props.onClick(e,this.props.record.ID)}render(){return a.default.createElement("button",{className:`grid-field__icon-action font-icon-${this.props.icon} btn--icon-lg`,onClick:this.handleClick})}}o.propTypes={onClick:i.default.func.isRequired};t.default=o},18052:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=o(t);if(n&&n.has(e))return n.get(e);var r={__proto__:null},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var s=a?Object.getOwnPropertyDescriptor(e,i):null;s&&(s.get||s.set)?Object.defineProperty(r,i,s):r[i]=e[i]}return r.default=e,n&&n.set(e,r),r}(n(67294)),a=s(n(93967)),i=s(n(45697));function s(e){return e&&e.__esModule?e:{default:e}}function o(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(o=function(e){return e?n:t})(e)}function l(){return l=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},l.apply(this,arguments)}class d extends r.Component{constructor(e){super(e),this.handleDrillDown=this.handleDrillDown.bind(this)}handleDrillDown(e){"function"==typeof this.props.onDrillDown&&this.props.onDrillDown(e)}render(){const e=["grid-field__cell",this.props.className],{onDrillDown:t,...n}=this.props;return r.default.createElement("td",l({},n,{className:(0,a.default)(e),onClick:this.handleDrillDown}))}}d.propTypes={className:i.default.string,onDrillDown:i.default.func};t.default=d},73542:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(n(67294)),a=i(n(58227));function i(e){return e&&e.__esModule?e:{default:e}}t.default=e=>r.default.createElement(a.default,null,e.children)},84002:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r,a=(r=n(67294))&&r.__esModule?r:{default:r};t.default=e=>a.default.createElement("th",null,e.children)},58227:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r,a=(r=n(67294))&&r.__esModule?r:{default:r};t.default=e=>{const t=`grid-field__row ${e.className}`;return a.default.createElement("tr",{tabIndex:0,className:t},e.children)}},59746:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=s(t);if(n&&n.has(e))return n.get(e);var r={__proto__:null},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var o=a?Object.getOwnPropertyDescriptor(e,i):null;o&&(o.get||o.set)?Object.defineProperty(r,i,o):r[i]=e[i]}return r.default=e,n&&n.set(e,r),r}(n(67294)),i=(r=n(45697))&&r.__esModule?r:{default:r};function s(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(s=function(e){return e?n:t})(e)}class o extends a.Component{generateHeader(){return void 0!==this.props.header?this.props.header:null}generateRows(){return void 0!==this.props.rows?this.props.rows:null}render(){return a.default.createElement("div",{className:"grid-field"},a.default.createElement("table",{className:"table table-hover grid-field__table"},a.default.createElement("thead",null,this.generateHeader()),a.default.createElement("tbody",null,this.generateRows())))}}o.propTypes={header:i.default.object,rows:i.default.array};t.default=o},71375:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=u(t);if(n&&n.has(e))return n.get(e);var r={__proto__:null},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var s=a?Object.getOwnPropertyDescriptor(e,i):null;s&&(s.get||s.set)?Object.defineProperty(r,i,s):r[i]=e[i]}return r.default=e,n&&n.set(e,r),r}(n(67294)),a=n(53556),i=d(n(93967)),s=d(n(45697)),o=d(n(86010)),l=d(n(95393));function d(e){return e&&e.__esModule?e:{default:e}}function u(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(u=function(e){return e?n:t})(e)}class c extends r.PureComponent{renderMultipleActions(e){const t=e.reduce(((e,t)=>{const n=e,r=t.group;if(!r)throw new Error(`Action: "${t.title}" has no group assigned`);return n[r]||(n[r]=[]),n[r].push(t),n}),[]);return r.default.createElement(l.default,{dropdownMenuProps:{right:!0},dropdownToggleClassNames:["action-menu__toggle","btn","btn--no-text","btn-sm","font-icon-dot-3"]},Object.keys(t).map(((e,n)=>[0!==n&&r.default.createElement(a.DropdownItem,{divider:!0,key:e}),t[e].map(((e,t)=>r.default.createElement(o.default,{data:e.data,title:e.title,type:e.type,url:e.url,key:t})))])))}renderSingleAction(e){const{type:t,title:n,data:s}=e;let o,{url:l}=e;"submit"===t&&(o="submit",l=void 0);const d=(0,i.default)("action",s.classNames);return r.default.createElement(a.Button,{className:d,type:o,href:l,"data-url":s["data-url"],"data-action-state":s["data-action-state"],name:s.name,color:"secondary"},n)}render(){const{schema:e}=this.props;return e.length>1?this.renderMultipleActions(e):1===e.length?this.renderSingleAction(e[0]):null}}const f=o.default.propTypes;f.group=s.default.string,c.propTypes=s.default.arrayOf(s.default.shape(f)).isRequired;t.default=c},86010:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=l(t);if(n&&n.has(e))return n.get(e);var r={__proto__:null},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var s=a?Object.getOwnPropertyDescriptor(e,i):null;s&&(s.get||s.set)?Object.defineProperty(r,i,s):r[i]=e[i]}return r.default=e,n&&n.set(e,r),r}(n(67294)),a=n(53556),i=o(n(93967)),s=o(n(45697));function o(e){return e&&e.__esModule?e:{default:e}}function l(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(l=function(e){return e?n:t})(e)}class d extends r.PureComponent{render(){const{type:e,title:t,data:n}=this.props;let{url:s}=this.props;const o=(0,i.default)("action",n.classNames);let l=null;switch(e){case"submit":case"button":l="button",s=void 0;break;case"link":l="a";break;default:l=void 0}return r.default.createElement(a.DropdownItem,{className:o,href:s,tag:l,type:"button"===l?"button":void 0,"data-url":n["data-url"],"data-action-state":n["data-action-state"],name:n.name},t)}}d.propTypes={data:s.default.object,title:s.default.string.isRequired,type:s.default.oneOf(["submit","link"]),url:s.default.string};t.default=d},65732:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=s(n(67294)),a=s(n(45697)),i=s(n(93967));function s(e){return e&&e.__esModule?e:{default:e}}function o(e){let{className:t,extraClass:n,id:a,data:{headingLevel:s,title:o}}=e;const l=`h${s||3}`;return r.default.createElement("div",{className:"field"},r.default.createElement(l,{className:(0,i.default)(t,n),id:a},o))}o.propTypes={className:a.default.string,extraClass:a.default.string,id:a.default.string,data:a.default.oneOfType([a.default.array,a.default.shape({headingLevel:a.default.number,title:a.default.string})]).isRequired},o.defaultProps={className:"",extraClass:""};t.default=o},19423:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=l(t);if(n&&n.has(e))return n.get(e);var r={__proto__:null},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var s=a?Object.getOwnPropertyDescriptor(e,i):null;s&&(s.get||s.set)?Object.defineProperty(r,i,s):r[i]=e[i]}return r.default=e,n&&n.set(e,r),r}(n(67294)),a=n(53556),i=o(n(93967)),s=o(n(45697));function o(e){return e&&e.__esModule?e:{default:e}}function l(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(l=function(e){return e?n:t})(e)}class d extends r.Component{getInputProps(){return{className:(0,i.default)(this.props.className,this.props.extraClass),id:this.props.id,name:this.props.name,type:"hidden",value:this.props.value||""}}render(){return r.default.createElement(a.Input,this.getInputProps())}}d.propTypes={id:s.default.string,extraClass:s.default.string,name:s.default.string.isRequired,value:s.default.any},d.defaultProps={className:"",extraClass:"",value:""};t.default=d},1922:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.Component=void 0;var r=o(n(67294)),a=o(n(69227)),i=n(74898),s=o(n(98028));function o(e){return e&&e.__esModule?e:{default:e}}n(51726);class l extends i.Component{constructor(e){super(e),this.state={isReady:!e.data.editorjs},this.inputRef=null,this.handleReady=this.handleReady.bind(this)}getInputProps(){return{...super.getInputProps(),...this.props.data.attributes,innerRef:e=>{this.inputRef=e}}}getEditorElement(){return document.getElementById(this.getInputProps().id)}getEditor(){return window.TinyMCE&&window.TinyMCE.get(this.getInputProps().id)}handleReady(){!window.TinyMCE&&window.tinymce&&(window.TinyMCE=window.tinymce),this.setState({isReady:!0})}registerChangeListener(){const e=this.getEditorElement();this.getEditor().on("change keyup setcontent",(()=>{super.handleChange({target:e})}))}renderDependencyScript(){return window.tinymce||window.TinyMCE?(setTimeout((()=>{this.handleReady()}),0),null):r.default.createElement(a.default,{url:this.props.data.editorjs,onLoad:this.handleReady})}render(){return this.state.isReady?super.render():this.renderDependencyScript()}componentDidUpdate(e,t){const{isReady:n}=this.state;if(!n)return;n!==t.isReady&&setTimeout((()=>{const{document:e,jQuery:t}=window,n=t?t.Event("EntwineElementsAdded"):new Event("noop"),r=this.getEditorElement();n.targets=[r],t&&t(e).triggerHandler(n),this.registerChangeListener()}),1);const{value:r}=this.props;if(r!==e.value){const e=new Event("change",{bubbles:!0});e.simulated=!0,e.value=r,this.inputRef.dispatchEvent(e)}}componentWillUnmount(){if(!this.state.isReady)return;const{document:e,jQuery:t}=window,n=t?t.Event("EntwineElementsRemoved"):new Event("noop"),r=this.getEditorElement(),a=this.getEditor();a&&a.save(),n.targets=[r],super.handleChange({target:r}),t&&t(e).triggerHandler(n)}}t.Component=l;t.default=(0,s.default)(l)},26055:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.Component=void 0;var r=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=l(t);if(n&&n.has(e))return n.get(e);var r={__proto__:null},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var s=a?Object.getOwnPropertyDescriptor(e,i):null;s&&(s.get||s.set)?Object.defineProperty(r,i,s):r[i]=e[i]}return r.default=e,n&&n.set(e,r),r}(n(67294)),a=o(n(98028)),i=n(53556),s=o(n(45697));function o(e){return e&&e.__esModule?e:{default:e}}function l(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(l=function(e){return e?n:t})(e)}function d(){return d=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},d.apply(this,arguments)}class u extends r.Component{getInputProps(){return{className:`${this.props.className} ${this.props.extraClass}`,id:this.props.id,name:this.props.name}}render(){return r.default.createElement(i.Input,d({plaintext:!0,tag:"p",dangerouslySetInnerHTML:{__html:this.props.value}},this.getInputProps()))}}t.Component=u,u.propTypes={id:s.default.string,name:s.default.string.isRequired,extraClass:s.default.string,value:s.default.string},u.defaultProps={extraClass:"",className:""};t.default=(0,a.default)(u)},28788:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=l(t);if(n&&n.has(e))return n.get(e);var r={__proto__:null},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var s=a?Object.getOwnPropertyDescriptor(e,i):null;s&&(s.get||s.set)?Object.defineProperty(r,i,s):r[i]=e[i]}return r.default=e,n&&n.set(e,r),r}(n(67294)),a=n(53556),i=o(n(93967)),s=o(n(45697));function o(e){return e&&e.__esModule?e:{default:e}}function l(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(l=function(e){return e?n:t})(e)}class d extends r.Component{constructor(e){super(e),this.handleClosed=this.handleClosed.bind(this)}handleClosed(){"function"==typeof this.props.onClosed&&this.props.onClosed()}renderHeader(){const e=this.props.title;return e?r.default.createElement(a.ModalHeader,{toggle:this.handleClosed},e):null}render(){return r.default.createElement(a.Modal,{isOpen:this.props.isOpen,onClosed:this.handleClosed,className:(0,i.default)("iframe-dialog",this.props.className),modalClassName:this.props.modalClassName},this.renderHeader(),r.default.createElement(a.ModalBody,{className:this.props.bodyClassName},r.default.createElement("iframe",{id:this.props.iframeId,className:(0,i.default)("iframe-dialog__iframe",this.props.iframeClassName),src:this.props.url,frameBorder:0})))}}d.propTypes={url:s.default.string.isRequired,onClosed:s.default.func,isOpen:s.default.bool,title:s.default.oneOfType([s.default.string,s.default.bool]),modalClassName:s.default.string,iframeId:s.default.string,iframeClassName:s.default.string,className:s.default.string,bodyClassName:s.default.string},d.defaultProps={isOpen:!1,title:null};t.default=d},16725:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.Component=void 0;var r,a=d(n(67294)),i=n(53556),s=(r=n(45697))&&r.__esModule?r:{default:r},o=d(n(20164));function l(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(l=function(e){return e?n:t})(e)}function d(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=l(t);if(n&&n.has(e))return n.get(e);var r={__proto__:null},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var s=a?Object.getOwnPropertyDescriptor(e,i):null;s&&(s.get||s.set)?Object.defineProperty(r,i,s):r[i]=e[i]}return r.default=e,n&&n.set(e,r),r}function u(){return u=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},u.apply(this,arguments)}class c extends a.Component{constructor(e){super(e),this.handleChange=this.handleChange.bind(this)}getInputProps(){const e={className:`${this.props.className} ${this.props.extraClass}`,id:this.props.id,name:this.props.name,disabled:this.props.disabled,readOnly:this.props.readOnly,value:this.props.value||"",placeholder:this.props.placeholder,autoFocus:this.props.autoFocus,maxLength:this.props.data&&this.props.data.maxlength,type:this.props.type?this.props.type:null,onBlur:this.props.onBlur,onFocus:this.props.onFocus};return this.props.attributes&&!Array.isArray(this.props.attributes)&&Object.assign(e,this.props.attributes),this.props.readOnly||Object.assign(e,{onChange:this.handleChange}),e}handleChange(e){if("function"==typeof this.props.onChange){if(!e.target)return;this.props.onChange(e,{id:this.props.id,value:e.target.value})}}renderFieldWithTip(){const{id:e,title:t,tip:n}=this.props;return a.default.createElement(i.InputGroup,null,a.default.createElement(i.Input,this.getInputProps()),a.default.createElement(i.InputGroupAddon,{addonType:"append"},a.default.createElement(o.default,u({},n,{fieldTitle:t,id:`${e}-tip`}))))}render(){return this.props.tip?this.renderFieldWithTip():a.default.createElement(i.Input,this.getInputProps())}}t.Component=c,c.propTypes={extraClass:s.default.string,id:s.default.string,name:s.default.string.isRequired,onChange:s.default.func,onBlur:s.default.func,onFocus:s.default.func,value:s.default.oneOfType([s.default.string,s.default.number]),readOnly:s.default.bool,disabled:s.default.bool,placeholder:s.default.string,type:s.default.string,autoFocus:s.default.bool,attributes:s.default.oneOfType([s.default.object,s.default.array]),tip:s.default.shape(o.tipShape)},c.defaultProps={value:"",extraClass:"",className:"",type:"text",attributes:{}};t.default=c},75917:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(n(67294)),a=i(n(45697));function i(e){return e&&e.__esModule?e:{default:e}}const s=e=>{let{id:t,className:n,title:a,extraClass:i,data:s}=e;const o=s&&s.target,l=`${n} ${i}`;return r.default.createElement("label",{id:t,className:l,htmlFor:o},a)};s.propTypes={id:a.default.number,className:a.default.string,extraClass:a.default.string,title:a.default.node,data:a.default.shape({target:a.default.string})},s.defaultProps={className:"",extraClass:""};t.default=s},5257:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=s(n(67294)),a=s(n(45697)),i=n(79655);function s(e){return e&&e.__esModule?e:{default:e}}function o(){return o=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o.apply(this,arguments)}function l(e){let{children:t,href:n,...a}=e;const s=(0,i.useInRouterContext)(),l=s?i.Link:"a";return r.default.createElement(l,o({},a,{to:s?n:void 0,href:s?void 0:n}),t)}l.propTypes={children:a.default.node.isRequired,href:a.default.string.isRequired};t.default=l},79953:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=s(n(67294)),a=s(n(45697)),i=s(n(12906));function s(e){return e&&e.__esModule?e:{default:e}}const o=e=>r.default.createElement("div",{className:"list-group"},e.items.map((e=>r.default.createElement(i.default,e))));o.propTypes={items:a.default.array};t.default=o},12906:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=s(t);if(n&&n.has(e))return n.get(e);var r={__proto__:null},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var o=a?Object.getOwnPropertyDescriptor(e,i):null;o&&(o.get||o.set)?Object.defineProperty(r,i,o):r[i]=e[i]}return r.default=e,n&&n.set(e,r),r}(n(67294)),i=(r=n(45697))&&r.__esModule?r:{default:r};function s(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(s=function(e){return e?n:t})(e)}class o extends a.Component{constructor(e){super(e),this.handleClick=this.handleClick.bind(this)}handleClick(e){this.props.onClick&&this.props.onClick(e,this.props.onClickArg)}render(){const e=`list-group-item ${this.props.className}`;return a.default.createElement("a",{role:"button",tabIndex:0,className:e,onClick:this.handleClick},this.props.children)}}o.propTypes={onClickArg:i.default.any,onClick:i.default.func};t.default=o},6734:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.Component=void 0;var r=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=g(t);if(n&&n.has(e))return n.get(e);var r={__proto__:null},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var s=a?Object.getOwnPropertyDescriptor(e,i):null;s&&(s.get||s.set)?Object.defineProperty(r,i,s):r[i]=e[i]}return r.default=e,n&&n.set(e,r),r}(n(67294)),a=m(n(23157)),i=m(n(66244)),s=m(n(92332)),o=m(n(39301)),l=m(n(25114)),d=m(n(4754)),u=m(n(94301)),c=m(n(98028)),f=m(n(8575)),p=m(n(69496)),h=m(n(45697));function m(e){return e&&e.__esModule?e:{default:e}}function g(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(g=function(e){return e?n:t})(e)}function v(){return v=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},v.apply(this,arguments)}class _ extends r.Component{constructor(e){super(e),this.isControlled()||(this.state={value:e.value}),this.handleChange=this.handleChange.bind(this),this.handleOnBlur=this.handleOnBlur.bind(this),this.isValidNewOption=this.isValidNewOption.bind(this),this.getOptions=this.getOptions.bind(this),this.fetchOptions=(0,p.default)(this.fetchOptions,500)}getOptions(e){const{lazyLoad:t,options:n}=this.props;return t?e?this.fetchOptions(e):Promise.resolve([]):Promise.resolve(n)}handleChange(e){this.isControlled()?this.props.onChange(e):this.setState({value:e})}isControlled(){return"function"==typeof this.props.onChange}handleOnBlur(){}fetchOptions(e){const{optionUrl:t,labelKey:n,valueKey:r}=this.props,a=f.default.parse(t,!0);return a.query.term=e,(0,u.default)(f.default.format(a),{credentials:"same-origin"}).then((e=>e.json())).then((e=>e.items.map((e=>({[n]:e.Title,[r]:e.Value,Selected:e.Selected})))))}isValidNewOption(e,t,n){const{valueKey:r}=this.props;if(!e)return!1;if(Array.isArray(t)){if(this.valueInOptions(e,t,r))return!1}else if(e===t[r])return!1;return!this.valueInOptions(e,n,r)}valueInOptions(e,t,n){for(const r of t)if(e===r[n])return!0;return!1}render(){const{lazyLoad:e,options:t,creatable:n,multi:a,disabled:i,labelKey:s,valueKey:o,SelectComponent:u,AsyncCreatableSelectComponent:c,AsyncSelectComponent:f,CreatableSelectComponent:p,...h}=this.props,m=e?{loadOptions:this.getOptions}:{options:t};let g=u;if(e&&n?g=c:e?g=f:n&&(g=p),this.isControlled()||(h.value=this.state.value),!a&&h.value&&Object.keys(h.value).length>0){const e=h.value[Object.keys(h.value)[0]];"object"==typeof e&&(h.value=e)}return r.default.createElement(l.default,null,r.default.createElement(g,v({},h,{isMulti:a,isDisabled:i,cacheOptions:!0,onChange:this.handleChange,onBlur:this.handleOnBlur},m,{getOptionLabel:e=>e[s],getOptionValue:e=>e[o],noOptionsMessage:e=>{let{inputValue:t}=e;return t?d.default._t("ListboxField.NO_OPTIONS","No options"):d.default._t("ListboxField.TYPE_TO_SEARCH","Type to search")},isValidNewOption:this.isValidNewOption,getNewOptionData:(e,t)=>({[s]:t,[o]:e}),classNamePrefix:"ss-listbox-field"})))}}t.Component=_,_.propTypes={name:h.default.string.isRequired,labelKey:h.default.string.isRequired,valueKey:h.default.string.isRequired,lazyLoad:h.default.bool,creatable:h.default.bool,multi:h.default.bool,disabled:h.default.bool,options:h.default.arrayOf(h.default.object),optionUrl:h.default.string,value:h.default.any,onChange:h.default.func,onBlur:h.default.func,SelectComponent:h.default.oneOfType([h.default.object,h.default.func]),AsyncCreatableSelectComponent:h.default.oneOfType([h.default.object,h.default.func]),AsyncSelectComponent:h.default.oneOfType([h.default.object,h.default.func]),CreatableSelectComponent:h.default.oneOfType([h.default.object,h.default.func])},_.defaultProps={labelKey:"Title",valueKey:"Value",disabled:!1,lazyLoad:!1,creatable:!1,multi:!1,SelectComponent:a.default,AsyncCreatableSelectComponent:s.default,AsyncSelectComponent:i.default,CreatableSelectComponent:o.default};t.default=(0,c.default)(_)},7162:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=s(t);if(n&&n.has(e))return n.get(e);var r={__proto__:null},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var o=a?Object.getOwnPropertyDescriptor(e,i):null;o&&(o.get||o.set)?Object.defineProperty(r,i,o):r[i]=e[i]}return r.default=e,n&&n.set(e,r),r}(n(67294)),i=(r=n(45697))&&r.__esModule?r:{default:r};function s(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(s=function(e){return e?n:t})(e)}function o(){return o=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o.apply(this,arguments)}class l extends a.Component{getContent(){return{__html:this.props.value}}getInputProps(){return{className:`${this.props.className} ${this.props.extraClass}`,id:this.props.id,name:this.props.name}}render(){return a.default.createElement("div",o({},this.getInputProps(),{dangerouslySetInnerHTML:this.getContent()}))}}l.propTypes={id:i.default.string,name:i.default.string.isRequired,extraClass:i.default.string,value:i.default.string},l.defaultProps={extraClass:"",className:""};t.default=l},18871:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=o(t);if(n&&n.has(e))return n.get(e);var r={__proto__:null},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var s=a?Object.getOwnPropertyDescriptor(e,i):null;s&&(s.get||s.set)?Object.defineProperty(r,i,s):r[i]=e[i]}return r.default=e,n&&n.set(e,r),r}(n(67294)),a=s(n(45697)),i=s(n(93967));function s(e){return e&&e.__esModule?e:{default:e}}function o(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(o=function(e){return e?n:t})(e)}class l extends r.PureComponent{render(){const{className:e,size:t,block:n}=this.props,a=(0,i.default)("ss-circular-loading-indicator",e,{"ss-circular-loading-indicator--block":n});return r.default.createElement("div",{style:{height:t,width:t},className:a})}}l.propTypes={className:a.default.string,block:a.default.bool,size:a.default.string},l.defaultProps={block:!1,size:"6em"};t.default=l},34411:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=s(n(67294)),a=s(n(45697)),i=n(67429);function s(e){return e&&e.__esModule?e:{default:e}}function o(e){let{containerClass:t}=e;const n=(0,i.v4)();return r.default.createElement("div",{className:t},r.default.createElement("div",{key:"overlay",className:"cms-content-loading-overlay ui-widget-overlay-light"}),r.default.createElement("div",{key:"spinner",className:"cms-content-loading-spinner"},r.default.createElement("div",{className:"spinner"},r.default.createElement("svg",{fill:"none",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",width:"512",height:"297",viewBox:"0 0 512 297",className:"spinner__animation"},r.default.createElement("defs",null,r.default.createElement("path",{id:`spinner__animation__outline_right_${n}`,d:"M253 29L145 105C130 115 126 136 137 150C147 165 168 169 183 159L291 83C335 52 397 63 428 107C459 152 448 214 404 245L370 268C398 316 461 296 490 245C520 191 519 123 482 70C430 -4 327 -22 253 29Z"}),r.default.createElement("path",{id:`spinner__animation__outline_left_${n}`,d:"M258 266L366 191C381 180 385 160 374 145C364 130 343 127 328 137L220 212C176 244 114 233 83 188C52 144 63 82 107 51L141 27C113 -20 50 -0 21 51C-8 104 -7 172 29 226C81 300 184 318 258 266V266Z"}),r.default.createElement("clipPath",{id:`spinner__animation__mask_right_${n}`},r.default.createElement("use",{href:`#spinner__animation__outline_right_${n}`})),r.default.createElement("clipPath",{id:`spinner__animation__mask_left_${n}`},r.default.createElement("use",{href:`#spinner__animation__outline_left_${n}`}))),r.default.createElement("use",{className:"spinner__animation__empty",href:`#spinner__animation__outline_left_${n}`}),r.default.createElement("use",{className:"spinner__animation__empty",href:`#spinner__animation__outline_right_${n}`}),r.default.createElement("path",{d:"M 379,145 236,242 C 179,282 102,273 62,216 22,159 19,77 76,37 L 135,7",className:"spinner__animation__fill-left",clipPath:`url(#spinner__animation__mask_left_${n})`}),r.default.createElement("path",{d:"M 138,148 281,50 c 57,-39 129,-30 169,26 39,56 41,136 -14,178 l -47,40",className:"spinner__animation__fill-right",clipPath:`url(#spinner__animation__mask_right_${n})`}),r.default.createElement("path",{d:"M253 29L145 105C130 115 126 136 137 150C147 165 168 169 183 159L291 83C335 52 397 63 428 107C459 152 448 214 404 245L370 268C398 316 461 296 490 245C520 191 519 123 482 70C430 -4 327 -22 253 29Z"})))))}o.propTypes={containerClass:a.default.string},o.defaultProps={containerClass:"flexbox-area-grow"};t.default=o},21677:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.Component=void 0;var r=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=d(t);if(n&&n.has(e))return n.get(e);var r={__proto__:null},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var s=a?Object.getOwnPropertyDescriptor(e,i):null;s&&(s.get||s.set)?Object.defineProperty(r,i,s):r[i]=e[i]}return r.default=e,n&&n.set(e,r),r}(n(67294)),a=n(53556),i=l(n(98028)),s=l(n(4754)),o=l(n(45697));function l(e){return e&&e.__esModule?e:{default:e}}function d(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(d=function(e){return e?n:t})(e)}function u(){return u=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},u.apply(this,arguments)}class c extends r.Component{constructor(e){super(e),this.getValueCSV=this.getValueCSV.bind(this)}getValueCSV(){const e=this.props.value;if(!Array.isArray(e)&&(e||"string"==typeof e||"number"==typeof e)){const t=this.props.source.find((t=>t.value===e));return t?t.title:""}return e&&e.length?e.map((e=>{const t=this.props.source.find((t=>t.value===e));return t&&t.title})).filter((e=>`${e}`.length)).join(", "):""}getFieldProps(){return{id:this.props.id,name:this.props.name,className:`${this.props.className} ${this.props.extraClass}`}}render(){if(!this.props.source)return null;const e=`('${s.default._t("Admin.NONE","None")}')`,t=this.getValueCSV()||e;return r.default.createElement(a.Input,u({plaintext:!0},this.getFieldProps(),{tag:"p"}),t)}}t.Component=c,c.propTypes={extraClass:o.default.string,id:o.default.string,name:o.default.string.isRequired,source:o.default.arrayOf(o.default.shape({value:o.default.oneOfType([o.default.string,o.default.number]),title:o.default.any,disabled:o.default.bool})),value:o.default.any},c.defaultProps={extraClass:"",className:"",value:[]};t.default=(0,i.default)(c)},86827:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=o(t);if(n&&n.has(e))return n.get(e);var r={__proto__:null},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var s=a?Object.getOwnPropertyDescriptor(e,i):null;s&&(s.get||s.set)?Object.defineProperty(r,i,s):r[i]=e[i]}return r.default=e,n&&n.set(e,r),r}(n(67294)),a=s(n(93967)),i=s(n(45697));function s(e){return e&&e.__esModule?e:{default:e}}function o(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(o=function(e){return e?n:t})(e)}class l extends r.Component{constructor(){super(),this.handleClick=this.handleClick.bind(this)}handleClick(e){e.preventDefault(),"function"==typeof this.props.onClick&&this.props.onClick(e)}render(){const e=(0,a.default)({"cms-mobile-menu-toggle":!0,"cms-mobile-menu-toggle--open":this.props.isOpen});return r.default.createElement("button",{type:"button",className:e,href:"#toggle-mobile-menu",onClick:this.handleClick,"aria-controls":this.props.controls,"aria-expanded":Boolean(this.props.isOpen)},r.default.createElement("span",null),r.default.createElement("span",null),r.default.createElement("span",null),r.default.createElement("span",null))}}l.propTypes={isOpen:i.default.bool.isRequired,onClick:i.default.func.isRequired,controls:i.default.string},l.defaultProps={controls:""};t.default=l},26195:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r,a=n(11521),i=n(86706),s=(r=n(86827))&&r.__esModule?r:{default:r};t.default=(0,i.connect)((e=>({isOpen:e.mobileMenu.isOpen})),(e=>({onClick(){e((0,a.toggleMobileMenu)())}})))(s.default)},97399:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=o(n(67294)),a=n(53556),i=o(n(45697)),s=o(n(65385));function o(e){return e&&e.__esModule?e:{default:e}}function l(e){let{onClosed:t,title:n,ModalHeaderComponent:a,showCloseButton:i,children:o,ModalComponent:l,isOpen:d,className:u,modalClassName:c,size:f}=e;return r.default.createElement(l,{isOpen:d,toggle:t,className:u,modalClassName:c,size:f},r.default.createElement(s.default,{onClosed:t,title:n,ModalHeaderComponent:a,showCloseButton:i}),o)}l.propTypes={isOpen:i.default.bool,className:i.default.string,modalClassName:i.default.string,size:i.default.string,ModalComponent:i.default.oneOfType([i.default.object,i.default.func]),...s.default.propTypes},l.defaultProps={isOpen:!1,ModalComponent:a.Modal};t.default=l},65385:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=o(n(67294)),a=o(n(4754)),i=n(53556),s=o(n(45697));function o(e){return e&&e.__esModule?e:{default:e}}function l(e){let{onClosed:t,title:n,ModalHeaderComponent:i,showCloseButton:s}=e;if(!1!==n){if("object"==typeof n){n=(new DOMParser).parseFromString(n.html,"text/html").body.textContent||""}return r.default.createElement(i,{toggle:t},n)}return!0===s&&"function"==typeof t?r.default.createElement("button",{type:"button",className:"close modal__close-button",onClick:t,"aria-label":a.default._t("Admin.CLOSE","Close")}):null}l.propTypes={title:s.default.oneOfType([s.default.string,s.default.bool,s.default.shape({html:s.default.string})]),showCloseButton:s.default.bool,onClosed:s.default.func,ModalHeaderComponent:s.default.oneOfType([s.default.object,s.default.func])},l.defaultProps={isOpen:!1,title:null,ModalHeaderComponent:i.ModalHeader};t.default=l},3730:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=o;var r,a=n(67294),i=(r=n(45697))&&r.__esModule?r:{default:r},s=n(79655);function o(e){let{shouldBlockFn:t,blockMessage:n}=e;const r=(0,s.useBlocker)(t);return(0,a.useEffect)((()=>{if("blocked"===r.state){confirm(n)?r.proceed():r.reset()}}),[r.state]),null}o.propTypes={shouldBlockFn:i.default.func.isRequired,blockMessage:i.default.string.isRequired}},55742:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=l(n(67294)),a=l(n(4754)),i=l(n(93967)),s=l(n(23296)),o=l(n(45697));function l(e){return e&&e.__esModule?e:{default:e}}const d=e=>{let{itemName:t,name:n,value:o}=e;return r.default.createElement("div",{className:(0,i.default)(t,"not-found-component")},r.default.createElement(s.default,{value:a.default.inject(a.default._t("Admin.NOT_FOUND_COMPONENT","The component here ({component}) failed to load, there is a chance that you may lose data when saving due to this."),{component:t})}),n&&"string"==typeof o?r.default.createElement("input",{type:"hidden",name:n,value:o}):null)};d.propTypes={itemName:o.default.string.isRequired,name:o.default.string,value:o.default.any};t.default=d},92227:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.Component=void 0;var r=i(n(98028)),a=i(n(16725));function i(e){return e&&e.__esModule?e:{default:e}}class s extends a.default{getInputProps(){const e=super.getInputProps();return Object.assign(e,{type:"number"}),e}}t.Component=s;t.default=(0,r.default)(s)},31885:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.Component=void 0;var r=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=d(t);if(n&&n.has(e))return n.get(e);var r={__proto__:null},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var s=a?Object.getOwnPropertyDescriptor(e,i):null;s&&(s.get||s.set)?Object.defineProperty(r,i,s):r[i]=e[i]}return r.default=e,n&&n.set(e,r),r}(n(67294)),a=n(53556),i=l(n(93967)),s=l(n(10259)),o=l(n(45697));function l(e){return e&&e.__esModule?e:{default:e}}function d(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(d=function(e){return e?n:t})(e)}class u extends r.Component{constructor(e){super(e),this.handleChange=this.handleChange.bind(this)}getInputProps(){const e=(0,i.default)({[this.props.className]:!0,[this.props.extraClass]:!0,"form-check":!0,checked:this.props.value,disabled:this.props.readOnly,"option-field--disabled":this.props.readOnly||this.props.disabled});return{id:this.props.id,type:this.props.type,name:this.props.name,disabled:this.props.disabled||this.props.readOnly,readOnly:this.props.readOnly,className:e,onChange:this.handleChange,checked:!!this.props.value,value:1}}handleChange(e){if(this.props.readOnly||this.props.disabled)return void e.preventDefault();let t=null;"function"==typeof this.props.onChange?t=this.props.onChange:"function"==typeof this.props.onClick&&(t=this.props.onClick),t&&t(e,{id:this.props.id,value:e.target.checked?1:0})}render(){const e=null!==this.props.leftTitle?this.props.leftTitle:this.props.title,t=null!==this.props.rightTitle?`${e} ${this.props.rightTitle}`:e;return r.default.createElement(a.FormGroup,{check:!0},r.default.createElement(a.Label,{check:!0},r.default.createElement(a.Input,this.getInputProps()),(0,s.default)("span",t)))}}t.Component=u,u.propTypes={type:o.default.oneOf(["checkbox","radio"]),leftTitle:o.default.any,rightTitle:o.default.any,title:o.default.any,extraClass:o.default.string,id:o.default.string,name:o.default.string,onChange:o.default.func,value:o.default.oneOfType([o.default.string,o.default.number,o.default.bool]),readOnly:o.default.bool,disabled:o.default.bool},u.defaultProps={extraClass:"",className:"",type:"radio",leftTitle:null,rightTitle:null};t.default=u},5110:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.Component=void 0;var r=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=l(t);if(n&&n.has(e))return n.get(e);var r={__proto__:null},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var s=a?Object.getOwnPropertyDescriptor(e,i):null;s&&(s.get||s.set)?Object.defineProperty(r,i,s):r[i]=e[i]}return r.default=e,n&&n.set(e,r),r}(n(67294)),a=o(n(31885)),i=o(n(98028)),s=o(n(45697));function o(e){return e&&e.__esModule?e:{default:e}}function l(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(l=function(e){return e?n:t})(e)}function d(){return d=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},d.apply(this,arguments)}class u extends r.Component{constructor(e){super(e),this.getItemKey=this.getItemKey.bind(this),this.getOptionProps=this.getOptionProps.bind(this),this.handleChange=this.handleChange.bind(this)}getItemKey(e,t){const n=e.value||`empty${t}`;return`${this.props.id}-${n}`}getOptionProps(e,t){const n=this.getItemKey(e,t);return{key:n,id:n,name:this.props.name,className:`${this.props.itemClass} option-val--${e.value}`,disabled:e.disabled||this.props.disabled,readOnly:this.props.readOnly,onChange:this.handleChange,value:`${this.props.value}`==`${e.value}`,title:e.title,type:"radio"}}handleChange(e,t){if("function"==typeof this.props.onChange&&1===t.value){const n=this.props.source.find(((e,n)=>this.getItemKey(e,n)===t.id));this.props.onChange(e,{id:this.props.id,value:n.value})}}render(){return this.props.source?r.default.createElement("div",null,this.props.source.map(((e,t)=>r.default.createElement(a.default,d({},this.getOptionProps(e,t),{hideLabels:!0}))))):null}}t.Component=u,u.propTypes={extraClass:s.default.string,itemClass:s.default.string,id:s.default.string,name:s.default.string.isRequired,source:s.default.arrayOf(s.default.shape({value:s.default.oneOfType([s.default.string,s.default.number]),title:s.default.oneOfType([s.default.string,s.default.number]),disabled:s.default.bool})),onChange:s.default.func,value:s.default.oneOfType([s.default.string,s.default.number]),readOnly:s.default.bool,disabled:s.default.bool},u.defaultProps={extraClass:"",className:"",itemClass:""};t.default=(0,i.default)(u)},20693:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=l(t);if(n&&n.has(e))return n.get(e);var r={__proto__:null},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var s=a?Object.getOwnPropertyDescriptor(e,i):null;s&&(s.get||s.set)?Object.defineProperty(r,i,s):r[i]=e[i]}return r.default=e,n&&n.set(e,r),r}(n(67294)),a=n(53556),i=o(n(93967)),s=o(n(45697));function o(e){return e&&e.__esModule?e:{default:e}}function l(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(l=function(e){return e?n:t})(e)}class d extends r.Component{constructor(e){super(e),this.toggle=this.toggle.bind(this),this.state={isOpen:!1}}getPlacement(){return this.props.data.placement||"bottom"}getContainer(){return this.props.container?this.props.container:this.wrapper}toggle(){const{toggleCallback:e}=this.props;window.setTimeout((()=>this.setState({isOpen:!this.state.isOpen},e)),0)}render(){const e=this.getPlacement(),t=(0,i.default)({btn:!0,"btn-secondary":!0,[this.props.className]:!0,[this.props.buttonClassName]:!0,"btn--no-focus":this.state.isOpen,"font-icon-dot-3 btn--no-text":!this.props.title,[`btn--icon-${this.props.buttonSize}`]:!this.props.title}),n={id:this.props.id,type:"button",className:t,onClick:this.toggle,title:this.props.data.buttonTooltip},s=(0,i.default)({[this.props.className]:!0,"popover-container":!0,"popover-field":!0});return r.default.createElement("div",{className:s,ref:e=>{this.wrapper=e}},r.default.createElement(a.Button,n,this.props.title),r.default.createElement(a.Popover,{id:`${this.props.id}_Popover`,placement:e,isOpen:this.state.isOpen,target:this.props.id,toggle:this.toggle,className:this.props.popoverClassName,container:this.getContainer()},r.default.createElement(a.PopoverHeader,null,this.props.data.popoverTitle),r.default.createElement(a.PopoverBody,null,this.props.children)))}}d.propTypes={id:s.default.string.isRequired,title:s.default.any,container:s.default.any,className:s.default.string,buttonClassName:s.default.string,popoverClassName:s.default.string,buttonSize:s.default.oneOf(["sm","md","large","xl"]),data:s.default.oneOfType([s.default.array,s.default.shape({popoverTitle:s.default.string,buttonTooltip:s.default.string,placement:s.default.oneOf(["top","bottom","left","right"])})]),toggleCallback:s.default.func},d.defaultProps={data:{},className:"",buttonClassName:"",popoverClassName:"",buttonSize:"xl",toggleCallback:()=>{}};t.default=d},71255:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=d(t);if(n&&n.has(e))return n.get(e);var r={__proto__:null},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var s=a?Object.getOwnPropertyDescriptor(e,i):null;s&&(s.get||s.set)?Object.defineProperty(r,i,s):r[i]=e[i]}return r.default=e,n&&n.set(e,r),r}(n(67294)),a=l(n(45697)),i=n(53556),s=l(n(93967)),o=l(n(4754));function l(e){return e&&e.__esModule?e:{default:e}}function d(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(d=function(e){return e?n:t})(e)}function u(){return u=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},u.apply(this,arguments)}class c extends r.Component{constructor(e){super(e),this.handleToggle=this.handleToggle.bind(this),this.handleSearchValueClear=this.handleSearchValueClear.bind(this),this.handleSearchValueChange=this.handleSearchValueChange.bind(this),this.handleKeyDown=this.handleKeyDown.bind(this),this.doToggle=this.doToggle.bind(this),this.focusOnTarget=this.focusOnTarget.bind(this),this.state={searchValue:""}}handleToggle(){this.doToggle(!1)}doToggle(e){const{toggle:t}=this.props;t(),this.handleSearchValueClear(),e&&this.focusOnTarget()}focusOnTarget(){const{target:e}=this.props;if(e){const t=i.Util.getTarget(e);t&&t.focus()}}handleSearchValueClear(){this.setState({searchValue:""})}handleSearchValueChange(e){this.setState({searchValue:e.target.value})}handleKeyDown(e){"Escape"===e.key&&this.doToggle(!0)}renderSearchValueClearLink(){const{clearButtonClassName:e}=this.props,{searchValue:t}=this.state;return 0===t.length?null:r.default.createElement(i.InputGroupAddon,{addonType:"append"},r.default.createElement("button",{className:(0,s.default)(e),onClick:this.handleSearchValueClear},o.default._t("PopoverOptionSet.CLEAR","Clear")))}renderSearchBox(){const{searchPlaceholder:e,disableSearch:t,searchClassName:n,searchInputClassName:a}=this.props,{searchValue:o}=this.state;return t?null:r.default.createElement(i.InputGroup,{className:(0,s.default)(n)},r.default.createElement(i.Input,{autoFocus:!0,className:(0,s.default)(a),onChange:this.handleSearchValueChange,placeholder:e,type:"text",value:o}),this.renderSearchValueClearLink())}renderOptionButtons(){const{buttons:e,onSearch:t,buttonContainerClassName:n,emptyResultClassName:a,buttonClassName:i,ButtonComponent:l}=this.props,{searchValue:d}=this.state;let c=e;return 0!==d.length&&(c=t(d,c)),0===c.length?r.default.createElement("div",{className:(0,s.default)(n)},r.default.createElement("div",{className:(0,s.default)(a)},o.default._t("PopoverOptionSet.NO_RESULTS","No results found"))):r.default.createElement("div",{className:(0,s.default)(n)},c.map((e=>r.default.createElement(l,u({},e.buttonProps,{className:(0,s.default)(e.className,i),key:e.key,onClick:e.onClick}),e.content))))}render(){const{container:e,className:t,isOpen:n,placement:a,target:i,PopoverComponent:o}=this.props;return r.default.createElement(o,{className:(0,s.default)(t),container:e,hideArrow:!0,isOpen:n,onKeyDown:this.handleKeyDown,placement:a,target:i,toggle:this.handleToggle,trigger:"legacy"},this.renderSearchBox(),this.renderOptionButtons())}}c.propTypes={buttons:a.default.arrayOf(a.default.shape({key:a.default.string.isRequired,content:a.default.node.isRequired,onClick:a.default.func.isRequired,className:a.default.oneOfType([a.default.string,a.default.object,a.default.arrayOf(a.default.string)]),buttonProps:a.default.object})).isRequired,onSearch:a.default.func,container:a.default.oneOfType([a.default.string,a.default.elementType]),isOpen:a.default.bool.isRequired,placement:a.default.string,target:a.default.oneOfType([a.default.string,a.default.elementType]).isRequired,toggle:a.default.func.isRequired,searchPlaceholder:a.default.string,disableSearch:a.default.bool,ButtonComponent:a.default.oneOfType([a.default.object,a.default.func]),PopoverComponent:a.default.oneOfType([a.default.object,a.default.func]),className:a.default.oneOfType([a.default.string,a.default.array,a.default.object]),searchClassName:a.default.oneOfType([a.default.string,a.default.array,a.default.object]),searchInputClassName:a.default.oneOfType([a.default.string,a.default.array,a.default.object]),clearButtonClassName:a.default.oneOfType([a.default.string,a.default.array,a.default.object]),buttonContainerClassName:a.default.oneOfType([a.default.string,a.default.array,a.default.object]),emptyResultClassName:a.default.oneOfType([a.default.string,a.default.array,a.default.object]),buttonClassName:a.default.oneOfType([a.default.string,a.default.array,a.default.object])},c.defaultProps={searchPlaceholder:o.default._t("PopoverOptionSet.SEARCH_PLACEHOLDER","Search"),onSearch:(e,t)=>t.filter((t=>{let{content:n}=t;return n.toLowerCase().includes(e.toLowerCase())})),disableSearch:!1,ButtonComponent:i.Button,PopoverComponent:i.Popover,className:"popover-option-set",searchClassName:"popover-option-set__search",searchInputClassName:"popover-option-set__search-input",clearButtonClassName:"popover-option-set__search-clear btn btn-link",buttonContainerClassName:"popover-option-set__button-container",emptyResultClassName:"popover-option-set__no-results",buttonClassName:"popover-option-set__button"};t.default=c},3080:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.Component=void 0;var r=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=u(t);if(n&&n.has(e))return n.get(e);var r={__proto__:null},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var s=a?Object.getOwnPropertyDescriptor(e,i):null;s&&(s.get||s.set)?Object.defineProperty(r,i,s):r[i]=e[i]}return r.default=e,n&&n.set(e,r),r}(n(67294)),a=d(n(4754)),i=d(n(93967)),s=n(54582),o=d(n(45697)),l=d(n(95393));function d(e){return e&&e.__esModule?e:{default:e}}function u(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(u=function(e){return e?n:t})(e)}class c extends r.Component{constructor(e){super(e),this.state={frameLoaded:!1},this.handleBackClick=this.handleBackClick.bind(this),this.setFrameLoaded=this.setFrameLoaded.bind(this)}componentDidUpdate(e){this.state.frameLoaded&&e.previewUrl!==this.props.previewUrl&&this.setFrameLoaded(!1)}setFrameLoaded(){let e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this.setState({frameLoaded:e})}handleBackClick(e){"function"==typeof this.props.onBack&&(e.preventDefault(),this.props.onBack(e))}buildToolbarButtons(){const e=[];if(this.props.itemLinks&&this.props.itemLinks.edit){const t=this.props.itemLinks.edit.href;e.push(r.default.createElement("a",{key:"edit",href:t,className:"btn btn-outline-secondary font-icon-edit"},r.default.createElement("span",{className:"btn__title"},a.default._t("Admin.EDIT","Edit"))))}return e}renderMoreActions(){return this.props.moreActions&&0!==this.props.moreActions.length?r.default.createElement(l.default,null,this.props.moreActions):null}renderBody(){let e=null,t="";return this.props.itemLinks&&this.props.itemLinks.preview&&(this.props.itemLinks.preview.Stage?(e=this.props.itemLinks.preview.Stage.href,t=this.props.itemLinks.preview.Stage.type):this.props.itemLinks.preview.Live&&(e=this.props.itemLinks.preview.Live.href,t=this.props.itemLinks.preview.Live.type)),this.props.itemId?e?t&&0===t.indexOf("image/")?r.default.createElement("div",{className:"preview__file-container panel--scrollable"},r.default.createElement("img",{alt:e,className:"preview__file--fits-space",src:e})):r.default.createElement("iframe",{style:{visibility:this.state.frameLoaded?"visible":"hidden"},className:"flexbox-area-grow preview__iframe",src:e,onLoad:this.setFrameLoaded}):r.default.createElement("div",{className:"preview__overlay"},r.default.createElement("h3",{className:"preview__overlay-text"},a.default._t("Admin.NO_ITEM_PREVIEW","There is no preview available for this item."))):r.default.createElement("div",{className:"preview__overlay"},r.default.createElement("h3",{className:"preview__overlay-text"},a.default._t("Admin.NO_PREVIEW","No preview available.")))}render(){const{className:e,ViewModeComponent:t}=this.props,n=(0,i.default)("preview",e);return r.default.createElement("div",{className:n},this.renderBody(),r.default.createElement("div",{className:"toolbar toolbar--south"},r.default.createElement("div",{className:"btn-toolbar"},this.buildToolbarButtons(),r.default.createElement(t,{id:"view-mode-toggle-in-preview-nb",area:"preview"}),this.renderMoreActions())))}}t.Component=c,c.propTypes={className:o.default.string,itemLinks:o.default.object,itemId:o.default.number,onBack:o.default.func,moreActions:o.default.arrayOf(o.default.element),ViewModeComponent:o.default.elementType},c.defaultProps={className:"flexbox-area-grow fill-height"};t.default=(0,s.inject)(["ViewModeToggle"],(e=>({ViewModeComponent:e})),(()=>"Admin.Preview"))(c)},72543:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(67294),a=s(n(91033)),i=s(n(45697));function s(e){return e&&e.__esModule?e:{default:e}}class o extends r.Component{constructor(e){super(e),this.render=this.render.bind(this),this.handleResize=this.handleResize.bind(this),this.state={},this.observer=new a.default((e=>e.forEach((e=>{let{contentRect:t}=e;return this.handleResize(t)}))))}componentDidMount(){this.observer.observe(this.container);const e={width:this.container.offsetWidth,height:this.container.offsetHeight};this.handleResize(e)}componentWillUnmount(){this.observer.disconnect()}handleResize(e){const{width:t,height:n}=this.state;t===e.width&&n===e.height||this.setState(e),this.props.onResize&&this.props.onResize(e)}render(){const{children:e,onlyEvent:t,component:n,onResize:a,widthPropName:i,heightPropName:s,...o}=this.props,{width:l,height:d}=this.state,u="string"!=typeof n,c={[[i||"width"]]:l,[[s||"height"]]:d};return(0,r.createElement)(n,{[u?"getRef":"ref"]:e=>{this.container=e},...u&&c,...o},"function"==typeof e?e({width:l,height:d}):r.Children.map(e,(e=>(0,r.isValidElement)(e)?(0,r.cloneElement)(e,t?null:c):e)))}}o.propTypes={component:i.default.oneOfType([i.default.string,i.default.elementType]),onResize:i.default.func},o.defaultProps={component:"div"};t.default=o},62266:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.Component=void 0,t.hasFilters=E;var r=y(n(4754)),a=b(n(67294)),i=n(86706),s=n(14890),o=b(n(39042)),l=n(11962),d=n(56403),u=y(n(79298)),c=y(n(87393)),f=y(n(45697)),p=y(n(90161)),h=y(n(31824)),m=y(n(97019)),g=y(n(65693)),v=y(n(18992));function _(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(_=function(e){return e?n:t})(e)}function b(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=_(t);if(n&&n.has(e))return n.get(e);var r={__proto__:null},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var s=a?Object.getOwnPropertyDescriptor(e,i):null;s&&(s.get||s.set)?Object.defineProperty(r,i,s):r[i]=e[i]}return r.default=e,n&&n.set(e,r),r}function y(e){return e&&e.__esModule?e:{default:e}}function w(){return w=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},w.apply(this,arguments)}const O={NONE:"NONE",VISIBLE:"VISIBLE",EXPANDED:"EXPANDED"},C={NONE:"NONE",HIDEABLE:"HIDEABLE",TOGGLABLE:"TOGGLABLE"};function E(e){return e&&Object.keys(e).length>0}class T extends a.Component{constructor(e){super(e),this.expand=this.expand.bind(this),this.handleChange=this.handleChange.bind(this),this.getData=this.getData.bind(this),this.doSearch=this.doSearch.bind(this),this.focusInput=this.focusInput.bind(this),this.focusFirstFormField=this.focusFirstFormField.bind(this),this.hide=this.hide.bind(this),this.show=this.show.bind(this),this.toggle=this.toggle.bind(this),this.open=this.open.bind(this),this.searchTermIsDirty=this.searchTermIsDirty.bind(this),this.clearFilters=this.clearFilters.bind(this),this.clearSearchBox=this.clearSearchBox.bind(this),this.clearFormFilter=this.clearFormFilter.bind(this),this.focusFormFilter=this.focusFormFilter.bind(this),this.formatTagData=this.formatTagData.bind(this);const t=e.term||e.filters&&e.filters[`${e.filterPrefix}${e.name}`]||"";this.state={display:e.display,searchText:t,initialSearchText:t}}componentDidMount(){this.setOverrides(this.props)}componentWillUnmount(){this.setOverrides()}setOverrides(e){if(e&&(!E(e.filters)||this.props.formSchemaUrl!==e.formSchemaUrl)){const t=e&&e.formSchemaUrl||this.props.formSchemaUrl;t&&this.props.actions.schema.setSchemaStateOverrides(t,null)}if(e&&E(e.filters)&&e.formSchemaUrl){const t=e.filters||{},n={fields:Object.keys(t).map((e=>({name:e,value:t[e]})))};this.props.actions.schema.setSchemaStateOverrides(e.formSchemaUrl,n)}}getData(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];const{name:t,filterPrefix:n,formData:r}=this.props,{searchText:a}=this.state,i={};return Object.keys(r).forEach((e=>{const t=r[e];t&&(i[e]=t)})),!e&&a&&void 0===r[`${n}${t}`]&&(i[`${n}${t}`]=a.trim()),i}handleChange(e){const t=e.target.value;this.state.searchText!==t&&this.setState({searchText:t});const{schemaName:n,name:r,filterPrefix:a,actions:i,formData:s}=this.props;void 0!==s[`${a}${r}`]&&i.reduxForm.change(n,`${a}${r}`,t)}focusInput(){if(this.state.display===O.NONE)return;const e=this.nodeRef.container;if(!e)return;const t=e.querySelector(".search-box__content-field");t!==document.activeElement&&(t.focus(),t.select&&t.select())}focusFirstFormField(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"input:not([type=hidden]), textarea, select, button";if(this.state.display!==O.EXPANDED)return;const t=this.nodeRef.container;if(!t)return;const n=t.querySelector(".search-form");if(!n)return;const r=n.querySelector(e);r&&(r.focus(),r.select&&r.select())}clearFormData(e){""!==this.state.searchText&&this.setState({searchText:""});const t=e&&e.formSchemaUrl||this.props.formSchemaUrl;if(t){const n=e&&e.identifier||this.props.identifier;this.props.actions.schema.setSchemaStateOverrides(t,{fields:[]}),this.props.actions.reduxForm.reset(n)}}clearFormFilter(e){const t=this.props.tagData[e],n={[e]:void 0},{schemaName:r,filters:a}=this.props;this.props.actions.reduxForm.change(r,e,""),this.setOverrides({...this.props,filters:{...a,[e]:void 0}}),Array.isArray(t.linkedFields)&&t.linkedFields.forEach((e=>{n[e]=void 0})),this.doSearch(n)}focusFormFilter(e){const t=this.props.tagData[e].focusSelector||`[name=${e}]`;this.expand(),setTimeout((()=>this.focusFirstFormField(t)),50)}open(){this.show(),this.focusInput()}hide(){this.clearSearchBox(),this.props.onHide?this.props.onHide():this.state.display!==O.NONE&&this.setState({display:O.NONE})}show(){this.state.display!==O.VISIBLE&&this.setState({display:O.VISIBLE});const{schemaName:e,formData:t,name:n,actions:r}=this.props;void 0!==t[n]&&r.reduxForm.change(e,n,this.state.searchText)}expand(){this.state.display!==O.EXPANDED&&this.setState({display:O.EXPANDED})}toggle(){switch(this.state.display){case O.VISIBLE:this.expand(),setTimeout(this.focusFirstFormField,50);break;case O.EXPANDED:this.show()}}searchTermIsDirty(){const{searchText:e,initialSearchText:t}=this.state;return e.trim()!==t.trim()}doSearch(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{name:t,filterPrefix:n}=this.props,r={},a=this.getData();Object.entries(a).forEach((i=>{let[s,o]=i,l=s,d=o;e.hasOwnProperty(s)&&(d=e[s]),n.length>0&&s.startsWith(n)&&(l=s.substring(n.length)),(!n.length>0||s!==t||void 0===a[`${n}${t}`])&&(r[l]=d)}));const i=r[t]||"";this.state.display===O.VISIBLE&&this.state.initialSearchText===i&&this.state.searchText===i||this.setState({display:O.VISIBLE,initialSearchText:i,searchText:i}),this.props.onSearch(r)}clearFilters(){this.clearFormData(),this.focusFirstFormField()}clearSearchBox(){this.clearFormData(),this.focusInput()}formatTagData(){const{tagData:e,name:t,filterPrefix:n}=this.props,r=Object.assign({},e),a=`${n}${t}`;return r&&r[a]&&delete r[a],r?Object.values(r).map((e=>{let{key:t,label:n,value:r}=e;return{key:t,label:n,value:r}})):[]}render(){const{formSchemaUrl:e,forceFilters:t,id:n,displayBehavior:r,identifier:i,formIsDirty:s,tagData:o,name:l,...d}=this.props;if(this.state.display===O.NONE)return r===C.TOGGLABLE?a.default.createElement(g.default,{onToggle:this.show}):a.default.createElement("div",null);const u=`${n}_ExtraFields`,c=this.state.searchText,f=this.state.display===O.EXPANDED,v=this.state.display===O.VISIBLE,_=[C.HIDEABLE,C.TOGGLABLE].includes(r),b=s||this.searchTermIsDirty(),y=this.getData(),E=Object.keys(y).length>0;return a.default.createElement(p.default,{onClickOut:this.show,className:"search",ref:e=>{this.nodeRef=e}},a.default.createElement(h.default,w({},d,{name:`SearchBox__${l}`,onChange:this.handleChange,onSearch:this.doSearch,onToggleFilter:this.toggle,onHideFilter:this.show,onHide:this.hide,onClear:this.clearSearchBox,searchText:c,hideable:_,expanded:f,id:`${n}_searchbox`,showFilters:Boolean(t||e),dirty:b,clearable:E,onTagDelete:this.clearFormFilter,onTagClick:this.focusFormFilter,tagData:this.formatTagData()}),a.default.createElement(m.default,{id:u,identifier:i,visible:v,expanded:f,formSchemaUrl:e,onSearch:this.doSearch,onClear:this.clearFilters,clearable:E})))}}t.Component=T,T.propTypes={onSearch:f.default.func,onHide:f.default.func,id:f.default.string.isRequired,display:f.default.oneOf(Object.values(O)),formSchemaUrl:f.default.string,filters:f.default.object,formData:f.default.object,placeholder:f.default.string,displayBehavior:f.default.oneOf(Object.values(C)),term:f.default.string,name:f.default.string,filterPrefix:f.default.string,forceFilters:f.default.bool,formIsDirty:f.default.bool,identifier:f.default.string,schemaName:f.default.string,tagHandlers:f.default.object,borders:f.default.shape({top:f.default.bool,right:f.default.bool,bottom:f.default.bool,left:f.default.bool})},T.defaultProps={placeholder:r.default._t("Admin.SEARCH","Search"),display:O.VISIBLE,displayBehavior:C.NONE,filters:{},formData:{},term:"",filterPrefix:"",forceFilters:!1,name:"searchTerm",identifier:"Admin.SearchForm"};t.default=(0,i.connect)((function(e,t){const n=e.form.formSchemas[t.formSchemaUrl];if(!n||!n.name)return{formData:{}};const r=n.name,a=(0,u.default)((0,c.default)(e),r),i=a&&a.values||{},s=(0,v.default)(n,t.filters,t.tagHandlers||{});return{formData:i,formIsDirty:(0,d.isDirty)(r,c.default)(e),schemaName:r,tagData:s}}),(function(e){return{actions:{schema:(0,s.bindActionCreators)(o,e),reduxForm:(0,s.bindActionCreators)({reset:l.reset,initialize:l.initialize,change:l.change},e)}}}))(T)},31824:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.Component=void 0;var r=f(n(4754)),a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=c(t);if(n&&n.has(e))return n.get(e);var r={__proto__:null},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var s=a?Object.getOwnPropertyDescriptor(e,i):null;s&&(s.get||s.set)?Object.defineProperty(r,i,s):r[i]=e[i]}return r.default=e,n&&n.set(e,r),r}(n(67294)),i=n(53556),s=f(n(93967)),o=f(n(97228)),l=f(n(72543)),d=f(n(45697)),u=f(n(43117));function c(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(c=function(e){return e?n:t})(e)}function f(e){return e&&e.__esModule?e:{default:e}}class p extends a.Component{constructor(e){super(e),this.handleKeyDown=this.handleKeyDown.bind(this),this.handleFocus=this.handleFocus.bind(this),this.handleBlur=this.handleBlur.bind(this),this.renderInput=this.renderInput.bind(this),this.renderFilterButton=this.renderFilterButton.bind(this),this.renderEnterHint=this.renderEnterHint.bind(this),this.renderHideButton=this.renderHideButton.bind(this),this.componentDidUpdate=this.componentDidUpdate.bind(this),this.onResize=this.onResize.bind(this),this.setWidth=this.setWidth.bind(this),this.renderTags=this.renderTags.bind(this),this.getComponentWidth=this.getComponentWidth.bind(this),this.calculateSpaceForTags=this.calculateSpaceForTags.bind(this),this.calculateInputLeftPadding=this.calculateInputLeftPadding.bind(this),this.calculateInputRightPadding=this.calculateInputRightPadding.bind(this),this.onTagListResize=this.onTagListResize.bind(this),this.focusOnLastTag=this.focusOnLastTag.bind(this),this.focusOnInput=this.focusOnInput.bind(this),this.state={hasFocus:!1,width:window.innerWidth-180-55,tagWidth:0}}componentDidUpdate(){const e=this.getComponentWidth();this.setWidth(e)}onResize(e){this.setWidth(e.width)}onTagListResize(e){const t=e.width;this.state.tagWidth!==t&&this.setState({tagWidth:t})}setWidth(e){this.state.width!==e&&this.setState({width:e})}getComponentWidth(){const e=this.nodeRef;return e?e.getBoundingClientRect().width:0}calculateInputLeftPadding(){const e=this.state.width>576?55:20;return this.state.tagWidth+e}calculateInputRightPadding(){return this.state.width<576?121:264}calculateSpaceForTags(){let e=this.state.width;e-=150,e=e-55-52;const{hideable:t,showFilters:n}=this.props;return t&&(e-=52),n&&(e-=52),e=Math.max(e,0),e}handleKeyDown(e){"Enter"===e.key?(e.preventDefault(),this.props.onSearch()):0===e.target.selectionStart&&("ArrowLeft"===e.key||"Backspace"===e.key&&e.target.selectionEnd-e.target.selectionStart==0)&&(e.preventDefault(),this.focusOnLastTag())}handleFocus(){this.state.hasFocus||this.setState({hasFocus:!0}),this.props.onHideFilter&&this.props.onHideFilter()}handleBlur(){this.state.hasFocus&&this.setState({hasFocus:!1})}focusOnLastTag(){const e=this.nodeRef;if(!e)return;const t=e.querySelector(".compact-tag-list__visible .tag:last-child");t&&t.focus()}focusOnInput(){const e=this.nodeRef;if(!e)return;const t=e.querySelector("input");t&&t.focus()}renderInput(){const{id:e,searchText:t,onChange:n,placeholder:r,name:i,borders:o}=this.props,l={paddingLeft:`${this.calculateInputLeftPadding()}px`,paddingRight:`${this.calculateInputRightPadding()}px`},d=Object.assign({},p.defaultProps.borders,o),u="search-box__content-field",c=(0,s.default)("form-control",u,{[`${u}--top-border`]:d.top,[`${u}--right-border`]:d.right,[`${u}--bottom-border`]:d.bottom,[`${u}--left-border`]:d.left});return a.default.createElement("input",{"aria-labelledby":`${e}_label`,type:"search",name:i,placeholder:r,className:c,onKeyDown:this.handleKeyDown,onChange:n,onFocus:this.handleFocus,onBlur:this.handleBlur,value:t,id:e,autoFocus:!0,style:l})}renderTags(){const{tagData:e,onTagDelete:t,onTagClick:n,onToggleFilter:r}=this.props;return a.default.createElement("div",{className:"search-box__tags"},a.default.createElement(l.default,{onResize:this.onTagListResize},a.default.createElement(o.default,{onTagDelete:t,onTagClick:n,onHolderFocus:this.focusOnInput,tags:e,onSummary:r,maxSize:this.calculateSpaceForTags(),deletable:!0})))}renderEnterHint(){return a.default.createElement("div",{role:"presentation",className:"search-box__enter",onClick:e=>{e.stopPropagation(),e.preventDefault(),this.props.onSearch()}},r.default._t("Admin.ENTER","Enter")," ↵")}renderFilterButton(){const{expanded:e,onToggleFilter:t,formId:n}=this.props,o=(0,s.default)("btn--icon","font-icon-caret-down-two","search-box__filter-trigger",this.state.width<576?"search-box--no-label":"",{collapsed:!e}),l=this.state.width<576?"sr-only":"";return a.default.createElement(i.Button,{"aria-expanded":e,"aria-controls":n,"aria-label":r.default._t("Admin.ADVANCED","Advanced"),onClick:t,className:o,title:r.default._t("Admin.ADVANCED","Advanced")},a.default.createElement("span",{className:l},"Search options"))}renderHideButton(){const{id:e,onHide:t}=this.props;return a.default.createElement(i.Button,{onClick:t,title:r.default._t("Admin.CLOSE","Close"),"aria-label":r.default._t("Admin.CLOSE","Close"),className:"font-icon-cancel btn--no-text btn--icon-lg search-box__cancel","aria-controls":e,"aria-expanded":"true"})}render(){const{children:e,id:t,hideable:n,expanded:o,showFilters:d,dirty:u,clearable:c}=this.props,f=(0,s.default)("search-box",{"search-box--hideable":n,"search-box--not-hideable":!n,"search-box--has-focus":this.state.hasFocus,"search-box--has-not-focus":!this.state.hasFocus,"search-box--has-filters":d,"search-box--has-not-filters":!d,"search-box--compact":this.state.width<576,"search-box--expanded":o}),p=(u||!c)&&this.state.hasFocus;return a.default.createElement("div",{className:f,ref:e=>{this.nodeRef=e}},a.default.createElement(l.default,{onResize:this.onResize},a.default.createElement("div",{className:"search-box__group"},a.default.createElement(i.Label,{for:t,id:`${t}_label`,hidden:!0},r.default._t("Admin.SEARCH","Search")),this.renderTags(),this.renderInput(),p&&this.renderEnterHint(),e,a.default.createElement("div",{className:"icon font-icon-search"}),d&&this.renderFilterButton(),n&&this.renderHideButton())))}}t.Component=p,p.propTypes={onSearch:d.default.func,onToggleFilter:d.default.func,onHideFilter:d.default.func,onChange:d.default.func,onHide:d.default.func,onTagDelete:d.default.func,onTagClick:d.default.func,placeholder:d.default.string,expanded:d.default.bool,formId:d.default.string,id:d.default.string,searchText:d.default.string,hideable:d.default.bool,showFilters:d.default.bool,name:d.default.string,dirty:d.default.bool,clearable:d.default.bool,tagData:d.default.arrayOf(u.default)},p.defaultProps={placeholder:r.default._t("Admin.SEARCH","Search"),tagData:[],filters:{},formData:{},term:"",borders:{top:!1,right:!1,bottom:!0,left:!0}};t.default=p},97019:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Component=c,t.default=void 0;var r=l(n(4754)),a=l(n(67294)),i=l(n(16304)),s=n(53556),o=l(n(45697));function l(e){return e&&e.__esModule?e:{default:e}}const d=r.default._t("Admin.SEARCH","Search"),u=r.default._t("Admin.CLEAR","Clear");function c(e){let{visible:t,expanded:n,onSearch:r,onClear:o,formSchemaUrl:l,id:c,identifier:f,clearable:p}=e;const h=(m=r,e=>{"Enter"===e.key&&(e.preventDefault(),m())});var m;const g=t||n;return a.default.createElement(s.Collapse,{id:c,isOpen:n,className:"search-form"},a.default.createElement("div",{className:"search-form__wrapper",onKeyDown:h},g&&l&&a.default.createElement(i.default,{className:"no-change-track",formTag:"div",identifier:f,schemaUrl:l,onSubmit:()=>(r(),Promise.resolve())}),a.default.createElement(s.Button,{className:"search-form__submit",onClick:()=>r(),color:"primary",type:"button"},d),p&&a.default.createElement(s.Button,{className:"search-form__clear",onClick:()=>o()},u)))}c.propTypes={onSearch:o.default.func,onClear:o.default.func,visible:o.default.bool,expanded:o.default.bool,id:o.default.string.isRequired,formSchemaUrl:o.default.string,identifier:o.default.string,clearable:o.default.bool},c.defaultProps={formData:{}};t.default=c},65693:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.Component=void 0;var r=l(n(4754)),a=l(n(67294)),i=n(53556),s=l(n(93967)),o=l(n(45697));function l(e){return e&&e.__esModule?e:{default:e}}const d=r.default._t("Admin.SHOW_SEARCH","Show search"),u=e=>(0,s.default)("btn--no-text","search-toggle","font-icon-search","btn--icon-lg",{"search-toggle__active":e}),c=e=>{let{onToggle:t,toggled:n}=e;return a.default.createElement(i.Button,{title:d,onClick:t,className:u(n)},a.default.createElement("span",{className:"sr-only"},d))};t.Component=c,c.propTypes={onToggle:o.default.func,toggled:o.default.bool};t.default=c},47465:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r,a=(r=n(58592))&&r.__esModule?r:{default:r};const i=(e,t,n)=>{if(!Array.isArray(t)||0===t.length)return!1;const r=n.state.fields.find((t=>{let{name:n}=t;return n===e}));if(r&&r.source){return t.map((e=>{const t=r.source.find((t=>{let{value:n}=t;return n.toString()===e.toString()}));return t&&t.title?t.title:e})).join(", ")||!1}return!1},s={Date:(0,a.default)("ll"),Time:(0,a.default)("LT"),Datetime:(0,a.default)("lll"),Hidden:()=>!1,SingleSelect:(e,t,n)=>{if(void 0===e.value)return!1;const r=i(e.key,[e.value],n);return!!r&&Object.assign({},e,{value:r})},Boolean:e=>{if(e.value){const{value:t,...n}=e;return n}return!1},MultiSelect:(e,t,n)=>{const r=i(e.key,e.value,n);return!!r&&Object.assign({},e,{value:r})},default:e=>!!e.value&&e};t.default=s},58592:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r,a=(r=n(30381))&&r.__esModule?r:{default:r};t.default=e=>(t,n)=>{let{lang:r}=n;if(!t.value)return!1;if(t.value&&r){a.default.locale(r);const n=(0,a.default)(t.value);if(n.isValid())return Object.assign({},t,{value:n.format(e)})}return t}},18992:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r,a=(r=n(47465))&&r.__esModule?r:{default:r};const i=(e,t)=>{let{key:n,value:r,label:a}=t;return`${e}${a.toLowerCase()||n} ${r||""} `};t.default=function(e,t){let n,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(e.metadata.loading)return{};const s=r=>{const a={key:r.name,label:r.title,value:t[r.name]};let i;return i="function"==typeof n[`#${a.key}`]?n[`#${a.key}`]:"function"==typeof n[r.schemaType]?n[r.schemaType]:n.default,i(a,r,e,t)};n=Object.assign({},a.default,{Structural:(e,t)=>{const{children:n}=t;if(!Array.isArray(n)||0===n.length)return!1;const r=n.map(s).filter((e=>!1!==e)).reduce(i,"").trim(),a=n.map((e=>e.name)),o=`[name=${n[0].name}]`;return!!r&&Object.assign({},e,{value:r,linkedFields:a,focusSelector:o})}},r);const o=e.schema.fields.map(s).filter((e=>!1!==e)),l={};return o.forEach((e=>{l[e.key]=e})),l}},84331:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.Component=void 0;var r=v(n(66244)),a=v(n(1591)),i=v(n(93967)),s=v(n(94974)),o=v(n(69496)),l=v(n(25114)),d=v(n(4754)),u=v(n(98028)),c=v(n(45697)),f=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=g(t);if(n&&n.has(e))return n.get(e);var r={__proto__:null},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var s=a?Object.getOwnPropertyDescriptor(e,i):null;s&&(s.get||s.set)?Object.defineProperty(r,i,s):r[i]=e[i]}return r.default=e,n&&n.set(e,r),r}(n(67294)),p=v(n(23157)),h=v(n(8575)),m=v(n(430));function g(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(g=function(e){return e?n:t})(e)}function v(e){return e&&e.__esModule?e:{default:e}}function _(){return _=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},_.apply(this,arguments)}const b=e=>{let{clearable:t,disabled:n,lazyLoad:r,multi:u,passRef:c,placeholder:p,options:g,optionUrl:v,onChange:b,searchable:y,value:w,SelectComponent:O,AsyncSelectComponent:C,...E}=e;const[T,S]=(0,f.useState)(!1),[P,M]=(0,f.useState)(!1),[j,D]=(0,f.useState)({}),R=(0,f.createRef)();(0,f.useEffect)((()=>{if(!P)return;const e=R.current.inputRef,t=new Event("change",{bubbles:!0});e.dispatchEvent(t),M(!1)}));const k=(0,i.default)({"no-change-track":!T,"ss-searchable-dropdown-field--lazy-load":r}),I=r?{loadOptions:e=>r?e?(e=>{if(j.hasOwnProperty(e))return Promise.resolve(j[e]);let t=()=>{const t=h.default.parse(v,!0);t.search&&delete t.search,t.query.term=e;const n=h.default.format(t),r={};return r[m.default.CSRF_HEADER]=s.default.get("SecurityID"),a.default.get(n,r).then((e=>e.json())).then((t=>(j[e]=t,D(j),t)))};return t=(0,o.default)(t,500),t()})(e):Promise.resolve([]):Promise.resolve(g)}:{options:g},x=c?{ref:R}:{};let A=w;if(!u&&A){const e=Object.keys(A);if(e.length>0){const t=A[e[0]];"object"==typeof t&&(A=t)}}const N=`${E.id}__input`,F=r?C:O;return f.default.createElement(l.default,null,f.default.createElement(F,_({},E,{classNamePrefix:"ss-searchable-dropdown-field",className:k,isClearable:t,isDisabled:n,isMulti:u,isSearchable:y,placeholder:p,onChange:e=>{S(!1),JSON.stringify(w)!==JSON.stringify(e)&&(S(!0),M(!0)),b(e)},onBlur:()=>{}},I,{noOptionsMessage:e=>e?d.default._t("Admin.NO_MATCHING_OPTIONS","No matching options"):d.default._t("Admin.TYPE_TO_SEARCH","Type to search")},x,{value:A,inputId:N})))};t.Component=b,b.propTypes={clearable:c.default.bool.isRequired,disabled:c.default.bool.isRequired,lazyLoad:c.default.bool.isRequired,multi:c.default.bool.isRequired,name:c.default.string.isRequired,placeholder:c.default.string.isRequired,onChange:c.default.func.isRequired,options:c.default.arrayOf(c.default.object),optionUrl:c.default.string,passRef:c.default.bool.isRequired,searchable:c.default.bool.isRequired,value:c.default.any.isRequired,SelectComponent:c.default.oneOfType([c.default.object,c.default.func]).isRequired,AsyncSelectComponent:c.default.oneOfType([c.default.object,c.default.func]).isRequired},b.defaultProps={disabled:!1,lazyLoad:!1,clearable:!0,searchable:!0,multi:!1,passRef:!0,placeholder:"",SelectComponent:p.default,AsyncSelectComponent:r.default};t.default=(0,u.default)(b)},63980:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.Component=void 0;var r=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=d(t);if(n&&n.has(e))return n.get(e);var r={__proto__:null},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var s=a?Object.getOwnPropertyDescriptor(e,i):null;s&&(s.get||s.set)?Object.defineProperty(r,i,s):r[i]=e[i]}return r.default=e,n&&n.set(e,r),r}(n(67294)),a=l(n(98028)),i=l(n(4754)),s=n(53556),o=l(n(45697));function l(e){return e&&e.__esModule?e:{default:e}}function d(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(d=function(e){return e?n:t})(e)}function u(){return u=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},u.apply(this,arguments)}class c extends r.Component{constructor(e){super(e),this.handleChange=this.handleChange.bind(this)}getReadonlyField(){let e=this.props.source&&this.props.source.find((e=>e.value===this.props.value));return e="string"==typeof e?e:this.props.value||"",r.default.createElement(s.Input,u({plaintext:!0},this.getInputProps(),{tag:"p"}),e)}getSelectField(){const e=this.props.source?this.props.source.slice():[];return this.props.data.hasEmptyDefault&&!e.find((e=>!e.value))&&e.unshift({value:"",title:this.props.data.emptyString,disabled:!1}),r.default.createElement(s.Input,u({type:"select"},this.getInputProps()),e.map(((e,t)=>{const n=`${this.props.name}-${e.value||`empty${t}`}`,a=e.description||null;return r.default.createElement("option",{key:n,value:e.value,disabled:e.disabled,title:a},e.title)})))}getInputProps(){const e={className:`${this.props.className} ${this.props.extraClass} no-chosen`,id:this.props.id,name:this.props.name,disabled:this.props.disabled};return this.props.readOnly||Object.assign(e,{onChange:this.handleChange,value:this.props.value||""}),e}handleChange(e){"function"==typeof this.props.onChange&&this.props.onChange(e,{id:this.props.id,value:e.target.value})}render(){let e=null;return e=this.props.readOnly?this.getReadonlyField():this.getSelectField(),e}}t.Component=c,c.propTypes={id:o.default.string,name:o.default.string.isRequired,onChange:o.default.func,value:o.default.oneOfType([o.default.string,o.default.number]),readOnly:o.default.bool,disabled:o.default.bool,source:o.default.arrayOf(o.default.shape({value:o.default.oneOfType([o.default.string,o.default.number]),title:o.default.oneOfType([o.default.string,o.default.number]),description:o.default.string,disabled:o.default.bool})),data:o.default.oneOfType([o.default.array,o.default.shape({hasEmptyDefault:o.default.bool,emptyString:o.default.oneOfType([o.default.string,o.default.number])})])},c.defaultProps={source:[],extraClass:"",className:"",data:{emptyString:i.default._t("Boolean.ANY","Any")}};t.default=(0,a.default)(c)},10202:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=o(n(67294)),a=n(53556),i=o(n(93967)),s=o(n(45697));function o(e){return e&&e.__esModule?e:{default:e}}function l(e){let{title:t,disabled:n,active:s,tabClassName:o,onToggle:l}=e;if(!t)return null;const d=(0,i.default)(o,{active:s});return r.default.createElement(a.NavItem,null,r.default.createElement(a.NavLink,{onClick:l,disabled:n,className:d},t))}l.propTypes={title:s.default.string,disabled:s.default.bool,active:s.default.bool,tabClassName:s.default.string,onToggle:s.default.func.isRequired},l.defaultProps={disabled:!1,active:!1};t.default=l},40505:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=u(n(67294)),a=n(53556),i=l(n(45697)),s=u(n(93390)),o=l(n(93967));function l(e){return e&&e.__esModule?e:{default:e}}function d(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(d=function(e){return e?n:t})(e)}function u(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=d(t);if(n&&n.has(e))return n.get(e);var r={__proto__:null},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var s=a?Object.getOwnPropertyDescriptor(e,i):null;s&&(s.get||s.set)?Object.defineProperty(r,i,s):r[i]=e[i]}return r.default=e,n&&n.set(e,r),r}function c(e){let{name:t,className:n,extraClass:i,disabled:l,children:d}=e;const{activeTab:u,isOnActiveTab:c}=(0,s.default)(),f=t,p=(0,r.useMemo)((()=>({activeTab:u,currentTab:f,isOnActiveTab:!1!==c&&u===t})),[u,f,c]);return r.default.createElement(s.TabContext.Provider,{value:p},r.default.createElement(a.TabPane,{tabId:t,className:(0,o.default)(n,i),disabled:l},r.default.createElement(a.Fade,{in:c},d)))}c.propTypes={name:i.default.string.isRequired,extraClass:i.default.string,className:i.default.string,disabled:i.default.bool};t.default=c},96870:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=o(n(67294)),a=n(53556),i=o(n(45697)),s=o(n(10202));function o(e){return e&&e.__esModule?e:{default:e}}function l(){return l=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},l.apply(this,arguments)}function d(e){let{currentTab:t,children:n,onToggle:i}=e;const o=r.default.Children.map(n,(e=>{let{props:n}=e;return r.default.createElement(s.default,l({},n,{onToggle:()=>t!==n.name&&i(n.name),active:t===n.name}))}));return o&&o.length>1?r.default.createElement(a.Nav,{tabs:!0,role:"tablist"},o):null}d.propTypes={currentTab:i.default.string,onToggle:i.default.func.isRequired};t.default=d},61404:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Component=m,t.default=void 0;var r=h(n(67294)),a=n(53556),i=f(n(93967)),s=f(n(45697)),o=n(86706),l=h(n(53104)),d=h(n(93390)),u=f(n(96870)),c=f(n(56204));function f(e){return e&&e.__esModule?e:{default:e}}function p(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(p=function(e){return e?n:t})(e)}function h(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=p(t);if(n&&n.has(e))return n.get(e);var r={__proto__:null},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var s=a?Object.getOwnPropertyDescriptor(e,i):null;s&&(s.get||s.set)?Object.defineProperty(r,i,s):r[i]=e[i]}return r.default=e,n&&n.set(e,r),r}function m(e){let{hideNav:t,children:n,activeTab:s,className:o,extraClass:l,id:f,activateTab:p,defaultActiveKey:h}=e;const m={className:(0,i.default)([o,l]),id:f},g=s||(0,c.default)(h,n),v=(0,d.default)(),_=v?v.isOnActiveTab:void 0,b=(0,r.useMemo)((()=>({activeTab:g,isOnActiveTab:_})),[s,_]);return r.default.createElement("div",m,r.default.createElement("div",{className:"wrapper"},!t&&r.default.createElement(u.default,{currentTab:g,onToggle:p},n),r.default.createElement(a.TabContent,{activeTab:g},r.default.createElement(d.TabContext.Provider,{value:b},n))))}m.propTypes={id:s.default.string.isRequired,defaultActiveKey:s.default.string,extraClass:s.default.string,hideNav:s.default.bool,activateTab:s.default.func,activeTab:s.default.string},m.defaultProps={className:"",extraClass:"",hideNav:!1};const g=e=>`${e.formid}__${e.id}`;t.default=(0,o.connect)((function(e,t){const n=g(t);return{...e.tabs.fields[n]?e.tabs.fields[n]:{activeTab:null}}}),(function(e,t){const n=g(t);return{activateTab(t){e(l.activateTab(n,t))}}}))(m)},56204:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){const n=r.Children.toArray(t);if(!n||0===n.length)return"";let a;"string"==typeof e&&(a=n.find((t=>{let{props:{name:n}}=t;return n===e})));a||(a=n[0]);return a.props.name};var r=n(67294)},97228:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=u(t);if(n&&n.has(e))return n.get(e);var r={__proto__:null},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var s=a?Object.getOwnPropertyDescriptor(e,i):null;s&&(s.get||s.set)?Object.defineProperty(r,i,s):r[i]=e[i]}return r.default=e,n&&n.set(e,r),r}(n(67294)),a=d(n(97023)),i=d(n(72543)),s=d(n(93967)),o=d(n(45697)),l=d(n(53621));function d(e){return e&&e.__esModule?e:{default:e}}function u(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(u=function(e){return e?n:t})(e)}function c(){return c=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},c.apply(this,arguments)}class f extends r.Component{constructor(e){super(e),this.render=this.render.bind(this),this.onResize=this.onResize.bind(this),this.refreshShowSummaryView=this.refreshShowSummaryView.bind(this),this.getPlaceholderSize=this.getPlaceholderSize.bind(this),this.state={showSummaryView:!1}}componentDidUpdate(){const e=this.getPlaceholderSize();this.refreshShowSummaryView(e)}onResize(e){this.refreshShowSummaryView(e.width)}getPlaceholderSize(){const e=this.nodeRef;if(!e)return 0;const t=e.querySelector(".compact-tag-list__placeholder");return t?t.getBoundingClientRect().width:0}refreshShowSummaryView(e){const t=this.props.maxSize<e;this.state.showSummaryView!==t&&this.setState((()=>({showSummaryView:t})))}render(){const{maxSize:e,onSummary:t,...n}=this.props,o=this.state.showSummaryView,d=this.props.tags.length,u=(0,s.default)("compact-tag-list",{"compact-tag-list__show-summary-view":o});return r.default.createElement("div",{className:u,ref:e=>{this.nodeRef=e}},r.default.createElement(i.default,{onResize:this.onResize,className:"compact-tag-list__placeholder","aria-hidden":!0},r.default.createElement(a.default,c({},n,{focusable:!1}))),r.default.createElement("div",{className:"compact-tag-list__visible"},o?r.default.createElement(l.default,{count:d,onClick:t,onNext:n.onHolderFocus}):r.default.createElement(a.default,n)))}}f.propTypes=Object.assign({},a.default.propTypes,{maxSize:o.default.number,onSummary:o.default.func}),f.defaultProps={maxSize:0,onSummary:()=>{}};t.default=f},53621:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=o(n(67294)),a=o(n(85362)),i=o(n(4754)),s=o(n(45697));function o(e){return e&&e.__esModule?e:{default:e}}function l(){return l=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},l.apply(this,arguments)}const d=e=>{let{label:t,count:n,...i}=e;return r.default.createElement(a.default,l({},i,{deletable:!1,title:`${n} ${t}`}),n," ",r.default.createElement("span",{className:"font-icon-sliders","aria-label":t}))};d.propTypes=Object.assign({},a.default.propTypes,{label:s.default.string,count:s.default.number}),d.defaultProps={label:i.default._t("Admin.SUMMARY_TAG_LABEL","filters")};t.default=d},85362:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=l(n(67294)),a=n(53556),i=l(n(93967)),s=l(n(4754)),o=l(n(45697));function l(e){return e&&e.__esModule?e:{default:e}}function d(){return d=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},d.apply(this,arguments)}const u=e=>{let{onClick:t,onDelete:n,onDeleteKey:s,onBackSpace:o,onPrevious:l,onNext:u,deletable:c,dataKey:p,label:h,value:m,children:g,focusable:v,..._}=e;const b=((e,t,n)=>(t||e)+(n?`: ${n}`:""))(p,h,m);return r.default.createElement(a.Button,d({},_,{role:"button",className:(0,i.default)("tag-component","btn-sm",{"tag-component--deletable":c}),onClick:e=>{e.preventDefault(),t(p)},tabIndex:v?0:void 0,onKeyDown:e=>{((e,t,n,r,a,i)=>{switch(e.key){case"Backspace":e.preventDefault(),r(t);break;case"Delete":e.preventDefault(),n(t);break;case"ArrowLeft":e.preventDefault(),a(t);break;case"ArrowRight":e.preventDefault(),i(t)}})(e,p,s,o,l,u)},title:b}),c&&r.default.createElement(f,{onDelete:n,dataKey:p}),g||b)},c=e=>{e.target.parentElement.focus()},f=e=>{let{dataKey:t,onDelete:n}=e;return r.default.createElement(a.Button,{onClick:e=>{e.stopPropagation(),e.preventDefault(),n(t)},"aria-label":s.default._t("Admin.REMOVE_TAG","Remove Tag"),title:s.default._t("Admin.REMOVE_TAG","Remove Tag"),onFocus:c,tabIndex:-1,className:"tag-component__delete font-icon-cancel btn--no-text btn--icon-sm"})};u.propTypes={onClick:o.default.func,onDelete:o.default.func,onDeleteKey:o.default.func,onBackSpace:o.default.func,onPrevious:o.default.func,onNext:o.default.func,deletable:o.default.bool,dataKey:o.default.string,label:o.default.string,value:o.default.string,focusable:o.default.bool},u.defaultProps={tag:"span",deletable:!1,onClick:()=>{},onDelete:()=>{},onDeleteKey:()=>{},onBackSpace:()=>{},onPrevious:()=>{},onNext:()=>{},focusable:!0};t.default=u},97023:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.Component=void 0;var r=o(n(67294)),a=o(n(85362)),i=o(n(45697)),s=o(n(43117));function o(e){return e&&e.__esModule?e:{default:e}}function l(){return l=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},l.apply(this,arguments)}const d=!0,u=e=>{const t=document.activeElement[e?"nextElementSibling":"previousElementSibling"];return!!t&&(t.focus(),!0)},c=e=>{let{tags:t,deletable:n,focusable:i,onTagDelete:s,onTagClick:o,onHolderFocus:c}=e;const f=e=>{u(d)||c(),s(e)},p=e=>{u(false)||u(d)||c(),s(e)};return r.default.createElement("ul",{className:"tag-list"},t.map((e=>r.default.createElement(a.default,l({},e,{tag:"li",deletable:n,dataKey:e.key,focusable:i,onDelete:s,onDeleteKey:n&&s?f:void 0,onBackSpace:n&&s?p:void 0,onNext:()=>{u(d)||c()},onPrevious:()=>{u(false)},onClick:o})))))};t.Component=c,c.propTypes={onTagClick:i.default.func,onTagDelete:i.default.func,onHolderFocus:i.default.func,deletable:i.default.bool,tags:i.default.arrayOf(s.default),focusable:i.default.bool},c.defaultProps={deletable:!1,focusable:!0,onTagDelete:()=>{},onTagClick:()=>{},onHolderFocus:()=>{}};t.default=c},43117:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r,a=(r=n(45697))&&r.__esModule?r:{default:r};const i=a.default.shape({key:a.default.string.isRequired,label:a.default.string,value:a.default.string});t.default=i},74898:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.Component=void 0;var r=i(n(98028)),a=i(n(16725));function i(e){return e&&e.__esModule?e:{default:e}}class s extends a.default{getInputProps(){const e=super.getInputProps();return this.isMultiline()&&Object.assign(e,{type:"textarea",rows:this.props.data.rows,cols:this.props.data.columns}),e}isMultiline(){return this.props.data&&this.props.data.rows>1}}t.Component=s;t.default=(0,r.default)(s)},63182:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.Component=void 0;var r=d(n(98028)),a=d(n(30381)),i=d(n(68300)),s=d(n(4754)),o=d(n(45697)),l=n(81463);function d(e){return e&&e.__esModule?e:{default:e}}const u="LT";class c extends l.Component{getInputProps(){const e=s.default.inject(s.default._t("Admin.FormatExample","Example: {format}"),{format:(0,a.default)().endOf("month").format(u)}),t=this.asHTML5()?"time":"text";return{...super.getInputProps(),type:t,placeholder:e}}isMultiline(){return!1}hasNativeSupport(){return this.props.modernizr.inputtypes.time}convertToLocalised(e){let t="";if(e){const n=(0,a.default)(e,"HH:mm:ss");n.isValid()&&(t=n.format(u))}return t}convertToIso(e){let t="";if(e){const n=(0,a.default)(e,u);n.isValid()&&(t=n.format("HH:mm:ss"))}return t}}t.Component=c,c.propTypes={lang:o.default.string,modernizr:o.default.object,data:o.default.shape({html5:o.default.bool})},c.defaultProps={modernizr:i.default,data:{}};t.default=(0,r.default)(c)},20164:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.tipShape=t.default=t.TIP_TYPES=t.TIP_IMPORTANCE_LEVELS=void 0;var r=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=u(t);if(n&&n.has(e))return n.get(e);var r={__proto__:null},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var s=a?Object.getOwnPropertyDescriptor(e,i):null;s&&(s.get||s.set)?Object.defineProperty(r,i,s):r[i]=e[i]}return r.default=e,n&&n.set(e,r),r}(n(67294)),a=d(n(45697)),i=n(53556),s=d(n(4754)),o=d(n(93967)),l=d(n(22602));function d(e){return e&&e.__esModule?e:{default:e}}function u(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(u=function(e){return e?n:t})(e)}const c=t.TIP_TYPES={TITLE:"title",INPUT_GROUP:"input-group"},f=t.TIP_IMPORTANCE_LEVELS={NORMAL:"normal",HIGH:"high"},p={[f.NORMAL]:{iconColor:"muted",description:s.default._t("Admin.NORMAL_TIP","Tip")},[f.HIGH]:{iconColor:"danger",description:s.default._t("Admin.IMPORTANT_TIP","Important tip")}};function h(e){const{content:t,fieldTitle:n,icon:a,id:d,importance:u}=e,{iconColor:f,description:h}=p[u],m=s.default.inject(s.default._t("Admin.TIP_LABEL","{description} for {fieldTitle}"),{description:h,fieldTitle:n}),g=["tip",e.extraClass];e.type===c.TITLE?g.push("tip--title"):e.type===c.INPUT_GROUP&&g.push("tip--input-group","btn--last","btn-outline-secondary",`text-${f}`);const v=`${d}-tip`,_={id:v,onClick:()=>{},className:(0,o.default)(g),noText:!0,icon:a};return r.default.createElement(r.default.Fragment,null,r.default.createElement(l.default,_,m),r.default.createElement(i.UncontrolledPopover,{trigger:"legacy",placement:"top-end",target:v},r.default.createElement(i.PopoverBody,null,t)))}const m=t.tipShape={content:a.default.string.isRequired,importance:a.default.oneOf(Object.values(f)),type:a.default.oneOf(Object.values(c)),icon:a.default.string};h.propTypes={...m,extraClass:a.default.string,fieldTitle:a.default.string.isRequired,id:a.default.string.isRequired},h.defaultProps={importance:f.NORMAL,icon:"lamp",type:c.INPUT_GROUP};t.default=h},87890:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.toastShape=t.default=void 0;var r=u(n(67294)),a=u(n(45697)),i=u(n(4754)),s=n(53556),o=u(n(93967)),l=u(n(22602)),d=n(46735);function u(e){return e&&e.__esModule?e:{default:e}}const c=t.toastShape={text:a.default.string.isRequired,dismissed:a.default.bool.isRequired,type:a.default.string.isRequired,actions:a.default.arrayOf(a.default.shape(l.default.propTypes))},f=e=>{let{type:t,text:n,onDismiss:a,dismissed:u,actions:c}=e;const f=(0,o.default)("toast",`toast--${t}`,{"toast--dismissing":u});return r.default.createElement(s.Toast,{className:f,isOpen:!0},r.default.createElement(s.ToastBody,{className:"toast__body"},r.default.createElement(l.default,{className:"toast__close",icon:"cancel",noText:!0,onClick:e=>{e.preventDefault(),a()},color:"none"},i.default._t("Admin.DISMISS","Dismiss")),r.default.createElement("div",{className:"toast__content",role:"alert","aria-live":"assertive","aria-atomic":"true"},n)),c.length>0&&r.default.createElement(d.ToastActions,{actions:c,onDismiss:a,dismissed:u}))};f.propTypes={...c,onDismiss:a.default.func.isRequired},f.defaultProps={actions:[]};t.default=f},46735:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.ToastActions=t.ToastAction=void 0;var r=s(n(67294)),a=s(n(45697)),i=s(n(22602));function s(e){return e&&e.__esModule?e:{default:e}}function o(){return o=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o.apply(this,arguments)}const l=e=>{let{label:t,href:n,onClick:a,dismissed:s,onDismiss:l}=e;const d=n?{href:n,tag:"a"}:{onClick:e=>{e.preventDefault(),s||(a&&a(),l())}};return r.default.createElement(i.default,o({color:"link",className:"toast__action"},d),t)};t.ToastAction=l;const d=e=>{let{actions:t,dismissed:n,onDismiss:a}=e;return 0===t.length?null:r.default.createElement("div",{className:"toast__actions"},t.slice(0,2).map(((e,t)=>r.default.createElement(l,o({key:t},e,{onDismiss:a,dismissed:n})))))};t.ToastActions=d,d.propTypes={dismissed:a.default.bool.isRequired,actions:a.default.arrayOf(a.default.shape({label:a.default.string.isRequired,href:a.default.string,onClick:a.default.func})),onDismiss:a.default.func.isRequired},d.defaultProps={actions:[]};t.default=d},60452:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=o(t);if(n&&n.has(e))return n.get(e);var r={__proto__:null},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var s=a?Object.getOwnPropertyDescriptor(e,i):null;s&&(s.get||s.set)?Object.defineProperty(r,i,s):r[i]=e[i]}return r.default=e,n&&n.set(e,r),r}(n(67294)),a=s(n(45697)),i=s(n(87890));function s(e){return e&&e.__esModule?e:{default:e}}function o(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(o=function(e){return e?n:t})(e)}function l(){return l=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},l.apply(this,arguments)}const d=e=>{let{toasts:t,onDismiss:n,onPause:a,onResume:s}=e;const[o,d]=(0,r.useState)(void 0),u=e=>()=>{o&&clearTimeout(o),d(setTimeout(e,100))},c=u(a),f=u(s),p={onMouseEnter:c,onFocus:c,onMouseLeave:f,onBlur:f};return r.default.createElement("div",l({className:"toasts","aria-live":"polite","aria-atomic":"true"},p),r.default.createElement("div",{className:"toasts__wrapper"},t.map((e=>{let{id:t,...a}=e;return r.default.createElement(i.default,l({key:t},a,{onDismiss:()=>n(t)}))}))))};d.propTypes={toasts:a.default.arrayOf(a.default.shape(i.default.propTypes)).isRequired,onDismiss:a.default.func.isRequired,onPause:a.default.func.isRequired,onResume:a.default.func.isRequired},d.defaultProps={};t.default=d},53330:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=s(n(67294)),a=s(n(45697)),i=s(n(45332));function s(e){return e&&e.__esModule?e:{default:e}}const o=e=>{let{showBackButton:t,children:n,onBackButtonClick:a}=e;return r.default.createElement("div",{className:"toolbar toolbar--north"},r.default.createElement("div",{className:"toolbar__navigation fill-width"},t&&r.default.createElement(i.default,{onClick:e=>{e.preventDefault(),"function"==typeof a&&a(e)},className:"toolbar__back-button"}),n))};o.propTypes={onBackButtonClick:a.default.func,showBackButton:a.default.bool},o.defaultProps={showBackButton:!1};t.default=o},59888:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.SINGLE_EMPTY_VALUE=t.MULTI_EMPTY_VALUE=t.ConnectedTreeDropdownField=t.Component=void 0,Object.defineProperty(t,"findTreeByID",{enumerable:!0,get:function(){return _.findTreeByID}}),Object.defineProperty(t,"findTreeByPath",{enumerable:!0,get:function(){return _.findTreeByPath}}),Object.defineProperty(t,"findTreePath",{enumerable:!0,get:function(){return _.findTreePath}});var r=w(n(67294)),a=b(n(45697)),i=n(86706),s=n(14890),o=b(n(10932)),l=b(n(25114)),d=b(n(4754)),u=b(n(98028)),c=b(n(94301)),f=w(n(23157)),p=w(n(25548)),h=b(n(98268)),m=b(n(8575)),g=n(53556),v=n(10259),_=n(11355);function b(e){return e&&e.__esModule?e:{default:e}}function y(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(y=function(e){return e?n:t})(e)}function w(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=y(t);if(n&&n.has(e))return n.get(e);var r={__proto__:null},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var s=a?Object.getOwnPropertyDescriptor(e,i):null;s&&(s.get||s.set)?Object.defineProperty(r,i,s):r[i]=e[i]}return r.default=e,n&&n.set(e,r),r}function O(){return O=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},O.apply(this,arguments)}const C=t.MULTI_EMPTY_VALUE="unchanged",E=t.SINGLE_EMPTY_VALUE=0,T=e=>{let{children:t}=e;return r.default.createElement("span",{className:"treedropdownfield__option-title--highlighted"},t)};class S extends r.Component{constructor(e){super(e),this.render=this.render.bind(this),this.renderInput=this.renderInput.bind(this),this.renderMenuList=this.renderMenuList.bind(this),this.renderOption=this.renderOption.bind(this),this.formatOptionLabel=this.formatOptionLabel.bind(this),this.getBreadcrumbs=this.getBreadcrumbs.bind(this),this.getDropdownOptions=this.getDropdownOptions.bind(this),this.getVisibleTree=this.getVisibleTree.bind(this),this.handleBack=this.handleBack.bind(this),this.handleChange=this.handleChange.bind(this),this.handleKeyDown=this.handleKeyDown.bind(this),this.handleNavigate=this.handleNavigate.bind(this),this.handleSearchChange=this.handleSearchChange.bind(this),this.handleSearchReset=this.handleSearchReset.bind(this),this.handleOpen=this.handleOpen.bind(this),this.handleClose=this.handleClose.bind(this),this.callFetch=this.callFetch.bind(this),this.lazyLoad=this.lazyLoad.bind(this),this.filterOption=this.filterOption.bind(this),this.noOptionsMessage=this.noOptionsMessage.bind(this),this.state={opened:!1},this.searchTimer=null}componentDidMount(){this.props.readOnly||this.props.disabled||this.initialise();const e=this.props.id,t=(this.props.data.multiple?this.props.data.valueObjects||[]:[this.props.data.valueObject]).filter((e=>e));t.length&&this.props.actions.treeDropdownField.addSelectedValues(e,t)}componentDidUpdate(e){if(this.props.readOnly||this.props.disabled)return;let t=!1,n=[];this.props.search!==e.search&&(t=!0,n=this.props.visible),e.data.urlTree!==this.props.data.urlTree&&(t=!0),e.data.cacheKey!==this.props.data.cacheKey&&(t=!0),t&&this.loadTree(n,this.props.search,this.props)}getVisibleTree(){return this.props.findTreeByPath(this.props.tree,this.props.visible)}getBreadcrumbs(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.props.visible;const t=[];if(!e)return t;let n=this.props.tree;for(const r of e){if(!n.children)break;if(n=n.children.find((e=>e.id===r)),!n)break;t.push(n)}return t}getDropdownOptions(){const e=this.props.value,t=this.getVisibleTree();let n=t?[...t.children]:[];const r=this.props.selectedValues.filter((t=>t.id===e||Array.isArray(e)&&e.find((e=>e===t.id))));return!this.state.opened&&this.props.data.showSelectedPath?n=r.map((e=>({...e,title:e.titlePath||e.title}))):r.length&&(n=[...r.filter((e=>!n.find((t=>t.id===e.id)))),...n]),n.unshift({id:this.props.data.multiple?"":E,title:this.props.data.hasEmptyDefault?this.props.data.emptyString:null,disabled:!n.length||!this.props.data.hasEmptyDefault}),n}getPath(e){const t=this.props.findTreePath(this.props.tree,e,this.props.data.treeBaseId);return this.getBreadcrumbs(t).reduce(((e,t)=>`${e}${t.contextString||""}${t.title}/`),"")}initialise(){return this.loadTree([],this.props.search).then((e=>{let t=[];!this.props.data.multiple&&this.props.value&&(t=this.props.findTreePath(e,this.props.value,this.props.data.treeBaseId),t?t.pop():t=[]),this.props.actions.treeDropdownField.setVisible(this.props.id,t)}))}callFetch(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.props;const r=m.default.parse(n.data.urlTree,!0);n.data.showSearch&&t.length&&(r.query.search=t,r.query.flatList="1"),e.length?r.query.ID=e[e.length-1]:!n.data.multiple&&n.value&&(r.query.forceValue=n.value),r.query.format="json",r.search=null;const a=m.default.format(r);return this.props.fetch(a,{credentials:"same-origin"}).then((e=>e.json()))}lazyLoad(e){if(e.find((e=>this.props.loading.indexOf(e)>-1||this.props.failed.indexOf(e)>-1)))return Promise.resolve({});const t=this.props.findTreeByPath(this.props.tree,e);return t&&(0===t.count||t.children.length)?Promise.resolve({}):this.loadTree(e)}loadTree(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.props;return n.actions.treeDropdownField.beginTreeUpdating(n.id,e),this.callFetch(e,t,n).then((t=>(n.actions.treeDropdownField.updateTree(n.id,e,t),t))).catch((t=>{if(n.actions.treeDropdownField.updateTreeFailed(n.id,e),"function"==typeof n.onLoadingError)return n.onLoadingError({errors:[{value:t.message,type:"error"}]});throw t}))}hasSearch(){return this.props.data.showSearch&&Boolean(this.props.search)}filterOption(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";const n=this.getVisibleTree();if((e.value===E||""===e.value)&&(!this.props.data.hasEmptyDefault||this.props.visible.length||this.hasSearch()))return!1;const r=e.label&&e.label.toLocaleLowerCase(),a=t.toLocaleLowerCase();return a?r&&r.includes(a):!n||!e.value||n.children.find((t=>t.id===e.value))}handleOpen(){this.setState({opened:!0}),this.handleSearchReset()}handleClose(){this.setState({opened:!1})}handleSearchReset(){clearTimeout(this.searchTimer),this.props.actions.treeDropdownField.setSearch(this.props.id,"")}handleSearchChange(e){clearTimeout(this.searchTimer),this.searchTimer=setTimeout((()=>{this.props.actions.treeDropdownField.setSearch(this.props.id,e)}),500)}handleChange(e){let t=null;if(this.handleSearchReset(),this.props.data.multiple){if(t=C,e&&e.length){const n=e&&e.filter(((t,n)=>e.findIndex((e=>e.id===t.id))===n));t=n.map((e=>e.id)),this.props.actions.treeDropdownField.addSelectedValues(this.props.id,n)}}else{const n=e?e.id:null;let r=(this.getVisibleTree()||this.props.tree).children.find((e=>e.id===n));r&&(this.props.data.showSelectedPath&&(r={...r,titlePath:this.getPath(n)}),this.props.actions.treeDropdownField.addSelectedValues(this.props.id,[r])),t=n||E}"function"==typeof this.props.onChange&&this.props.onChange(t)}handleNavigate(e,t){if(this.hasSearch())return;e.stopPropagation(),e.nativeEvent.stopImmediatePropagation(),e.preventDefault();let n=this.props.findTreePath(this.props.tree,t,this.props.data.treeBaseId);n||(n=this.props.visible.slice(0),n.push(t)),this.lazyLoad(n),this.props.actions.treeDropdownField.setVisible(this.props.id,n)}handleKeyDown(e){if(this.hasSearch())return void(27===e.keyCode&&this.handleSearchReset(e));const t=this.selectField.state.focusedOption;if(t)switch(e.keyCode){case 37:this.handleBack(e);break;case 39:t.count&&this.handleNavigate(e,t.id)}}handleBack(e){if(this.hasSearch())return;e.stopPropagation(),e.preventDefault();let t=this.props.visible;t.length&&(t=t.slice(0,t.length-1)),this.lazyLoad(t),this.props.actions.treeDropdownField.setVisible(this.props.id,t)}renderInput(e){let{children:t,...n}=e;return n.id=this.props.id,r.default.createElement(f.components.Input,n,t)}renderBreadcrumbs(e,t){let{cx:n,getStyles:a,getClassNames:i,...s}=t;if(0===e.length)return null;e=e.map((e=>e.title)).join(" / ");const l=this.hasSearch()?"font-icon-search":"font-icon-left-open-big",d=n({option:!0,breadcrumbs:!0},i("option",{})),u=o.default.div(a("option",s));return r.default.createElement(u,{className:d,onClick:this.handleBack,role:"button",tabIndex:0},r.default.createElement("button",{type:"button",className:"treedropdownfield__breadcrumbs-button"},r.default.createElement("span",{className:`icon ${l}`})),r.default.createElement("span",{className:"treedropdownfield__breadcrumbs-crumbs flexbox-area-grow"},e))}renderMenuList(e){let{children:t,...n}=e;const a=this.getBreadcrumbs();return r.default.createElement(f.components.MenuList,n,this.renderBreadcrumbs(a,n),t)}renderOption(e){let{children:t,...n}=e,a=null;const i=n.data;if(i.count&&!this.hasSearch()){const e=e=>this.handleNavigate(e,i.id);a=r.default.createElement("button",{type:"button",className:"treedropdownfield__option-button fill-width",onClick:e,onMouseDown:e,onTouchStart:e},r.default.createElement("span",{className:"treedropdownfield__option-count-icon font-icon-right-open-big"}))}let s=null;return this.hasSearch()&&(s=i.contextString,s||!this.props.data.hasEmptyDefault||this.props.visible.length||(s=this.props.data.emptyString)),r.default.createElement(f.components.Option,n,r.default.createElement("span",{className:"treedropdownfield__option-title-box flexbox-area-grow fill-height"},r.default.createElement("span",{className:"treedropdownfield__option-title"},t),s&&r.default.createElement("span",{className:"treedropdownfield__option-context"},s)),a)}renderReadOnly(){const e={id:this.props.id,readOnly:this.props.readOnly,disabled:this.props.disabled},t=this.props.extraClass?`treedropdownfield ${this.props.extraClass}`:"treedropdownfield";let n=this.props.data.hasEmptyDefault?this.props.data.emptyString:"";const a=this.props.selectedValues;if(this.props.data.multiple){n=this.props.value.map((e=>a.find((t=>t.id===e))||e)).map((e=>e.title)).join(", ")}else{const e=a.find((e=>e.id===this.props.value));n=this.props.value,e&&"string"==typeof e.title&&(n=e.title)}return r.default.createElement("div",{className:t},r.default.createElement("span",{className:"treedropdownfield__title"},n),r.default.createElement(g.Input,O({type:"hidden",name:this.props.name,value:this.props.value},e)))}formatOptionLabel(e){const{title:t}=e;return this.props.search.length?(0,v.mapHighlight)(t||"",this.props.search,T):t}noOptionsMessage(e){let{inputValue:t}=e;const n=this.getVisibleTree()||{};return this.props.failed.indexOf(n.id||0)>=0?d.default._t("Admin.TREEDROPDOWN_FAILED","Failed to load"):t||!n.id?d.default._t("Admin.TREEDROPDOWN_NO_OPTIONS","No options"):d.default._t("Admin.TREEDROPDOWN_NO_CHILDREN","No children")}render(){if(this.props.readOnly||this.props.disabled)return this.renderReadOnly();const e=this.props.extraClass?`treedropdownfield ${this.props.extraClass}`:"treedropdownfield",t=this.getDropdownOptions(),n=Array.isArray(this.props.value)?this.props.value:[this.props.value];let a=this.props.selectedValues.filter((e=>n.includes(e.id)));a.length||(a=t.filter((e=>n.includes(e.id)))),!a.length&&this.props.data.hasEmptyDefault&&(a=t[0]);const i=void 0!==this.props.data.showSearch&&this.props.data.showSearch,s={Input:this.renderInput,MenuList:this.renderMenuList,Option:this.renderOption},o=this.getVisibleTree()||{},u=this.props.loading.indexOf(o.id||0)>=0;return r.default.createElement(l.default,null,r.default.createElement(f.default,{isSearchable:i,isMulti:this.props.data.multiple,isClearable:!0,className:e,name:this.props.name,options:t,delimiter:",",components:s,formatOptionLabel:this.formatOptionLabel,filterOption:this.filterOption,onChange:this.handleChange,onMenuOpen:this.handleOpen,onMenuClose:this.handleClose,onKeyDown:this.handleKeyDown,onInputChange:this.handleSearchChange,isLoading:u,loadingMessage:()=>d.default._t("Admin.TREEDROPDOWN_LOADING","Loading..."),noOptionsMessage:this.noOptionsMessage,value:a,ref:e=>{this.selectField=e},placeholder:this.props.data.emptyString,getOptionLabel:e=>{let{title:t}=e;return t},getOptionValue:e=>{let{id:t}=e;return t},classNamePrefix:"treedropdownfield",classNames:{option:()=>"fill-width"}}))}}t.Component=S,S.propTypes={className:a.default.string,extraClass:a.default.string,id:a.default.string,name:a.default.string.isRequired,onChange:a.default.func,value:a.default.oneOfType([a.default.string,a.default.number,a.default.array]),readOnly:a.default.bool,disabled:a.default.bool,tree:a.default.shape(h.default.propTypes),findTreeByPath:a.default.func,findTreePath:a.default.func,visible:a.default.array,loading:a.default.array,failed:a.default.array,selectedValues:a.default.array,data:a.default.shape({cacheKey:a.default.string,urlTree:a.default.string.isRequired,emptyString:a.default.string,valueObject:a.default.shape(h.default.propTypes),valueObjects:a.default.arrayOf(a.default.shape(h.default.propTypes)),hasEmptyDefault:a.default.bool,showSearch:a.default.bool,multiple:a.default.bool,showSelectedPath:a.default.bool,treeBaseId:a.default.number}),onLoadingError:a.default.func,search:a.default.string,actions:a.default.shape({treeDropdownField:a.default.object}),fetch:a.default.func},S.defaultProps={value:"",extraClass:"",className:"",tree:{},visible:[],loading:[],failed:[],findTreeByPath:_.findTreeByPath,findTreePath:_.findTreePath,fetch:c.default};const P=t.ConnectedTreeDropdownField=(0,i.connect)((function(e,t){const n=t.id,r=e.treeDropdownField.fields[n]?e.treeDropdownField.fields[n]:{tree:{},visible:[],loading:[],failed:[],search:"",selectedValues:[]};let a=t.value;return t.data.multiple&&t.value===C&&(a=[]),t.data.multiple||t.value||(a=E),{...r,value:a}}),(function(e){return{actions:{treeDropdownField:(0,s.bindActionCreators)(p,e)}}}))(S);t.default=(0,u.default)(P)},98268:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r,a=(r=n(45697))&&r.__esModule?r:{default:r};const i=()=>null;i.propTypes={id:a.default.oneOfType([a.default.string,a.default.number]),title:a.default.string,titlePath:a.default.string,disabled:a.default.bool,parentid:a.default.number,count:a.default.number,depth:a.default.number,expanded:a.default.bool,limited:a.default.bool,marked:a.default.bool,opened:a.default.bool,children:a.default.array};t.default=i},11355:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.findTreePath=t.findTreeByPath=t.findTreeByID=void 0;const n=(e,t)=>{if(!e||0===Object.keys(e).length)return null;if(0===t.length)return e;const r=t.slice(0),a=r.shift(),i=e.children.find((e=>e.id===a));return i?n(i,r):null};t.findTreeByPath=n;const r=(e,t)=>{if(!t||!e||!e.children||0===Object.keys(e).length)return null;if(e.id===t)return e;for(const n of e.children){const e=r(n,t);if(null!==e)return e}return null};t.findTreeByID=r;const a=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;if(!t)return[];if(!e||0===Object.keys(e).length)return null;if(e.id===t)return[e.id];if(!e.children)return null;for(const r of e.children){const i=a(r,t);if(null!==i)return e.id&&e.id!==n&&i.unshift(e.id),i}return null};t.findTreePath=a},80384:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.Component=void 0;var r=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=u(t);if(n&&n.has(e))return n.get(e);var r={__proto__:null},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var s=a?Object.getOwnPropertyDescriptor(e,i):null;s&&(s.get||s.set)?Object.defineProperty(r,i,s):r[i]=e[i]}return r.default=e,n&&n.set(e,r),r}(n(67294)),a=d(n(45697)),i=d(n(93967)),s=d(n(4754)),o=d(n(34411)),l=d(n(6732));function d(e){return e&&e.__esModule?e:{default:e}}function u(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(u=function(e){return e?n:t})(e)}class c extends r.PureComponent{renderHeader(){return r.default.createElement("thead",null,r.default.createElement("tr",null,r.default.createElement("th",{scope:"col",className:"used-on__col--index"},s.default._t("Admin.USED_ON_NUM","#")),r.default.createElement("th",{scope:"col",className:"used-on__col--title"},s.default._t("Admin.USED_ON","Used on"))))}renderBody(){const{usedOn:e,loading:t,error:n}=this.props;if(n||!e||!e.length){let e=null,a=null;n?(e=s.default.inject(s.default._t("Admin.LOADING_ERROR","As error occured when loading the data: {message}"),{message:n}),a="error"):t?(e=r.default.createElement(o.default,null),a="loading"):(e=s.default._t("Admin.NOT_USED","This file is currently not in use."),a="empty");const l=(0,i.default)(["used-on__message",`used-on__message--${a}`]);return r.default.createElement("tbody",{"aria-live":"polite"},r.default.createElement("tr",null,r.default.createElement("td",{className:l,colSpan:"3"},e)))}return r.default.createElement("tbody",{"aria-live":"polite"},e.map(this.renderRow))}renderRow(e,t){const{id:n,type:a}=e,s=e.ancestors?[e].concat(e.ancestors).reverse():[e].reverse();let o="#",l=!0;const d=s.map(((e,a)=>{let s=e.title;const d=e.link;s&&s.length>=25&&(s=`${s.substring(0,25).trim()}...`),d&&(o=d);const u=`${t}-${n}-${a}`,c=["used-on__title-item"];return l&&(c.push("used-on__title-item--first"),l=!1),r.default.createElement("li",{className:(0,i.default)(c),key:u},s)})),u=`${t}-${n}`;return r.default.createElement("tr",{key:u,className:"used-on__row"},r.default.createElement("td",{className:"used-on__col--index"},r.default.createElement("a",{href:o,className:"used-on__cell-link"},t+1)),r.default.createElement("td",{className:"used-on__col--title"},r.default.createElement("a",{href:o,className:"used-on__cell-link"},r.default.createElement("ul",{className:"used-on__title-items"},d),r.default.createElement("span",{className:"used-on__type"},a))))}render(){return r.default.createElement("table",{className:"table used-on__table"},this.renderHeader(),this.renderBody())}}t.Component=c,c.propTypes={loading:a.default.bool,usedOn:a.default.arrayOf(a.default.shape({id:a.default.oneOfType([a.default.string,a.default.number]),title:a.default.string,type:a.default.string,link:a.default.string,ancestors:a.default.arrayOf(a.default.shape({title:a.default.string,link:a.default.string})).isRequired})),error:a.default.string};t.default=(0,l.default)(c)},6732:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=d(t);if(n&&n.has(e))return n.get(e);var r={__proto__:null},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var s=a?Object.getOwnPropertyDescriptor(e,i):null;s&&(s.get||s.set)?Object.defineProperty(r,i,s):r[i]=e[i]}return r.default=e,n&&n.set(e,r),r}(n(67294)),i=(r=n(45697))&&r.__esModule?r:{default:r},s=n(86706),o=n(36992),l=n(93390);function d(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(d=function(e){return e?n:t})(e)}t.default=e=>{class t extends a.Component{componentDidMount(){this.haveFetchedData=!1,this.props.forceFetch&&this.fetchDataFromEndpoint()}componentDidUpdate(e){const t=this.props.tabContext;(e.identifier!==this.props.identifier||!t||t.isOnActiveTab)&&this.fetchDataFromEndpoint()}fetchDataFromEndpoint(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.props;const{method:t,url:n}=e.data.readUsageEndpoint||{};this.haveFetchedData&&!this.props.forceFetch||e.loadUsedOn(e.identifier,t,n),this.haveFetchedData=!0}render(){return a.default.createElement(e,this.props)}}t.propTypes={identifier:i.default.string,loading:i.default.bool,data:i.default.oneOfType([i.default.array,i.default.shape({recordClass:i.default.string,recordId:i.default.oneOfType([i.default.string,i.default.number]),readUsageEndpoint:i.default.shape({url:i.default.string,method:i.default.string})})]),usedOn:i.default.array,forceFetch:i.default.bool};const n=(0,l.injectTabContext)(t),r=(0,s.connect)(((e,t)=>{const{recordClass:n,recordId:r}=t.data,a=n&&r?`${n}#${r}`:"",i=e.usedOn;return{identifier:a,loading:i.loading.includes(a),usedOn:i.usedOn[a]||null,error:i.errors[a]||null}}),{loadUsedOn:o.loadUsedOn})(n);return r.Component=n,r}},57129:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.statuses=t.default=void 0;var r=l(n(67294)),a=l(n(93967)),i=l(n(45697)),s=l(n(37294)),o=l(n(4754));function l(e){return e&&e.__esModule?e:{default:e}}const d=t.statuses=["draft","modified","live","archived"],u=e=>{let{status:t,className:n}=e;const i={className:(0,a.default)(n,"versioned-badge",`versioned-badge--${t}`),message:o.default._t(`ADMIN.${t.toUpperCase()}`,(l=t,l.replace(/^\w/,(e=>e.toUpperCase())))),status:"default"};var l;return r.default.createElement(s.default,i)};u.propTypes={status:i.default.oneOf(d).isRequired,className:i.default.string};t.default=u},98031:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.Component=void 0;var r=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=p(t);if(n&&n.has(e))return n.get(e);var r={__proto__:null},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var s=a?Object.getOwnPropertyDescriptor(e,i):null;s&&(s.get||s.set)?Object.defineProperty(r,i,s):r[i]=e[i]}return r.default=e,n&&n.set(e,r),r}(n(67294)),a=f(n(45697)),i=n(53556),s=f(n(4754)),o=n(86706),l=n(14890),d=n(56486),u=n(15005),c=f(n(93967));function f(e){return e&&e.__esModule?e:{default:e}}function p(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(p=function(e){return e?n:t})(e)}function h(){return h=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},h.apply(this,arguments)}class m extends r.Component{constructor(e){super(e),this.toggle=this.toggle.bind(this),this.state={dropdownOpen:!1},this.handleSplitSelect=this.handleSplitSelect.bind(this),this.handlePreviewSelect=this.handlePreviewSelect.bind(this),this.handleEditSelect=this.handleEditSelect.bind(this)}getIconClass(){const{activeState:e,editIconClass:t,previewIconClass:n,splitIconClass:r}=this.props;switch(e){case u.VIEW_MODE_STATES.EDIT:return t;case u.VIEW_MODE_STATES.PREVIEW:return n;default:return r}}getTitle(){const{activeState:e}=this.props;switch(e){case u.VIEW_MODE_STATES.EDIT:return s.default._t("Admin.EDIT_MODE","Edit mode");case u.VIEW_MODE_STATES.PREVIEW:return s.default._t("Admin.PREVIEW_MODE","Preview mode");default:return s.default._t("Admin.SPLIT_MODE","Split mode")}}toggle(){window.setTimeout((()=>this.setState((e=>({dropdownOpen:!e.dropdownOpen})))),0)}handleSplitSelect(){this.props.onSplitSelect()}handlePreviewSelect(){this.props.onPreviewSelect()}handleEditSelect(){this.props.onEditSelect()}renderSplitDropdownItem(){const{activeState:e,splitAvailable:t,splitIconClass:n}=this.props,a=(0,c.default)("btn","icon-view","first",n,{"viewmode-toggle__button":!0,"viewmode-toggle--selected":e===u.VIEW_MODE_STATES.SPLIT,disabled:!t});return r.default.createElement(i.DropdownItem,{type:"button",disabled:!t,className:a,value:u.VIEW_MODE_STATES.SPLIT,onClick:this.handleSplitSelect,id:"splitModeButton"},s.default._t("Admin.SPLIT_MODE","Split mode"))}renderEditDropDownItem(){const{activeState:e,editIconClass:t}=this.props,n=(0,c.default)("btn","icon-view","last","viewmode-toggle__button",t,{"viewmode-toggle--selected":e===u.VIEW_MODE_STATES.EDIT});return r.default.createElement(i.DropdownItem,{type:"button",className:n,value:"content",onClick:this.handleEditSelect},s.default._t("Admin.EDIT_MODE","Edit mode"))}renderPreviewDropDownItem(){const{activeState:e,previewIconClass:t}=this.props,n=(0,c.default)("btn","icon-view","viewmode-toggle__button",t,{"viewmode-toggle--selected":e===u.VIEW_MODE_STATES.PREVIEW});return r.default.createElement(i.DropdownItem,{type:"button",className:n,value:"preview",onClick:this.handlePreviewSelect},s.default._t("Admin.PREVIEW_MODE","Preview mode"))}render(){const{activeState:e,area:t,splitAvailable:n,dropdownToggleProps:a}=this.props;if(t===u.VIEW_MODE_STATES.EDIT&&e===u.VIEW_MODE_STATES.SPLIT)return null;const o=(0,c.default)(this.getIconClass(),"btn","viewmode-toggle__dropdown",a.classname);return r.default.createElement(i.Dropdown,{isOpen:this.state.dropdownOpen,toggle:this.toggle,className:"viewmode-toggle"},r.default.createElement(i.DropdownToggle,h({className:o,caret:!0},a),r.default.createElement("span",{className:"viewmode-toggle__chosen-view-title"},this.getTitle())),r.default.createElement(i.DropdownMenu,null,this.renderSplitDropdownItem(),this.renderEditDropDownItem(),this.renderPreviewDropDownItem(),!n&&r.default.createElement("div",{className:"disabled-tooltip"},r.default.createElement("span",{className:"disabled-tooltip-span"},s.default._t("Admin.SCREEN_TOO_SMALL","Screen size too small")))))}}t.Component=m,m.propTypes={activeState:a.default.oneOf(Object.values(u.VIEW_MODE_STATES)),area:a.default.string.isRequired,splitAvailable:a.default.bool,onPreviewSelect:a.default.func,onEditSelect:a.default.func,onSplitSelect:a.default.func,editIconClass:a.default.string,previewIconClass:a.default.string,splitIconClass:a.default.string},m.defaultProps={splitAvailable:!0,editIconClass:"font-icon-edit-write",previewIconClass:"font-icon-eye",splitIconClass:"font-icon-columns",dropdownToggleProps:{}};t.default=(0,l.compose)((0,o.connect)((function(e){return{activeState:e.viewMode.activeState,splitAvailable:e.viewMode.splitAvailable}}),(function(e){return{onSplitSelect(){e((0,d.selectSplitMode)())},onEditSelect(){e((0,d.selectEditMode)())},onPreviewSelect(){e((0,d.selectPreviewMode)())}}})))(m)},55766:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r,a=(r=n(67294))&&r.__esModule?r:{default:r},i=n(54582),s=n(89250);t.default=(0,i.provideInjector)((e=>{let{children:t}=e;return a.default.createElement("div",{className:"app"},t,a.default.createElement(s.Outlet,null))}))},25114:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=s(n(67294)),a=s(n(66751)),i=n(70917);function s(e){return e&&e.__esModule?e:{default:e}}t.default=function(e){let{children:t}=e;return window.ssReactSelectCache||(window.ssReactSelectCache=(0,a.default)({key:"react-select",insertionPoint:document.querySelector("title")})),r.default.createElement(i.CacheProvider,{value:window.ssReactSelectCache},t)}},36800:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=l(n(67294)),a=n(11962),i=n(54582),s=l(n(87393)),o=l(n(45697));function l(e){return e&&e.__esModule?e:{default:e}}const d=e=>{const t=e.formComponent,n={...e};return delete n.formComponent,r.default.createElement(t,n)};d.propTypes={formComponent:o.default.elementType.isRequired};const u=(0,i.inject)(["Form"],(e=>({formComponent:e})))(d);t.default=(0,a.reduxForm)({getFormState:s.default,destroyOnUnmount:!1})(u)},16304:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Component=void 0,t.createFormIdentifierFromProps=O,t.default=void 0;var r=w(n(4754)),a=y(n(67294)),i=w(n(45697)),s=n(86706),o=n(14890),l=w(n(94301)),d=w(n(16012)),u=n(11962),c=w(n(48834)),f=n(48942),p=y(n(39042)),h=w(n(21965)),m=y(n(56334)),g=w(n(79298)),v=n(54582),_=w(n(87393));function b(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(b=function(e){return e?n:t})(e)}function y(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=b(t);if(n&&n.has(e))return n.get(e);var r={__proto__:null},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var s=a?Object.getOwnPropertyDescriptor(e,i):null;s&&(s.get||s.set)?Object.defineProperty(r,i,s):r[i]=e[i]}return r.default=e,n&&n.set(e,r),r}function w(e){return e&&e.__esModule?e:{default:e}}function O(e){let{identifier:t,schema:n={}}=e;return[t,n.schema&&n.schema.name].filter((e=>e)).join(".")}class C extends a.Component{constructor(e){super(e),this.handleSubmit=this.handleSubmit.bind(this),this.reduceSchemaErrors=this.reduceSchemaErrors.bind(this),this.handleAutofill=this.handleAutofill.bind(this)}componentDidMount(){const{schema:e,refetchSchemaOnMount:t}=this.props;!t&&e||this.fetch()}componentDidUpdate(e){this.props.schemaUrl!==e.schemaUrl&&this.fetch()}getMessages(e){const t={};return e&&e.fields&&e.fields.forEach((e=>{e.message&&(t[e.name]=e.message)})),t}getIdentifier(){return O(arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.props)}handleSubmit(e,t,n){let r=null;const a=()=>n().then((e=>{let t=e;if(t){const e=void 0!==t.state;if(t=this.reduceSchemaErrors(t),this.props.actions.schema.setSchema(this.props.schemaUrl,t,this.getIdentifier()),e){const e=t.schema||this.props.schema.schema,n=(0,c.default)(e,t.state);this.props.actions.reduxForm.initialize(this.getIdentifier(),n)}}return t}));if(r="function"==typeof this.props.onSubmit?this.props.onSubmit(e,t,a):a(),!r)throw new Error("Promise was not returned for submitting");return r.then((e=>{if(!e||!e.state)return e;const t=this.getMessages(e.state);if(Object.keys(t).length)throw new u.SubmissionError(t);return e}))}reduceSchemaErrors(e){if(!e.errors)return e;let t={...e};return t.state||(t={...t,state:this.props.schema.state}),t={...t,state:{...t.state,fields:t.state.fields.map((t=>{let n=e.errors.find((e=>e.field===t.name));return n&&(n=(0,f.createErrorHtml)([n.value])),{...t,message:n}})),messages:e.errors.filter((e=>!e.field))}},delete t.errors,(0,d.default)(t)}overrideStateData(e){if(!this.props.stateOverrides||!e)return e;const t=this.props.stateOverrides.fields;let n=e.fields;return t&&n&&(n=n.map((e=>{const n=t.find((t=>t.name===e.name));return n?h.default.recursive(!0,e,n):e}))),Object.assign({},e,this.props.stateOverrides,{fields:n})}callFetch(e){return(0,l.default)(this.props.schemaUrl,{headers:{"X-FormSchema-Request":e.join(","),Accept:"application/json"},credentials:"same-origin"}).then((e=>e.status>=200&&e.status<300?e.json():new Promise(((t,n)=>e.json().then((t=>{n({status:e.status,statusText:e.statusText,json:t})})).catch((()=>{n({status:e.status,statusText:e.statusText,json:{}})}))))))}fetch(){let e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if(this.props.loading)return Promise.resolve({});const r=["auto",e&&"schema",t&&"state",n&&"errors"].filter((e=>e));return this.props.actions.schema.setSchemaLoading(this.props.schemaUrl,!0),"function"==typeof this.props.onFetchingSchema&&this.props.onFetchingSchema(),this.callFetch(r).then((e=>{if(this.props.actions.schema.setSchemaLoading(this.props.schemaUrl,!1),e.errors?"function"==typeof this.props.onLoadingError&&this.props.onLoadingError(e):"function"==typeof this.props.onLoadingSuccess&&this.props.onLoadingSuccess(),void 0!==e.id&&e.state){const t=Object.assign({},e,{state:this.overrideStateData(e.state)}),n=O({...this.props,schema:{...this.props.schema,...t}});this.props.actions.schema.setSchema(this.props.schemaUrl,t,n);const r=e.schema||this.props.schema.schema,a=(0,c.default)(r,t.state);return this.props.actions.reduxForm.initialize(n,a,!1,{keepSubmitSucceeded:!0}),"function"==typeof this.props.onReduxFormInit&&this.props.onReduxFormInit(),t}return e})).catch((e=>{if(this.setState({didError:!0}),this.props.actions.schema.setSchemaLoading(this.props.schemaUrl,!1),"function"==typeof this.props.onLoadingError)return this.props.onLoadingError(this.normaliseError(e));throw e}))}normaliseError(e){if(e.json&&e.json.errors)return e.json;if(e.status&&e.statusText)return{errors:[{code:e.status,value:e.statusText,type:"error"}]};return{errors:[{value:e.message||r.default._t("Admin.UNKNOWN_ERROR","An unknown error has occurred."),type:"error"}]}}handleAutofill(e,t){this.props.actions.reduxForm.autofill(this.getIdentifier(),e,t)}render(){if(this.state&&this.state.didError)return null;if(!this.props.schema||!this.props.schema.schema||this.props.loading){const e=this.props.loadingComponent;return a.default.createElement(e,{containerClass:"loading--form flexbox-area-grow"})}const e=Object.assign({},this.props,{form:this.getIdentifier(),onSubmitSuccess:this.props.onSubmitSuccess,onSubmit:this.handleSubmit,onAutofill:this.handleAutofill,autoFocus:this.props.autoFocus});return a.default.createElement(m.default,e)}}t.Component=C,C.propTypes=Object.assign({},m.basePropTypes,{actions:i.default.shape({schema:i.default.object,reduxFrom:i.default.object}),autoFocus:i.default.bool,identifier:i.default.string.isRequired,schemaUrl:i.default.string.isRequired,schema:m.schemaPropType,refetchSchemaOnMount:i.default.bool.isRequired,form:i.default.string,submitting:i.default.bool,onFetchingSchema:i.default.func,onReduxFormInit:i.default.func,loadingComponent:i.default.elementType.isRequired}),C.defaultProps={refetchSchemaOnMount:!0};t.default=(0,o.compose)((0,v.inject)(["ReduxForm","ReduxFormField","Loading"],((e,t,n)=>({loadingComponent:n,baseFormComponent:e,baseFieldComponent:t})),(e=>{let{identifier:t}=e;return t})),(0,s.connect)((function(e,t){const n=e.form.formSchemas[t.schemaUrl],r=O({...t,schema:n}),a=(0,g.default)((0,_.default)(e),r);return{schema:n,submitting:a&&a.submitting,values:a&&a.values,stateOverrides:n&&n.stateOverride,loading:n&&n.metadata&&n.metadata.loading}}),(function(e){return{actions:{schema:(0,o.bindActionCreators)(p,e),reduxForm:(0,o.bindActionCreators)({autofill:u.autofill,initialize:u.initialize},e)}}})))(C)},52583:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.createInsertLinkModal=t.InsertLinkModal=void 0;var r=f(n(67294)),a=u(n(45697)),i=n(14890),s=n(86706),o=u(n(48297)),l=u(n(63596)),d=f(n(39042));function u(e){return e&&e.__esModule?e:{default:e}}function c(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(c=function(e){return e?n:t})(e)}function f(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=c(t);if(n&&n.has(e))return n.get(e);var r={__proto__:null},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var s=a?Object.getOwnPropertyDescriptor(e,i):null;s&&(s.get||s.set)?Object.defineProperty(r,i,s):r[i]=e[i]}return r.default=e,n&&n.set(e,r),r}class p extends r.Component{constructor(e){super(e),this.handleSubmit=this.handleSubmit.bind(this),e.isOpen||e.setOverrides(null)}componentDidUpdate(e){const t=this.props;(t.isOpen&&!e.isOpen||!t.isOpen&&e.isOpen)&&t.setOverrides(t.isOpen?t:null)}getModalProps(){const e=Object.assign({},this.props,{onSubmit:this.handleSubmit,onClosed:this.props.onClosed,autoFocus:!0,showErrorMessage:!0});return delete e.onInsert,delete e.sectionConfig,e}handleSubmit(e,t){if("action_cancel"===t)this.props.onClosed();else this.props.onInsert(e,t);return Promise.resolve()}render(){const e=this.getModalProps();return r.default.createElement(o.default,e)}}function h(e){return{actions:{schema:(0,i.bindActionCreators)(d,e)}}}t.InsertLinkModal=p,p.propTypes={isOpen:a.default.bool,schemaUrl:a.default.string,onInsert:a.default.func.isRequired,onClosed:a.default.func.isRequired,setOverrides:a.default.func.isRequired,actions:a.default.object,requireLinkText:a.default.bool,currentPageID:a.default.number},p.defaultProps={};t.createInsertLinkModal=(e,t)=>(0,i.compose)((0,s.connect)((function(n,r){const a=n.config.sections.find((t=>t.name===e)),i=r.requireLinkText?"?requireLinkText":"";return{sectionConfig:a,schemaUrl:`${a.form[t].schemaUrl}${i}`.replace(/:pageid/,r.currentPageID)}}),h),l.default)(p);t.default=(0,i.compose)((0,s.connect)((()=>({})),h),l.default)(p)},63596:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.FileSchemaHandler=t.ConnectedFileSchemaHandler=void 0;var r,a=u(n(67294)),i=(r=n(45697))&&r.__esModule?r:{default:r},s=n(14890),o=u(n(39042)),l=n(86706);function d(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(d=function(e){return e?n:t})(e)}function u(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=d(t);if(n&&n.has(e))return n.get(e);var r={__proto__:null},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var s=a?Object.getOwnPropertyDescriptor(e,i):null;s&&(s.get||s.set)?Object.defineProperty(r,i,s):r[i]=e[i]}return r.default=e,n&&n.set(e,r),r}function c(){return c=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},c.apply(this,arguments)}class f extends a.Component{constructor(e){super(e),this.setOverrides=this.setOverrides.bind(this)}componentDidMount(){this.setOverrides(this.props)}componentWillUnmount(){this.setOverrides()}setOverrides(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;if(e){if(e.schemaUrl){const t=Object.assign({},e.fileAttributes);delete t.ID;const n={fields:Object.entries(t).map((e=>{const[t,n]=e;return{name:t,value:n}}))};this.props.actions.schema.setSchemaStateOverrides(e.schemaUrl,n)}}else{const e=this.props.schemaUrl;e&&this.props.actions.schema.setSchemaStateOverrides(e,null)}}render(){const{Component:e,...t}=this.props;return a.default.createElement(e,c({setOverrides:this.setOverrides},t))}}function p(e,t){return{actions:{...t&&t.actions||{},schema:(0,s.bindActionCreators)(o,e)}}}t.FileSchemaHandler=f,f.propTypes={fileAttributes:i.default.object,Component:i.default.elementType,schemaUrl:i.default.string,actions:i.default.object};t.ConnectedFileSchemaHandler=(0,l.connect)((()=>({})),p())(f);t.default=function(e){return(0,l.connect)((function(){return{Component:e}}),p)(f)}},73276:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=u(t);if(n&&n.has(e))return n.get(e);var r={__proto__:null},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var s=a?Object.getOwnPropertyDescriptor(e,i):null;s&&(s.get||s.set)?Object.defineProperty(r,i,s):r[i]=e[i]}return r.default=e,n&&n.set(e,r),r}(n(67294)),a=d(n(45697)),i=n(53556),s=n(54582),o=d(n(94301)),l=d(n(94974));function d(e){return e&&e.__esModule?e:{default:e}}function u(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(u=function(e){return e?n:t})(e)}function c(){return c=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},c.apply(this,arguments)}const f="SilverStripe\\Admin\\SudoModeController";t.default=e=>{class t extends r.Component{constructor(e){super(e),this.state={active:l.default.getSection(f).sudoModeActive||!1,showVerification:!1,loading:!1,errorMessage:null},this.handleConfirmNotice=this.handleConfirmNotice.bind(this),this.handleVerify=this.handleVerify.bind(this),this.handleVerifyInputKeyPress=this.handleVerifyInputKeyPress.bind(this),this.passwordInput=null,this.setPasswordInput=e=>{this.passwordInput=e}}handleConfirmNotice(){this.setState({showVerification:!0},(()=>this.passwordInput&&this.passwordInput.focus()))}handleVerify(){this.setState({loading:!0});const e=new FormData;e.append("SecurityID",l.default.get("SecurityID")),e.append("Password",this.passwordInput.value),(0,o.default)(l.default.getSection(f).endpoints.activate,{method:"POST",body:e}).then((e=>e.json().then((e=>e.result?this.setState({loading:!1,active:!0}):this.setState({loading:!1,errorMessage:e.message},(()=>this.passwordInput.focus()))))))}handleVerifyInputKeyPress(e){13===e.charCode&&(e.stopPropagation(),e.preventDefault(),this.handleVerify())}isSudoModeActive(){return!0===this.state.active}renderSudoModeNotice(){const{i18n:e}=window,{showVerification:t}=this.state,n=l.default.getSection(f).helpLink||null;return r.default.createElement("div",{className:"sudo-mode__notice sudo-mode__notice--required"},r.default.createElement("p",{className:"sudo-mode__notice-message"},e._t("Admin.VERIFY_ITS_YOU","Verify it's you first."),n&&r.default.createElement("a",{href:n,className:"sudo-mode__notice-help",target:"_blank",rel:"noopener noreferrer"},e._t("Admin.WHATS_THIS","What is this?"))),!t&&r.default.createElement(i.Button,{className:"sudo-mode__notice-button font-icon-lock",color:"info",onClick:this.handleConfirmNotice},e._t("Admin.VERIFY_TO_CONTINUE","Verify to continue")))}renderSudoModeVerification(){const{i18n:e}=window,{errorMessage:t}=this.state,n={type:"password",name:"sudoModePassword",id:"sudoModePassword",className:"no-change-track",onKeyPress:this.handleVerifyInputKeyPress,innerRef:this.setPasswordInput},a=t?{valid:!1,invalid:!0}:{};return r.default.createElement("div",{className:"sudo-mode__verify"},r.default.createElement(i.FormGroup,{className:"sudo-mode__verify-form-group"},r.default.createElement(i.Label,{for:"sudoModePassword"},e._t("Admin.ENTER_PASSWORD","Enter your password")),r.default.createElement(i.InputGroup,null,r.default.createElement(i.Input,c({},n,a)),r.default.createElement(i.InputGroupAddon,{addonType:"append"},r.default.createElement(i.Button,{className:"sudo-mode__verify-button",color:"info",onClick:this.handleVerify},e._t("Admin.VERIFY","Verify"))),r.default.createElement(i.FormFeedback,null,t))))}renderSudoMode(){const{showVerification:e,loading:t}=this.state,n=this.props.LoadingComponent||(0,s.loadComponent)("CircularLoading","SudoMode");return t?r.default.createElement("div",{className:"sudo-mode alert alert-info"},r.default.createElement(n,{block:!0})):r.default.createElement("div",{className:"sudo-mode alert alert-info"},this.renderSudoModeNotice(),e&&this.renderSudoModeVerification())}render(){return this.isSudoModeActive()?r.default.createElement(e,this.props):this.renderSudoMode()}}return t.propTypes={LoadingComponent:a.default.oneOfType([a.default.node,a.default.func])},t}},49331:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=d(n(67294)),a=d(n(60452)),i=n(86706),s=n(14890),o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=l(t);if(n&&n.has(e))return n.get(e);var r={__proto__:null},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var s=a?Object.getOwnPropertyDescriptor(e,i):null;s&&(s.get||s.set)?Object.defineProperty(r,i,s):r[i]=e[i]}return r.default=e,n&&n.set(e,r),r}(n(36158));function l(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(l=function(e){return e?n:t})(e)}function d(e){return e&&e.__esModule?e:{default:e}}t.default=(0,i.connect)((e=>{let{toasts:{toasts:t}}=e;return{toasts:t}}),(e=>({actions:(0,s.bindActionCreators)(o,e)})))((e=>{let{toasts:t,actions:{dismiss:n,pause:i,resume:s}}=e;return r.default.createElement(a.default,{toasts:t,onDismiss:n,onPause:i,onResume:s})}))},93390:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.TabContext=void 0,t.injectTabContext=function(e){return t=>{const n=o();return r.default.createElement(e,i({},t,{tabContext:n}))}},t.useTabFirstShow=function(e){const t=o(),n=!t||t.isOnActiveTab,[a,i]=(0,r.useState)(!1);(0,r.useEffect)((()=>{n&&(i(!0),e(t))}),[a||n])};var r=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=a(t);if(n&&n.has(e))return n.get(e);var r={__proto__:null},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var s in e)if("default"!==s&&Object.prototype.hasOwnProperty.call(e,s)){var o=i?Object.getOwnPropertyDescriptor(e,s):null;o&&(o.get||o.set)?Object.defineProperty(r,s,o):r[s]=e[s]}return r.default=e,n&&n.set(e,r),r}(n(67294));function a(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(a=function(e){return e?n:t})(e)}function i(){return i=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i.apply(this,arguments)}const s=t.TabContext=r.default.createContext(!1);function o(){return(0,r.useContext)(s)}t.default=o},28432:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;let n=new class{constructor(){this.defaultLocale="en_US",this.currentLocale=null,this.autoDetectLocale=!0,this.lang={}}setLocale(e){this.currentLocale=e,this.autoDetectLocale=!1}getLocale(){return null!==this.currentLocale?this.currentLocale:this.defaultLocale}_t(e,t,n,r){const a=t||"";if(!this.lang)return a;const i=this.getLocale(),s=[i,i.replace(/_[\w]+/i,""),this.defaultLocale,this.defaultLocale.replace(/_[\w]+/i,"")];for(let t=0;t<s.length;t++){const n=s[t];if(this.lang[n]&&this.lang[n][e])return this.lang[n][e]}return a}addDictionary(e,t){void 0===this.lang[e]&&(this.lang[e]={});for(let n in t)this.lang[e][n]=t[n];this.autoDetectLocale&&(this.currentLocale=this.detectLocale())}getDictionary(e){return this.lang[e]}stripStr(e){return e.replace(/^\s*/,"").replace(/\s*$/,"")}stripStrML(e){const t=e.split("\n");for(let e=0;e<t.length;e+=1)t[e]=stripStr(t[e]);return stripStr(t.join(" "))}sprintf(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];if(0===n.length)return e;const a=new RegExp("(.?)(%s)","g");let i=0;return e.replace(a,(function(e,t,r,a,s){return"%"===t?e:t+n[i++]}))}inject(e,t){const n=new RegExp("{([A-Za-z0-9_]*)}","g");return e.replace(n,(function(e,n,r,a){return t[n]?t[n]:e}))}detectLocale(){let e=document.documentElement.getAttribute("lang");if(e||(e=document.body.getAttribute("lang")),!e){const t=document.getElementsByTagName("meta");for(let n=0;n<t.length;n++)t[n].attributes["http-equiv"]&&"content-language"===t[n].attributes["http-equiv"].nodeValue.toLowerCase()&&(e=t[n].attributes.content.nodeValue)}if(e||(e=this.defaultLocale),2===e.length)for(let t in this.lang)if(t.substr(0,2).toLowerCase()===e.toLowerCase())return t;const t=e.match(/([^-|_]*)[-|_](.*)/);return t?t[1].toLowerCase()+"_"+t[2].toUpperCase():null}addEvent(e,t,n,r){return e.addEventListener?(e.addEventListener(t,n,r),!0):e.attachEvent?e.attachEvent("on"+t,n):void console.log("Handler could not be attached")}};window.ss=void 0!==window.ss?window.ss:{},window.ss.i18n=window.i18n=n;t.default=n},87594:function(e,t,n){"use strict";var r=o(n(4754)),a=o(n(19755)),i=o(n(67294)),s=n(20745);function o(e){return e&&e.__esModule?e:{default:e}}const l=(0,n(54582).loadComponent)("FormBuilderModal");a.default.entwine("ss",(e=>{e(".cms-content-actions .add-to-campaign-action,#add-to-campaign__action").entwine({onclick(){let t=e("#add-to-campaign__dialog-wrapper");return t.length||(t=e('<div id="add-to-campaign__dialog-wrapper" />'),e("body").append(t)),t.open(),!1}}),e(".add-to-campaign-modal .add-to-campaign-modal__nav-link").entwine({onclick:t=>{t.preventDefault();const n=e(t.target);window.location=n.attr("href")}}),e("#add-to-campaign__dialog-wrapper").entwine({ReactRoot:null,onunmatch(){this._clearModal()},open(){this._renderModal(!0)},close(){this._renderModal(!1)},_renderModal(t){var n=this;const a=e("form.cms-edit-form :input[name=ID]").val(),o=`${window.ss.store.getState().config.sections.find((e=>"SilverStripe\\CMS\\Controllers\\CMSPageEditController"===e.name)).form.AddToCampaignForm.schemaUrl}/${a}`,d=r.default._t("Admin.ADD_TO_CAMPAIGN","Add to campaign");let u=this.getReactRoot();u||(u=(0,s.createRoot)(this[0])),u.render(i.default.createElement(l,{title:d,isOpen:t,onSubmit:function(){return n._handleSubmitModal(...arguments)},onClosed:()=>this.close(),schemaUrl:o,bodyClassName:"modal__dialog",className:"add-to-campaign-modal",responseClassBad:"modal__response modal__response--error",responseClassGood:"modal__response modal__response--good",identifier:"Admin.AddToCampaign"})),this.setReactRoot(u)},_clearModal(){const e=this.getReactRoot();e&&(e.unmount(),this.setReactRoot(null))},_handleSubmitModal(e,t,n){return n()}})}))},76406:function(e,t,n){"use strict";var r,a=(r=n(19755))&&r.__esModule?r:{default:r};(0,a.default)(document).on("click",".confirmedpassword .showOnClick a",(function(){var e=(0,a.default)(".showOnClickContainer",(0,a.default)(this).parent());return e.toggle("fast",(function(){e.toggleClass("d-none").find('input[type="hidden"]').val(e.hasClass("d-none")?0:1)})),!1}))},40303:function(e,t,n){"use strict";var r=o(n(19755)),a=o(n(4754)),i=o(n(30381)),s=o(n(68300));function o(e){return e&&e.__esModule?e:{default:e}}r.default.entwine("ss",(e=>{e("input[type=date]").entwine({onadd(){if(s.default.inputtypes.date)return;if(this.prop("disabled")||this.prop("readonly")||this.hasClass("hasDatepicker"))return;const t=e("<input/>",{type:"hidden",name:this.attr("name"),value:this.val()});this.parent().append(t),this.removeAttr("name"),i.default.locale(this.attr("lang"));const n=this.val();let r="";if(n){const e=(0,i.default)(n);e.isValid()&&(r=e.format("L"))}this.val(r);const o=a.default.inject(a.default._t("Admin.FormatExample","Example: {format}"),{format:(0,i.default)().endOf("month").format("L")});this.attr("placeholder",o),this.updateValue()},onchange(){this.updateValue()},updateValue(){const e=this.val();let t="";if(e)for(const n of["L","YYYY-MM-DD"]){const r=(0,i.default)(e,n);if(r.isValid()){t=r.format("YYYY-MM-DD");break}}this.parent().find("input[type=hidden]").val(t)}})}))},57893:function(e,t,n){"use strict";var r=o(n(19755)),a=o(n(4754)),i=o(n(30381)),s=o(n(68300));function o(e){return e&&e.__esModule?e:{default:e}}n(881),r.default.entwine("ss",(e=>{e("input[type=datetime-local]").entwine({onadd(){if(s.default.inputtypes["datetime-local"])return;if(this.prop("disabled")||this.prop("readonly")||this.hasClass("hasDatepicker"))return;const t=e("<input/>",{type:"hidden",name:this.attr("name"),value:this.val()});this.parent().append(t),this.removeAttr("name"),i.default.locale(this.attr("lang"));const n=this.val();let r="";if(n){const e=(0,i.default)(n);e.isValid()&&(r=e.format("L LT"))}this.val(r);const o=a.default.inject(a.default._t("Admin.FormatExample","Example: {format}"),{format:(0,i.default)().endOf("month").format("L LT")});this.attr("placeholder",o),this.updateValue()},onchange(){this.updateValue()},updateValue(){const e=this.val();let t="";if(e){const n=(0,i.default)(e,["L LT",i.default.ISO_8601]);n.isValid()&&(t=n.format("YYYY-MM-DDTHH:mm:ss"))}this.parent().find("input[type=hidden]").val(t)}})}))},17106:function(e,t,n){"use strict";var r=l(n(19755)),a=l(n(4754)),i=l(n(67294)),s=n(20745),o=(l(n(62266)),n(48834),n(54582));function l(e){return e&&e.__esModule?e:{default:e}}function d(){return d=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},d.apply(this,arguments)}n(43466),n(881),r.default.entwine("ss",(function(e){e(".grid-field").entwine({onmatch:function(){this.needsColumnFix()&&(this.fixColumns(),this.injectSearchButton(!1)),this.hasFilters()&&this.injectSearchButton(!0),!this.is(".grid-field--lazy-loadable")||0!==this.closest(".ss-tabset, .cms-tabset").length&&"force"!==this.data("gridfield-lazy-load-state")||(this.data("gridfield-lazy-load-state","ready"),this.lazyload()),this.data("gridfield-lazy-load-state","ready")},lazyload:function(){"ready"!==this.data("gridfield-lazy-load-state")?this.data("gridfield-lazy-load-state","force"):(this.removeClass("grid-field--lazy-loadable").addClass("grid-field--lazy-loaded"),this.reload())},reload:function(t,n){var r=this,i=this.closest("form"),s=this.find(":input:focus").attr("name"),o=i.find(":input:not(.grid-field__search-holder :input, .relation-search)").serializeArray(),l=this.find("tbody"),d=this.find(".grid-field__title-row th").attr("colspan");if(t||(t={}),t.data||(t.data=[]),t.data=t.data.concat(o),window.location.search){let e=window.location.search.replace(/^\?/,"").split("&");for(let n=0;n<e.length;n++){let r=e[n].split("=");2==r.length&&t.data.push({name:decodeURIComponent(r[0]),value:decodeURIComponent(r[1])})}}l.find("tr").remove();var u=e("<td />").addClass("ss-gridfield-item loading").attr("colspan",d);l.append(e("<tr />").append(u));e.ajax(e.extend({},{headers:{"X-Pjax":"CurrentField"},type:"POST",url:this.data("url"),dataType:"html",success:function(a){if(r.empty().append(e(a).children()),s&&r.find(':input[name="'+s+'"]').focus(),r.find(".grid-field__filter-header, .grid-field__search-holder").length){var i="show"===t.data[0].filter;r.needsColumnFix()&&r.fixColumns(),r.injectSearchButton(i)}n&&n.apply(this,arguments),r.trigger("reload",r),!1!==t.data[0].triggerChange&&r.trigger("change")},error:function(e){alert(a.default._t("Admin.ERRORINTRANSACTION"))},complete:function(e,t){r.find(".loading").removeClass("loading")}},t))},showDetailView:function(e){window.location.href=e},getItems:function(){return this.find(".ss-gridfield-item")},setState:function(e,t){var n=this.getState();n[e]=t,this.find(':input[name="'+this.data("name")+'[GridState]"]').val(JSON.stringify(n))},getState:function(){const e=this.find(':input[name="'+this.data("name")+'[GridState]"]').val();return e?JSON.parse(e):{}},hasFilters:function(){return!!this.getState().GridFieldFilterHeader},needsColumnFix:function(){return this.find(".grid-field__filter-header, .grid-field__search-holder").length&&!this.find(".grid-field__col-compact").length&&!this.find("th.col-Actions").length},fixColumns:function(t){this.find(".sortable-header").append('<th class="main col-Actions" />'),this.find("tbody tr").each((function(){e(this).find("td:last").attr("colspan",2)}));var n=e('<th class="extra" />');e(".grid-field__filter-header th:last .action").each((function(){e(this).detach(),n.append(e(this))})),e(".grid-field__filter-header").append(n)},injectSearchButton:function(e){const t=this.find(".grid-field__filter-header").length>0;let n;e?(n='<span class="non-sortable"></span>',this.addClass("show-filter").find(".grid-field__filter-header, .grid-field__search-holder").removeClass("grid-field__search-holder--hidden"),t||this.find(":button[name=showFilter]").hide()):(n='<button type="button" title="Open search and filter" name="showFilter" class="btn btn-secondary font-icon-search btn--no-text btn--icon-lg grid-field__filter-open"></button>',this.removeClass("show-filter").find(".grid-field__filter-header, .grid-field__search-holder").addClass("grid-field__search-holder--hidden")),t&&this.find(".sortable-header th:last").html(n)},keepStateInHistory:function(){const t=e(this).find(".gridfield-actionmenu__container").data("schema"),n=e(this).data("name");t&&t.length>0&&t.filter((e=>{if("link"===e.type){const t=this.buildUrlQueryString(e.url,n),r=window.location.pathname+t;window.ss.router.replace(r,void 0,void 0,!1)}}))},buildUrlQueryString:function(e,t){const n={};for(const e of window.location.search.replace(/^\?/,"").split("&")){const[r,a]=e.split("=");r.match(new RegExp(`^gridState\\-${t}\\-[0-9]$`))||(n[r]=a)}const r={},a=[window.location.origin,e].join("/"),i=new URL(a).searchParams;for(const[e,t]of i.entries())r[e]=t;const s=Object.assign(n,r),o=[];for(const e in s){if(""===e)continue;const t=encodeURIComponent(s[e]);o.push([e,t].join("="))}return 0===o.length?"":"?"+o.join("&")}}),e(".grid-field *").entwine({getGridField:function(){return this.closest(".grid-field")}}),e(".gridfield-actionmenu__container").entwine({Timer:null,Component:null,Actions:null,ReactRoot:null,onmatch(){this._super();let t=[];e(".action-menu--handled",this.parent()).each((function(){const n=e(this).detach();t.push(n)})),this.setActions(t);const n=this.closest(".cms-content").attr("id"),r=n?{context:n}:{},a=(0,o.loadComponent)("GridFieldActions",r);this.setComponent(a),this.refresh()},onunmatch(){this._super();const t=this.getReactRoot();t&&(t.unmount(),this.setReactRoot(null));const n=this.getActions(),r=this.parent();n&&e(n).each((function(){e(this).appendTo(r)}))},refresh(){const e=this.data("schema"),t=this.getComponent();let n=this.getReactRoot();n||(n=(0,s.createRoot)(this[0])),n.render(i.default.createElement(t,{schema:e})),this.setReactRoot(n)}}),e(".grid-field :button[name=showFilter]").entwine({onclick:function(e){this.closest(".grid-field").find(".grid-field__filter-header, .grid-field__search-holder").removeClass("grid-field__search-holder--hidden").find(":input:first").focus(),this.closest(".grid-field").addClass("show-filter"),this.parent().html('<span class="non-sortable"></span>'),e.preventDefault()}}),e(".grid-field .ss-gridfield-item").entwine({onclick:function(t){if(t.target.classList.contains("action-menu__toggle"))return this._super(t),!1;if(e(t.target).closest(".action").length)return this._super(t),!1;var n=this.find(".edit-link, .view-link");n.length&&this.getGridField().showDetailView(n.prop("href"))},onmouseover:function(){this.find(".edit-link, .view-link").length&&this.css("cursor","pointer")},onmouseout:function(){this.css("cursor","default")}}),e(".grid-field .action.action_import:button").entwine({onclick:function(e){e.preventDefault(),this.openmodal()},onmatch:function(){this._super(),"open"===this.data("state")&&this.openmodal()},onunmatch:function(){this._super()},openmodal:function(){let t=e(this.data("target")),n=e(this.data("modal"));t.length<1?(t=n,t.appendTo(document.body)):t.innerHTML=n.innerHTML;let r=e(".modal-backdrop");function a(){r.removeClass("show"),t.removeClass("show"),setTimeout((function(){r.remove()}),150)}r.length<1&&(r=e('<div class="modal-backdrop fade"></div>'),r.appendTo(document.body)),t.find("[data-dismiss]").add(".modal-backdrop").on("click",(function(){a()})),e(document).on("keydown",(function(e){27===e.keyCode&&a()})),setTimeout((function(){r.addClass("show"),t.addClass("show")}),0)}}),e(".grid-field .action:button").entwine({onclick:function(t){var n="show";let r=!0;if(this.is(":disabled"))return void t.preventDefault();!this.hasClass("ss-gridfield-button-close")&&this.closest(".grid-field").hasClass("show-filter")||(n="hidden"),(this.hasClass("ss-gridfield-pagination-action")||this.hasClass("grid-field__sort"))&&(r=!1);var a=[{name:this.attr("name"),value:this.val(),filter:n,triggerChange:r}],i=this.data("action-state");i&&a.push({name:"ActionState",value:JSON.stringify(i)});const s=e(this).getGridField();s.reload({data:a},(function(t,n,r){s.keepStateInHistory();const a=r.getResponseHeader("X-Message-Text"),i=r.getResponseHeader("X-Message-Type");if(a&&i){var o=e("#Form_EditForm_error");o.addClass(i),o.html(a),o.show()}})),t.preventDefault()},actionurl:function(){var t=this.closest(":button"),n=this.getGridField(),r=this.closest("form"),a=r.find(":input.gridstate").serialize(),i=r.find('input[name="SecurityID"]').val();a+="&"+encodeURIComponent(t.attr("name"))+"="+encodeURIComponent(t.val()),i&&(a+="&SecurityID="+encodeURIComponent(i));var s=this.data("action-state");s&&(a+="&ActionState="+encodeURIComponent(JSON.stringify(s))),window.location.search&&(a=window.location.search.replace(/^\?/,"")+"&"+a);var o=-1==n.data("url").indexOf("?")?"?":"&";return e.path.makeUrlAbsolute(n.data("url")+o+a,e("base").attr("href"))}}),e(".grid-field .add-existing-autocompleter").entwine({onbuttoncreate:function(){var e=this;this.toggleDisabled(),this.find('input[type="text"]').on("keyup",(function(){e.toggleDisabled()}))},onunmatch:function(){this.find('input[type="text"]').off("keyup")},toggleDisabled:function(){var e=this.find(".ss-ui-button"),t=""!==this.find('input[type="text"]').val(),n=e.is(":disabled");(t&&n||!t&&!n)&&e.attr("disabled",!n)}}),e(".grid-field .grid-field__col-compact .action--delete, .grid-field .grid-field__col-compact .action--archive, .cms-edit-form .btn-toolbar .action--delete, .cms-edit-form .btn-toolbar .action--archive, .grid-field__col-compact .gridfield-button-unlink").entwine({onclick:function(t){const n=e(this).hasClass("action--archive")?a.default._t("Admin.ARCHIVECONFIRMMESSAGE","Are you sure you want to archive this record?"):a.default._t("Admin.DELETECONFIRMMESSAGE","Are you sure you want to delete this record?");if(!confirm(n))return t.preventDefault(),!1;this._super(t);const r=e(this).hasClass("action--archive")?ss.i18n._t("Admin.ARCHIVE_CONFIRM_MESSAGE","Archived"):ss.i18n._t("Admin.DELETE_CONFIRM_MESSAGE","Deleted");e(this).hasClass("dropdown-item")&&jQuery.noticeAdd({text:r,type:"success",stayTime:5e3,inEffect:{left:"0",opacity:"show"}})}}),e(".grid-field .grid-print-button.action:button").entwine({UUID:null,onmatch:function(){this._super(),this.setUUID((new Date).getTime())},onunmatch:function(){this._super()},onclick:function(e){var t=this.actionurl();return window.open(t),e.preventDefault(),!1}}),e(".ss-gridfield-print-iframe").entwine({onmatch:function(){this._super(),this.hide().on("load",(function(){this.focus(),(this.contentWindow||this).print()}))},onunmatch:function(){this._super()}}),e(".grid-field .action.no-ajax, .grid-field .no-ajax .action:button").entwine({onclick:function(e){return window.location.href=this.actionurl(),e.preventDefault(),!1}}),e(".grid-field .action-detail").entwine({onclick:function(){return this.getGridField().showDetailView(e(this).prop("href")),!1}}),e(".grid-field[data-selectable]").entwine({getSelectedItems:function(){return this.find(".ss-gridfield-item.ui-selected")},getSelectedIDs:function(){return e.map(this.getSelectedItems(),(function(t){return e(t).data("id")}))}}),e(".grid-field[data-selectable] .ss-gridfield-items").entwine({onadd:function(){this._super(),this.selectable()},onremove:function(){this._super(),this.data("selectable")&&this.selectable("destroy")}}),e(".js-injector-boot .grid-field .grid-field__search-holder").entwine({Component:null,ReactRoot:null,onmatch(){this._super(),this.prependTo(this.parent());const e=this.closest(".cms-content").attr("id"),t=e?{context:e}:{},n=(0,o.loadComponent)("Search",t);this.setComponent(n),this.refresh()},onunmatch(){this._super();const e=this.getReactRoot();e&&(e.unmount(),this.setReactRoot(null))},close(){const t=this.data("schema"),n=[{name:t.clearAction,value:"",filter:"hidden",triggerChange:!1}];t.clearActionState&&n.push({name:"ActionState",value:t.clearActionState});const r=e(this).getGridField();r.reload({data:n},(function(){r.keepStateInHistory()}))},search(t){const n=this.data("schema"),r=[{name:n.searchAction,value:"",filter:"show",triggerChange:!1}];n.searchActionState&&r.push({name:"ActionState",value:n.searchActionState});for(const[e,a]of Object.entries(t))if(a){const t=`filter[${n.gridfield}][${e}]`;r.push({name:t,value:a})}const a=e(this).getGridField();a.reload({data:r},(function(){a.keepStateInHistory()}))},refresh(){const e=this.data("schema"),t=this.getComponent();String(e.gridfield).replace(/\-/g,".");let n=this.getReactRoot();n||(n=(0,s.createRoot)(this[0])),n.render(i.default.createElement(t,d({id:`${e.gridfield}Search`,display:"VISIBLE",displayBehavior:"HIDEABLE",filterPrefix:"Search__",onHide:()=>this.close(),onSearch:e=>this.search(e)},e))),this.setReactRoot(n)}}),e(".js-injector-boot .grid-field .search-box__content-field").entwine({onkeydown:function(e){"Enter"===e.key&&e.preventDefault()}}),e(".grid-field .grid-field__filter-header :input").entwine({onmatch:function(){var e=this.closest(".extra").find(".ss-gridfield-button-filter"),t=this.closest(".extra").find(".ss-gridfield-button-reset");this.val()&&(e.addClass("filtered"),t.addClass("filtered")),this._super()},onunmatch:function(){this._super()},onkeydown:function(t){if(!this.closest(".ss-gridfield-button-reset").length){var n=this.closest(".extra").find(".ss-gridfield-button-filter"),r=this.closest(".extra").find(".ss-gridfield-button-reset");if("13"==t.keyCode){var a=this.closest(".grid-field__filter-header").find(".ss-gridfield-button-filter"),i="show";!this.hasClass("ss-gridfield-button-close")&&this.closest(".grid-field").hasClass("show-filter")||(i="hidden");var s=[{name:a.attr("name"),value:a.val(),filter:i,triggerChange:!1}];a.data("action-state")&&s.push({name:"ActionState",value:JSON.stringify(a.data("action-state"))});const t=e(this).getGridField(),n=function(){t.keepStateInHistory()};return t.reload({data:s},n),!1}n.addClass("hover-alike"),r.addClass("hover-alike")}}}),e(".grid-field .relation-search").entwine({onfocusin:function(t){this.autocomplete({source:function(t,n){var r=e(this.element);e(this.element).closest("form");e.ajax({headers:{"X-Pjax":"Partial"},dataType:"json",type:"GET",url:e(r).data("searchUrl"),data:encodeURIComponent(r.attr("name"))+"="+encodeURIComponent(r.val()),success:n,error:function(e){alert(a.default._t("Admin.ERRORINTRANSACTION","An error occured while fetching data from the server\n Please try again later."))}})},select:function(t,n){var r=e('<input type="hidden" name="relationID" class="action_gridfield_relationfind no-change-track" />');r.val(n.item.id),e(this).closest(".grid-field").find(".action_gridfield_relationfind").replaceWith(r),e(this).closest(".grid-field").find(".action_gridfield_relationadd").removeAttr("disabled")}})}}),e(".grid-field .pagination-page-number input").entwine({onkeydown:function(t){if(13==t.keyCode){t.preventDefault();var n=parseInt(e(this).val(),10),r=e(this).getGridField();r.setState("GridFieldPaginator",{currentPage:n});const a=function(){r.keepStateInHistory()};return r.reload({},a),!1}}})}))},49414:function(__unused_webpack_module,__unused_webpack_exports,__webpack_require__){"use strict";var _jquery=_interopRequireDefault(__webpack_require__(19755));__webpack_require__(51726);var _lodash=_interopRequireDefault(__webpack_require__(91658));function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}var ss=void 0!==window.ss?window.ss:{};ss.editorWrappers={},ss.editorWrappers.tinyMCE=function(){var editorID;return{init:function(e){editorID=e,this.create()},destroy:function(){tinymce.EditorManager.execCommand("mceRemoveEditor",!1,editorID)},getInstance:function(){return tinymce.EditorManager.get(editorID)},onopen:function(){},onclose:function(){},setHeight:function(e,t){if(void 0!==t&&e.target&&e.target.iframeElement){e.target.iframeElement.height=""!==t?"auto":t;const n=e.target.iframeElement.closest(".tox-sidebar-wrap");n&&(n.style.height=t)}},getConfig:function(){var e="#"+editorID,t=(0,_jquery.default)(e).data("config"),n=t.row_height?t.row_height:void 0,r=this;return t.selector=e,t.setup=function(e){e.on("change",(function(){r.save()})),e.on("init",(e=>{r.setHeight(e,n)})),e.on("ResizeEditor",(e=>{r.setHeight(e,"")}))},t},save:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};var t=this.getInstance();t.save(),e.silent||((0,_jquery.default)(t.getElement()).trigger("change"),t.getElement().dispatchEvent(new Event("input",{bubbles:!0})))},create:function(){let e,t,n;function r(r){const a=r.target;!e||(new Date-e)/100>500?(n=$(a).scrollTop(),$(".mce-floatpanel").css("opacity","0")):window.clearTimeout(t),e=new Date,t=window.setTimeout((()=>function(t,n){const r=$(t).scrollTop();$(".mce-floatpanel").each(((e,t)=>{const a=parseFloat(t.style.top);$(t).css("top",a-(r-n)+"px")})),$(".mce-floatpanel").css("opacity","1"),e=void 0}(a,n)),500)}var a=this.getConfig();void 0!==a.baseURL&&(tinymce.EditorManager.baseURL=a.baseURL),a.skin=a.skin||"silverstripe",tinymce.init(a).then((e=>{if(e.length>0&&e[0].container){$(e[0].container).closest(".panel--scrollable").on("scroll",(e=>r(e)))}}))},repaint:function(){},isDirty:function(){return this.getInstance().isDirty()},getContent:function(){return this.getInstance().getContent()},getSelection:function(){return this.getInstance().selection.getSel().toString()||""},getDOM:function(){return this.getInstance().getElement()},getContainer:function(){return this.getInstance().getContainer()},getSelectedNode:function(){return this.getInstance().selection.getNode()},selectNode:function(e){this.getInstance().selection.select(e)},setContent:function(e,t){this.getInstance().setContent(e,t)},insertContent:function(e,t){this.getInstance().insertContent(e,t)},replaceContent:function(e,t){this.getInstance().execCommand("mceReplaceContent",!1,e,t)},insertLink:function(e,t,n){if(n){n=n.replaceAll("<","&lt;").replaceAll(">","&gt;");const t=this.getInstance().dom.create("a",e,n);this.getInstance().selection.setNode(t)}else this.getInstance().execCommand("mceInsertLink",!1,e,t)},removeLink:function(){this.getInstance().execCommand("unlink",!1)},cleanLink:function(href,node){var settings=this.getConfig,cb=settings.urlconverter_callback,cu=tinyMCE.settings.convert_urls;return cb&&(href=eval(cb+"(href, node, true);")),cu&&href.match(new RegExp("^"+(0,_lodash.default)(tinyMCE.settings.document_base_url)+"(.*)$"))&&(href=RegExp.$1),href.match(/^javascript:\s*mctmp/)&&(href=""),href},createBookmark:function(){return this.getInstance().selection.getBookmark()},moveToBookmark:function(e){this.getInstance().selection.moveToBookmark(e),this.getInstance().focus()},blur:function(){this.getInstance().selection.collapse()},addUndo:function(){this.getInstance().undoManager.add()}}},ss.editorWrappers.default=ss.editorWrappers.tinyMCE,_jquery.default.entwine("ss",(function(e){e("textarea.htmleditor").entwine({Editor:null,onadd:function(){var e=this.data("editor")||"default",t=ss.editorWrappers[e]();this.setEditor(t),t.init(this.attr("id")),this._super()},onmatch:function(){this.getEditor()||this.onadd(),this._super()},onremove:function(){this.getEditor().destroy(),this._super()},onunmatch:function(){this.getEditor()&&this.onremove(),this._super()},"from .cms-edit-form":{onbeforesubmitform:function(){this.getEditor().save({silent:!0}),this._super()}},openLinkDialog:function(){this.openDialog("link")},openMediaDialog:function(){this.openDialog("media")},openEmbedDialog:function(){this.openDialog("embed")},openDialog:function(t){if("media"===t&&window.InsertMediaModal){let t=e("#insert-media-react__dialog-wrapper");return t.length||(t=e('<div id="insert-media-react__dialog-wrapper" class="insert-link__dialog-wrapper" />'),e("body").append(t)),t.setElement(this),void t.open()}if("embed"===t&&window.InsertEmbedModal){let t=e("#insert-embed-react__dialog-wrapper");return t.length||(t=e('<div id="insert-embed-react__dialog-wrapper" />'),e("body").append(t)),t.setElement(this),void t.open()}throw new Error(`Dialog named ${t} is not available.`)}})}))},62596:function(e,t,n){"use strict";var r;((r=n(19755))&&r.__esModule?r:{default:r}).default.entwine("ss",(function(e){e(".ss-tabset.ss-ui-action-tabset").entwine({IgnoreTabState:!0,onadd:function(){this._super(),this.tabs({collapsible:!0,active:!1})},onremove:function(){e(".cms-container").find("iframe").each((function(t,n){try{e(n).contents().off("click.ss-ui-action-tabset")}catch(e){console.warn("Unable to access iframe, possible https mis-match")}})),e(document).off("click.ss-ui-action-tabset"),this._super()},ontabsbeforeactivate:function(e,t){this.riseUp(e,t)},onclick:function(e,t){this.attachCloseHandler(e,t)},attachCloseHandler:function(t,n){var r,a=this,i=e(".cms-container").find("iframe");r=function(t){var n;n=e(t.target).closest(".ss-ui-action-tabset .ui-tabs-panel"),e(t.target).closest(a).length||n.length||(a.tabs("option","active",!1),e(".cms-container").find("iframe").each((function(t,n){e(n).contents().off("click.ss-ui-action-tabset",r)})),e(document).off("click.ss-ui-action-tabset",r))},e(document).on("click.ss-ui-action-tabset",r),i.length>0&&i.each((function(t,n){e(n).contents().on("click.ss-ui-action-tabset",r)}))},riseUp:function(t,n){var r,a,i,s,o,l,d,u;if(r=e(this).find(".ui-tabs-panel").outerHeight(),a=e(this).find(".ui-tabs-nav").outerHeight(),i=e(window).height()+e(document).scrollTop()-a,s=e(this).find(".ui-tabs-nav").offset().top,o=n.newPanel,l=n.newTab,s+r>=i&&s-r>0){if(this.addClass("rise-up"),null!==l.position()){if(d=-o.outerHeight(),u=o.parents(".toolbar--south")){const e=l.offset();d-=e?e.top-u.offset().top:0}e(o).css("top",d+"px")}}else this.removeClass("rise-up"),null!==l.position()&&e(o).css("bottom","100%");return!1}}),e(".cms-content-actions .ss-tabset.ss-ui-action-tabset").entwine({ontabsbeforeactivate:function(t,n){this._super(t,n),e(n.newPanel).length>0&&e(n.newPanel).css("left",n.newTab.position().left+"px")}}),e(".cms-actions-row.ss-tabset.ss-ui-action-tabset").entwine({ontabsbeforeactivate:function(t,n){this._super(t,n),e(this).closest(".ss-ui-action-tabset").removeClass("tabset-open tabset-open-last")}}),e(".cms-content-fields .ss-tabset.ss-ui-action-tabset").entwine({ontabsbeforeactivate:function(t,n){this._super(t,n),e(n.newPanel).length>0&&(e(n.newTab).hasClass("last")?(e(n.newPanel).css({left:"auto",right:"0px"}),e(n.newPanel).parent().addClass("tabset-open-last")):(e(n.newPanel).css("left",n.newTab.position().left+"px"),e(n.newTab).hasClass("first")&&(e(n.newPanel).css("left","0px"),e(n.newPanel).parent().addClass("tabset-open"))))}}),e(".cms-tree-view-sidebar .cms-actions-row.ss-tabset.ss-ui-action-tabset").entwine({"from .ui-tabs-nav li":{onhover:function(t){e(t.target).parent().find("li .active").removeClass("active"),e(t.target).find("a").addClass("active")}},ontabsbeforeactivate:function(t,n){this._super(t,n),e(n.newPanel).css({left:"auto",right:"auto"}),e(n.newPanel).length>0&&e(n.newPanel).parent().addClass("tabset-open")}})}))},82165:function(e,t,n){"use strict";var r=i(n(19755)),a=i(n(4754));function i(e){return e&&e.__esModule?e:{default:e}}r.default.entwine("ss.tree",(function(e){e("#Form_BatchActionsForm").entwine({Actions:[],getTree:function(){return e(".cms-tree")},fromTree:{oncheck_node:function(e,t){this.serializeFromTree()},onuncheck_node:function(e,t){this.serializeFromTree()}},onmatch:function(){var e=this;e.getTree().on("load_node.jstree",(function(t,n){e.refreshSelected()}))},onunmatch:function(){this.getTree().off("load_node.jstree")},registerDefault:function(){this.register("publish",(function(e){return!!confirm(a.default.inject(a.default._t("Admin.BATCH_PUBLISH_PROMPT","You have {num} page(s) selected.\n\nDo you really want to publish?"),{num:e.length}))&&e})),this.register("unpublish",(function(e){return!!confirm(a.default.inject(a.default._t("Admin.BATCH_UNPUBLISH_PROMPT","You have {num} page(s) selected.\n\nDo you really want to unpublish"),{num:e.length}))&&e})),this.register("delete",(function(e){return!!confirm(a.default.inject(a.default._t("Admin.BATCH_DELETE_PROMPT","You have {num} page(s) selected.\n\nAre you sure you want to delete these pages?\n\nThese pages and all of their children pages will be deleted and sent to the archive."),{num:e.length}))&&e})),this.register("restore",(function(e){return!!confirm(a.default.inject(a.default._t("Admin.BATCH_RESTORE_PROMPT","You have {num} page(s) selected.\n\nDo you really want to restore to stage?\n\nChildren of archived pages will be restored to the root level, unless those pages are also being restored."),{num:e.length}))&&e}))},onadd:function(){this.registerDefault(),this._super()},register:function(e,t){this.trigger("register",{type:e,callback:t});var n=this.getActions();n[e]=t,this.setActions(n)},unregister:function(e){this.trigger("unregister",{type:e});var t=this.getActions();t[e]&&delete t[e],this.setActions(t)},refreshSelected:function(t){var n=this,r=this.getTree(),a=this.getIDs(),i=[],s=e(".cms-content-batchactions-button"),o=this.find(":input[name=Action]").val();for(var l in null==t&&(t=r),a)e(e(r).getNodeByID(l)).addClass("selected").attr("selected","selected");if(o&&-1!=o&&s.hasClass("active")){e(t).find("li").each((function(){i.push(e(this).data("id")),e(this).addClass("treeloading").setEnabled(!1)}));var d=e.path.parseUrl(o),u=d.hrefNoSearch+"/applicablepages/";u=e.path.addSearchParams(u,d.search),u=e.path.addSearchParams(u,{csvIDs:i.join(",")}),jQuery.getJSON(u,(function(r){jQuery(t).find("li").each((function(){e(this).removeClass("treeloading");var t=e(this).data("id");0==t||e.inArray(t,r)>=0?e(this).setEnabled(!0):(e(this).removeClass("selected").setEnabled(!1),e(this).prop("selected",!1))})),n.serializeFromTree()}))}else e(t).find("li").each((function(){e(this).setEnabled(!0)}))},serializeFromTree:function(){var e=this.getTree().getSelectedIDs();return this.setIDs(e),!0},setIDs:function(e){this.find(":input[name=csvIDs]").val(e?e.join(","):null)},getIDs:function(){var e=this.find(":input[name=csvIDs]").val();return e?e.split(","):[]},onsubmit:function(t){var n=this,r=this.getIDs(),i=this.getTree(),s=this.getActions();if(!r||!r.length)return alert(a.default._t("Admin.SELECTONEPAGE","Please select at least one page")),t.preventDefault(),!1;var o=this.find(":input[name=Action]").val();if(!o)return t.preventDefault(),!1;var l=o.split("/").filter((e=>!!e)).pop();if(s[l]&&(r=s[l].apply(this,[r])),!r||!r.length)return t.preventDefault(),!1;this.setIDs(r),i.find("li").removeClass("failed");var d=this.find(":submit:first");return d.addClass("loading"),jQuery.ajax({url:o,type:"POST",data:this.serializeArray(),complete:function(e,t){d.removeClass("loading"),i.jstree("refresh",-1),n.setIDs([]),n.find(":input[name=Action]").val("").change();var r=e.getResponseHeader("X-Status");r&&statusMessage(decodeURIComponent(r),"success"===t?"success":"error")},success:function(t,n){var r,a;if(t.modified){var s=[];for(r in t.modified)a=i.getNodeByID(r),i.jstree("set_text",a,t.modified[r].TreeTitle),s.push(a);e(s).effect("highlight")}if(t.deleted)for(r in t.deleted)(a=i.getNodeByID(r)).length&&i.jstree("delete_node",a);if(t.error)for(r in t.error)a=i.getNodeByID(r),e(a).addClass("failed")},dataType:"json"}),t.preventDefault(),!1}}),e(".cms-content-batchactions-button").entwine({onmatch:function(){this._super(),this.updateTree()},onunmatch:function(){this._super()},onclick:function(e){this.updateTree()},updateTree:function(){var t=e(".cms-tree"),n=e("#Form_BatchActionsForm");this._super(),this.data("active")?(t.addClass("multiple"),t.removeClass("draggable"),n.serializeFromTree()):(t.removeClass("multiple"),t.addClass("draggable")),e("#Form_BatchActionsForm").refreshSelected()}}),e("#Form_BatchActionsForm select[name=Action]").entwine({onchange:function(t){e(t.target.form).find(":submit");const n=e(t.target).val();if(n){const t=n.split("/"),a=t[t.length-1];e("#Form_BatchActionsForm").refreshSelected();var r=e("#BatchActionParameters_"+a);r.length?(r.find(":input").each((function(){var t=e(this)[0];"SELECT"===t.tagName?(t.selectedIndex=-1,e(this).trigger("chosen:updated")):"checkbox"===t.type?t.checked=t.defaultChecked:t.value=t.defaultValue})),r.siblings().hide(),r.show(),e("#BatchActionParameters").slideDown()):e("#BatchActionParameters").slideUp()}this.trigger("chosen:updated"),this._super(t)}})}))},95075:function(e,t,n){"use strict";var r;((r=n(19755))&&r.__esModule?r:{default:r}).default.entwine("ss",(function(e){e(".cms-content").entwine({onadd:function(){this.find(".cms-tabset").redrawTabs(),this._super()},redraw:function(){window.debug&&console.log("redraw",this.attr("class"),this.get(0)),this.add(this.find(".cms-tabset")).redrawTabs(),this.find(".cms-content-header").redraw(),this.find(".cms-content-actions").redraw()}}),e(".cms-content .cms-tree").entwine({onadd:function(){var t=this;this._super(),this.on("select_node.jstree",(function(n,r){var a=r.rslt.obj,i=t.find(":input[name=ID]").val(),s=r.args[2],o=e(".cms-container");if(!s)return!1;if(e(a).hasClass("disabled"))return!1;if(e(a).data("id")!=i){var l=e(a).find("a:first").attr("href");l&&"#"!=l?(l=l.split("?")[0],t.jstree("deselect_all"),t.jstree("uncheck_all"),e.path.isExternal(e(a).find("a:first"))&&(l=l=e.path.makeUrlAbsolute(l,e("base").attr("href"))),document.location.search&&(l=e.path.addSearchParams(l,document.location.search.replace(/^\?/,""))),o.loadPanel(l)):t.removeForm()}}))}}),e(".cms-content .cms-content-fields").entwine({redraw:function(){window.debug&&console.log("redraw",this.attr("class"),this.get(0))}}),e(".cms-content .cms-content-actions").entwine({redraw:function(){window.debug&&console.log("redraw",this.attr("class"),this.get(0)),this.height("auto");const e=parseInt(this.css("padding-top"),10),t=parseInt(this.css("padding-bottom"),10);this.height(this.innerHeight()-e-t)}})}))},49958:function(e,t,n){"use strict";var r=i(n(19755)),a=i(n(4754));function i(e){return e&&e.__esModule?e:{default:e}}const s=window.onbeforeunload;window.onbeforeunload=function(e){var t=(0,r.default)(".cms-edit-form");return t.trigger("beforesubmitform"),t.is(".changed")&&!t.is(".discardchanges")?a.default._t("Admin.CONFIRMUNSAVEDSHORT"):"function"==typeof s?s():void 0},r.default.entwine("ss",(function(e){e(".cms-edit-form").entwine({PlaceholderHtml:"",ChangeTrackerOptions:{ignoreFieldSelector:".no-change-track, .ss-upload :input, .cms-navigator :input"},getValidationErrorShown:function(){return Boolean(this.data("_validationErrorShown"))},setValidationErrorShown:function(e){this.data("_validationErrorShown",e)},onadd:function(){for(var e in this.attr("autocomplete","off"),this._setupChangeTracker(),{action:!0,method:!0,enctype:!0,name:!0}){var t=this.find(":input[name=_form_"+e+"]");t&&(this.attr(e,t.val()),t.remove())}this._super()},"from .cms-tabset":{onafterredrawtabs:function(){const t=ss.i18n._t("Admin.VALIDATION_ERRORS_IN_TAB","This tab contains validation errors."),n=ss.i18n._t("Admin.VALIDATION_ERRORS_IN_TAB_SCREEN_READER","(Has validation errors)"),r=ss.i18n._t("Admin.VALIDATION_ERRORS_ON_PAGE","There are validation errors on this page, please fix them before saving or publishing."),a=e("#Form_EditForm_error");this.find(".tab-attention, .tab-validation-error-sr").remove();let i=!1;if(this.hasClass("validationerror")&&(i=!0),""!==a.html()&&(i=!0),this.find(".alert.error").length>0&&(i=!0),!i)return void a.hide();const s=this.find(".tab-pane .alert-danger, .tab-pane .alert.error").closest(".tab-pane");if(!s.length)return;const o=s.closest(".tab-content").closest(".ss-tabset");o.length&&(s.each((r=>{const a=s.eq(r).attr("id"),i=o.find(`#tab-${a}`).closest("li"),l=e(`<i class="font-icon-attention-1 tab-attention" title="${t}" aria-hidden="true"></i>`),d=e(`<span class="tab-validation-error-sr sr-only">${n}</span>`);i.append(l),i.append(d)})),a.attr("class","alert alert-danger"),a.html(r),a.show()),this.addClass("validationerror")}},onremove:function(){this.changetracker("destroy"),this._super()},onmatch:function(){this._super()},onunmatch:function(){this._super()},redraw:function(){if(window.debug&&console.log("redraw",this.attr("class"),this.get(0)),!this.getValidationErrorShown()&&this.hasClass("validationerror")){const e=ss.i18n._t("Admin.VALIDATIONERROR","Validation Error");o(e),this.setValidationErrorShown(!0)}this.add(this.find(".cms-tabset")).redrawTabs(),this.find(".cms-content-header").redraw()},_setupChangeTracker:function(){this.changetracker(this.getChangeTrackerOptions())},confirmUnsavedChanges:function(){if(this.trigger("beforesubmitform"),!this.is(".changed")||this.is(".discardchanges"))return!0;if(this.find(".btn-toolbar :submit.btn--loading.loading").length>0)return!0;var e=confirm(a.default._t("Admin.CONFIRMUNSAVED"));return e&&this.addClass("discardchanges"),e},onsubmit:function(e,t){if("_blank"!=this.prop("target"))return t&&this.closest(".cms-container").submitForm(this,t),!1},validate:function(){return this.trigger("validate",{isValid:true}),true},"from .htmleditor":{oneditorinit:function(t){var n=this,r=e(t.target).closest(".field.htmleditor");r.find("textarea.htmleditor").getEditor().getInstance().onClick.add((function(e){n.saveFieldFocus(r.attr("id"))}))}},"from .cms-edit-form :input:not(:submit)":{onclick:function(t){this.saveFieldFocus(e(t.target).attr("id"))},onfocus:function(t){this.saveFieldFocus(e(t.target).attr("id"))}},"from .cms-edit-form .treedropdown *":{onfocusin:function(t){var n=e(t.target).closest(".field.treedropdown");this.saveFieldFocus(n.attr("id"))}},"from .cms-edit-form .dropdown .chosen-container a":{onfocusin:function(t){var n=e(t.target).closest(".field.dropdown");this.saveFieldFocus(n.attr("id"))}},"from .cms-container":{ontabstaterestored:function(e){this.restoreFieldFocus()}},saveFieldFocus:function(t){if(void 0!==window.sessionStorage&&null!==window.sessionStorage){var n=e(this).attr("id"),r=[];if(r.push({id:n,selected:t}),r)try{window.sessionStorage.setItem(n,JSON.stringify(r))}catch(e){if(e.code===DOMException.QUOTA_EXCEEDED_ERR&&0===window.sessionStorage.length)return;throw e}}},restoreFieldFocus:function(){if(void 0!==window.sessionStorage&&null!==window.sessionStorage){var t,n,r,a,i,s=this,o=void 0!==window.sessionStorage&&window.sessionStorage,l=o?window.sessionStorage.getItem(this.attr("id")):null,d=!!l&&JSON.parse(l),u=0!==this.find(".ss-tabset").length;if(o&&d.length>0){if(e.each(d,(function(n,r){s.is("#"+r.id)&&(t=e("#"+r.selected))})),e(t).length<1)return void this.focusFirstInput();if(n=e(t).closest(".ss-tabset").find(".ui-tabs-nav .ui-tabs-active .ui-tabs-anchor").attr("id"),r="tab-"+e(t).closest(".ss-tabset .ui-tabs-panel").attr("id"),u&&r!==n)return;(a=e(t).closest(".togglecomposite")).length>0&&a.accordion("option","active",a.find(".ui-accordion-header")),i=e(t).position().top,e(t).is(":visible")||(t="#"+e(t).closest(".field").attr("id"),i=e(t).position().top),e(t).focus(),i>e(window).height()/2&&s.find(".cms-content-fields").scrollTop(i)}else this.focusFirstInput()}},focusFirstInput:function(){this.find(':input:not(:submit)[data-skip-autofocus!="true"]').filter(":visible:first").focus()}}),e(".cms-edit-form .btn-toolbar input.action[type=submit], .cms-edit-form .btn-toolbar button.action").entwine({onclick:function(e){return this.is(":disabled")?(e.preventDefault(),!1):!1===this._super(e)||e.defaultPrevented||e.isDefaultPrevented()?void 0:(this.parents("form").trigger("submit",[this]),e.preventDefault(),!1)}}),e(".cms-edit-form .btn-toolbar input.action[type=submit].ss-ui-action-cancel, .cms-edit-form .btn-toolbar button.action.ss-ui-action-cancel").entwine({onclick:function(e){window.history.length>1?window.history.back():this.parents("form").trigger("submit",[this]),e.preventDefault()}}),e(".cms-edit-form .btn-toolbar button[name=action_doUnpublish].btn.action").entwine({onclick:function(e){var t=this.data("owners");if(t&&parseInt(t)>0){var n=[a.default.inject(a.default._t("Admin.OWNED_WARNING_1","You are unpublishing content that is being used in {count} other published section(s)."),{count:t}),a.default._t("Admin.OWNED_WARNING_2","This could cause a published page to have missing components on the live site."),a.default._t("Admin.OWNED_WARNING_3","Do you want to unpublish anyway?")];window.confirm(n.join("\n\n"))?this._super():e.preventDefault()}else this._super()}}),e(".cms-edit-form .ss-tabset").entwine({onmatch:function(){if(!this.hasClass("ss-ui-action-tabset")){var e=this.find("> ul:first");1==e.children("li").length&&e.hide().parent().addClass("ss-tabset-tabshidden")}this._super()},onunmatch:function(){this._super()}}),e('.cms-edit-form [name="CanViewType"], .cms-edit-form [name="CanEditType"], .cms-edit-form [name="CanCreateTopLevelType"]').entwine({onmatch:function(){this.is(":checked")&&this.toggleListDisplay(this.val(),!0)},onchange:function(e){this.toggleListDisplay(e.target.value,window.matchMedia("(prefers-reduced-motion: reduce)").matches)},checkIfHoldsField(e,t){let n="";switch(this.attr("name")){case"CanViewType":n=`Viewer${t}`;break;case"CanEditType":n=`Editor${t}`;break;case"CanCreateTopLevelType":n=`CreateTopLevel${t}`}const r=jQuery(e);return r.find(`[name="${n}"],[name="${n}[]"]`).length>0&&r.attr("id").endsWith("_Holder")},toggleListDisplay:function(e,t){"OnlyTheseUsers"===e?(this.showGroupsList(t),this.hideMembersList(t)):this.hideGroupsList(t),"OnlyTheseMembers"===e?(this.showMembersList(t),this.hideGroupsList(t)):this.hideMembersList(t)},showList:function(e){this.showGroupsList(e),this.showMembersList(e)},hideList:function(e){this.hideGroupsList(e),this.hideMembersList(e)},showGroupsList:function(e){const t=this.closest(".field");this.showListElement(t,t.parent().find(".form-group, .field").filter(((e,t)=>this.checkIfHoldsField(t,"Groups"))),e)},hideGroupsList:function(e){const t=this.closest(".field");this.hideListElement(t,t.parent().find(".form-group, .field").filter(((e,t)=>this.checkIfHoldsField(t,"Groups"))),e)},showMembersList:function(e){const t=this.closest(".field");this.showListElement(t,t.parent().find(".form-group, .field").filter(((e,t)=>this.checkIfHoldsField(t,"Members"))),e)},hideMembersList:function(e){const t=this.closest(".field");this.hideListElement(t,t.parent().find(".form-group, .field").filter(((e,t)=>this.checkIfHoldsField(t,"Members"))),e)},showListElement:function(e,t,n){e.addClass("field--merge-below"),n?t.show().css("overflow","visible"):t.slideDown((()=>{t.css("overflow","visible")}))},hideListElement:function(e,t,n){t.css("overflow","hidden"),n?(t.hide().css("display","none"),e.removeClass("field--merge-below")):t.slideUp((()=>{e.removeClass("field--merge-below")}))}})}));var o=function(e){jQuery.noticeAdd({text:e,type:"error",stayTime:5e3,inEffect:{left:"0",opacity:"show"}})}},73366:function(e,t,n){"use strict";var r;((r=n(19755))&&r.__esModule?r:{default:r}).default.entwine("ss",(function(e){e(".cms-description-toggle").entwine({onadd:function(){var e=!1,t=this.prop("id").substr(0,this.prop("id").indexOf("_Holder")),n=this.find(".cms-description-trigger"),r=this.find(".description");this.hasClass("description-toggle-enabled")||(0===n.length&&(n=this.find(".middleColumn").first().after('<label class="right" for="'+t+'"><a class="cms-description-trigger" href="javascript:void(0)"><span class="btn-icon-information"></span></a></label>').next()),this.addClass("description-toggle-enabled"),n.on("click",(function(){r[e?"hide":"show"](),e=!e})),r.hide())}})}))},56970:function(e,t,n){"use strict";var r;((r=n(19755))&&r.__esModule?r:{default:r}).default.entwine("ss",(function(e){e(".cms .field.cms-description-tooltip").entwine({onmatch:function(){this._super();var e=this.find(".description");e.length&&(this.attr("title",e.text()).tooltip({content:e.html()}),e.remove())}}),e(".cms .field.cms-description-tooltip :input").entwine({onfocusin:function(e){this.closest(".field").tooltip("open")},onfocusout:function(e){this.closest(".field").tooltip("close")}})}))},60395:function(e,t,n){"use strict";var r,a=(r=n(19755))&&r.__esModule?r:{default:r},i=n(80195);a.default.entwine("ss",(function(e){e(".cms-panel.cms-menu").entwine({togglePanel:function(t,n,r){e(".cms-menu__list").children("li").each((function(){t?e(this).children("ul").each((function(){e(this).data("collapse")&&(e(this).removeData("collapse"),e(this).addClass("collapse"))})):e(this).children("ul").each((function(){e(this).hasClass("collapse"),e(this).removeClass("collapse"),e(this).data("collapse",!0)}))})),this._super(t,n,r)},siteTreePresent:function(){return e("#cms-content-tools-CMSMain").length>0},getPersistedStickyState:function(){var t,n;return void 0!==e.cookie&&null!=(n=e.cookie("cms-menu-sticky"))&&(t="true"===n),t},setPersistedStickyState:function(t){void 0!==e.cookie&&e.cookie("cms-menu-sticky",t,{path:"/",expires:31})},getEvaluatedCollapsedState:function(){var t=this.getPersistedCollapsedState(),n=e(".cms-menu").getPersistedStickyState(),r=this.siteTreePresent();return void 0===t?r:t!==r&&n?t:r},onadd:function(){var t=this;setTimeout((function(){t.togglePanel(!t.getEvaluatedCollapsedState(),!1,!1)}),0),e(window).on("ajaxComplete",(function(e){setTimeout((function(){t.togglePanel(!t.getEvaluatedCollapsedState(),!1,!1)}),0)})),this._super()}}),e(".cms-menu__list").entwine({onmatch:function(){this.find("li.current").select(),this.updateItems(),this._super()},onunmatch:function(){this._super()},updateMenuFromResponse:function(e){var t=e.getResponseHeader("X-Controller");if(t){var n=this.find("li#Menu-"+t.replace(/\\/g,"-").replace(/[^a-zA-Z0-9\-_:.]+/,""));n.hasClass("current")||n.select()}this.updateItems()},"from .cms-container":{onafterstatechange:function(e,t){this.updateMenuFromResponse(t.xhr)},onaftersubmitform:function(e,t){this.updateMenuFromResponse(t.xhr)}},"from .cms-edit-form":{onrelodeditform:function(e,t){this.updateMenuFromResponse(t.xmlhttp)}},getContainingPanel:function(){return this.closest(".cms-panel")},fromContainingPanel:{ontoggle:function(t){this.toggleClass("collapsed",e(t.target).hasClass("collapsed")),e(".cms-container").trigger("windowresize"),this.hasClass("collapsed")&&this.find("li.children.opened").removeClass("opened"),this.hasClass("collapsed")||e(".toggle-children.opened").closest("li").addClass("opened")}},updateItems:function(){var t=this.find("#Menu-CMSMain");t[t.is(".current")?"show":"hide"]();var n=e(".cms-content input[name=ID]").val();n&&this.find("li").each((function(){"function"==typeof e(this).setRecordID&&e(this).setRecordID(n)}))}}),e(".cms-menu__list li").entwine({onmatch:function(){this.find("ul").length&&this.find("a:first").append('<span class="toggle-children"><span class="toggle-children-icon"></span></span>'),this._super()},onunmatch:function(){this._super()},toggle:function(){this[this.hasClass("opened")?"close":"open"]()},open:function(){var e=this.getMenuItem();e&&e.open(),this.find("li.clone")&&this.find("li.clone").remove(),this.addClass("opened").find("ul").show(),this.find(".toggle-children").addClass("opened")},close:function(){this.removeClass("opened").find("ul").hide(),this.find(".toggle-children").removeClass("opened")},select:function(){var e=this.getMenuItem();if(this.addClass("current").open(),this.siblings().removeClass("current").close(),this.siblings().find("li").removeClass("current"),e){var t=e.siblings();e.addClass("current"),t.removeClass("current").close(),t.find("li").removeClass("current").close()}this.getMenu().updateItems(),this.trigger("select")}}),e(".cms-menu__list *").entwine({getMenu:function(){return this.parents(".cms-menu__list:first")}}),e(".cms-menu__list li *").entwine({getMenuItem:function(){return this.parents("li:first")}}),e(".cms-menu__list li a").entwine({onclick:function(t){var n=e.path.isExternal(this.attr("href"));if(!(t.which>1||n)&&"_blank"!=this.attr("target")){t.preventDefault();var r=this.getMenuItem(),a=this.attr("href");n||(a=(0,i.joinUrlPaths)(e("base").attr("href"),a));var s=r.find("li");s.length?s.first().find("a").click():document.location.href=a,r.select()}}}),e(".cms-menu__list li .toggle-children").entwine({onclick:function(e){return this.closest("li").toggle(),!1}}),e(".cms .profile-link").entwine({onclick:function(){return e(".cms-container").loadPanel(this.attr("href")),e(".cms-menu__list li").removeClass("current").close(),!1}}),e(".cms-menu .sticky-toggle__button").entwine({onadd:function(){var t=!!e(".cms-menu").getPersistedStickyState();this.toggleCSS(t),this.toggleIndicator(t),this._super()},toggleCSS:function(e){this[e?"addClass":"removeClass"]("active")},toggleIndicator:function(e){this.next(".sticky-toggle__status").text(e?"fixed":"auto")},onclick:function(){var e=this.closest(".cms-menu"),t=e.getPersistedCollapsedState(),n=e.getPersistedStickyState(),r=void 0===n?!this.hasClass("active"):!n;void 0===t?e.setPersistedCollapsedState(e.hasClass("collapsed")):void 0!==t&&!1===r&&e.clearPersistedCollapsedState(),e.setPersistedStickyState(r),this.toggleCSS(r),this.toggleIndicator(r),this._super()}}),e(".cms-help__menu").entwine({onclick:function(){var t="true"===this.attr("aria-expanded");this.attr("aria-expanded",!t),e(".cms-help__toggle").toggleClass("cms-help__toggle--show")}})}))},41221:function(e,t,n){"use strict";var r=o(n(19755)),a=o(n(26195)),i=n(11521),s=n(20745);function o(e){return e&&e.__esModule?e:{default:e}}r.default.entwine("ss",(function(e){e(".js-react-boot").entwine({onmatch:function(){const t=e(".cms-mobile-menu-toggle-wrapper");if(t.length>0){(0,s.createRoot)(t[0]).render(React.createElement(a.default,{store:window.ss.store,controls:"cms-menu"}))}const n=window.ss.store,r=e(".cms-menu"),i=e(".cms-menu-mobile-overlay");n.subscribe((()=>{const e=n.getState().mobileMenu.isOpen;r.toggleClass("cms-menu--open",e).attr("aria-expanded",e),i.attr("aria-expanded",e)}))}}),e(".cms-menu-mobile-overlay").entwine({onclick:function(){window.ss.store.dispatch((0,i.closeMobileMenu)())}})}))},73843:function(e,t,n){"use strict";var r;((r=n(19755))&&r.__esModule?r:{default:r}).default.entwine("ss",(function(e){e.entwine.warningLevel=e.entwine.WARN_LEVEL_BESTPRACTISE,e(".cms-panel").entwine({WidthExpanded:null,WidthCollapsed:null,canSetCookie:function(){return void 0!==e.cookie&&void 0!==this.attr("id")},getPersistedCollapsedState:function(){var t,n;return this.canSetCookie()&&null!=(n=e.cookie("cms-panel-collapsed-"+this.attr("id")))&&(t="true"===n),t},setPersistedCollapsedState:function(t){this.canSetCookie()&&e.cookie("cms-panel-collapsed-"+this.attr("id"),t,{path:"/",expires:31})},clearPersistedCollapsedState:function(){this.canSetCookie()&&e.cookie("cms-panel-collapsed-"+this.attr("id"),"",{path:"/",expires:-1})},getInitialCollapsedState:function(){var e=this.getPersistedCollapsedState();return void 0===e&&(e=this.hasClass("collapsed")),e},onadd:function(){var t,n;if(!this.find(".cms-panel-content").length)throw new Exception('Content panel for ".cms-panel" not found');this.find(".cms-panel-toggle").length||(n=e("<div class='toolbar toolbar--south cms-panel-toggle'></div>").append('<a class="toggle-expand" href="#" data-toggle="tooltip" title="'+i18n._t("Admin.EXPANDPANEL","Expand Panel")+'"><span>&raquo;</span></a>').append('<a class="toggle-collapse" href="#" data-toggle="tooltip" title="'+i18n._t("Admin.COLLAPSEPANEL","Collapse Panel")+'"><span>&laquo;</span></a>'),this.append(n)),this.setWidthExpanded(this.find(".cms-panel-content").innerWidth()),t=this.find(".cms-panel-content-collapsed"),this.setWidthCollapsed(t.length?t.innerWidth():this.find(".toggle-expand").innerWidth()),this.togglePanel(!this.getInitialCollapsedState(),!0,!1),this._super()},togglePanel:function(e,t,n){var r;t||(this.trigger("beforetoggle.sspanel",e),this.trigger(e?"beforeexpand":"beforecollapse")),this.toggleClass("collapsed",!e),r=e?this.getWidthExpanded():this.getWidthCollapsed(),this.width(r),this.find(".cms-panel-content-collapsed").length&&(this.find(".cms-panel-content")[e?"show":"hide"](),this.find(".cms-panel-content-collapsed")[e?"hide":"show"]()),!1!==n&&this.setPersistedCollapsedState(!e),this.trigger("toggle",e),this.trigger(e?"expand":"collapse")},expandPanel:function(e){(e||this.hasClass("collapsed"))&&this.togglePanel(!0)},collapsePanel:function(e){!e&&this.hasClass("collapsed")||this.togglePanel(!1)}}),e(".cms-panel.collapsed .cms-panel-toggle").entwine({onclick:function(e){this.expandPanel(),e.preventDefault()}}),e(".cms-panel *").entwine({getPanel:function(){return this.parents(".cms-panel:first")}}),e(".cms-panel .toggle-expand").entwine({onclick:function(e){e.preventDefault(),e.stopPropagation(),this.getPanel().expandPanel(),this._super(e)}}),e(".cms-panel .toggle-collapse").entwine({onclick:function(e){e.preventDefault(),e.stopPropagation(),this.getPanel().collapsePanel(),this._super(e)}}),e(".cms-content-tools.collapsed").entwine({onclick:function(e){this.expandPanel(),this._super(e)}})}))},88615:function(e,t,n){"use strict";var r=i(n(19755)),a=i(n(4754));function i(e){return e&&e.__esModule?e:{default:e}}r.default.entwine("ss.preview",(function(e){e(".cms-preview").entwine({AlreadyInitialised:!1,AllowedStates:["StageLink","LiveLink","Unversioned","ArchiveLink"],CurrentStateName:null,CurrentSizeName:"auto",IsPreviewEnabled:!1,DefaultMode:"split",Sizes:{auto:{width:"100%",height:"100%"},mobile:{width:"335px",height:"568px"},mobileLandscape:{width:"583px",height:"320px"},tablet:{width:"783px",height:"1024px"},tabletLandscape:{width:"1039px",height:"768px"},desktop:{width:"1024px",height:"800px"}},changeState:function(t,n){var r=this,a=this._getNavigatorStates();return!1!==n&&e.each(a,(function(e,n){r.saveState("state",t)})),this.setCurrentStateName(t),this._loadCurrentState(),this.redraw(),this},changeMode:function(t,n){var r=e(".cms-container").entwine(".ss");if("split"==t)r.splitViewMode(),this.setIsPreviewEnabled(!0),this._loadCurrentState();else if("content"==t)r.contentViewMode(),this.setIsPreviewEnabled(!1);else{if("preview"!=t)throw"Invalid mode: "+t;r.previewMode(),this.setIsPreviewEnabled(!0),this._loadCurrentState()}return!1!==n&&this.saveState("mode",t),this.redraw(),this},changeSize:function(e){this.getSizes();return this.setCurrentSizeName(e),this.removeClass("auto desktop tablet mobile").addClass(e),this.saveState("size",e),this.redraw(),this},redraw:function(){window.debug&&console.log("redraw",this.attr("class"),this.get(0));var t=this.getCurrentStateName();t&&this.find(".cms-preview-states").changeVisibleState(t);var n=e(".cms-container").entwine(".ss").getLayoutOptions();return n&&e(".preview-mode-selector").changeVisibleMode(n.mode),this.getCurrentSizeName()&&this.find(".preview-size-selector").changeVisibleSize(this.getCurrentSizeName()),this},saveState:function(e,t){this._supportsLocalStorage()&&window.localStorage.setItem("cms-preview-state-"+e,t)},loadState:function(e){if(this._supportsLocalStorage())return window.localStorage.getItem("cms-preview-state-"+e)},disablePreview:function(){return this.setPendingURL(null),this._loadUrl("about:blank"),this._block(),this.changeMode("content",!1),this.setIsPreviewEnabled(!1),this},enablePreview:function(){return this.getIsPreviewEnabled()||(this.setIsPreviewEnabled(!0),this.changeMode(this.getDefaultMode(),!1)),this},onadd:function(){var t=this,n=this.find("iframe");n.addClass("center"),n.on("load",(function(){t._adjustIframeForPreview(),t._loadCurrentPage(),e(this).removeClass("loading")})),this._unblock(),this.disablePreview(),this._super()},_supportsLocalStorage:function(){var e,t,n=new Date;try{return(e=window.localStorage).setItem(n,n),t=e.getItem(n)==n,e.removeItem(n),t&&e}catch(e){console.warn("localStorge is not available due to current browser / system settings.")}},onforcecontent:function(){this.changeMode("content",!1)},onenable:function(){var t=e(".preview-mode-selector");t.removeClass("split-disabled"),t.find(".disabled-tooltip").hide()},ondisable:function(){var t=e(".preview-mode-selector");t.addClass("split-disabled"),t.find(".disabled-tooltip").show()},_block:function(){return this.find(".preview-note").show(),this},_unblock:function(){return this.find(".preview-note").hide(),this},_initialiseFromContent:function(){var t,n;if(e(".cms-previewable").length){t=this.loadState("mode"),n=this.loadState("size");let e=!0;this._moveNavigator(),t&&"content"==t||(this.enablePreview(),this._loadCurrentState()),this.redraw();const r=this.find("iframe").attr("src");this.getPendingURL()||r&&"about:blank"!==r||(t="content",e=!1),t&&this.changeMode(t,e),n&&this.changeSize(n)}else this.disablePreview();return this.setAlreadyInitialised(!0),this},"from .cms-container":{onafterstatechange:function(e,t){t.xhr.getResponseHeader("X-ControllerURL")||this._initialiseFromContent()}},PendingURL:null,oncolumnvisibilitychanged:function(){var e=this.getPendingURL();e&&!this.is(".column-hidden")&&(this.setPendingURL(null),this._loadUrl(e),this._unblock())},"from .cms-container .cms-edit-form":{onaftersubmitform:function(){this._initialiseFromContent()}},_loadUrl:function(e){return this.find("iframe").addClass("loading").attr("src",e),this},_getNavigatorStates:function(){return e.map(this.getAllowedStates(),(function(t){var n=e(".cms-preview-states .state-name[data-name="+t+"]");return n.length?{name:t,url:n.attr("href"),active:n.hasClass("active")}:null}))},_loadCurrentState:function(){if(!this.getIsPreviewEnabled())return this;var t=this._getNavigatorStates(),n=this.getCurrentStateName(),r=null;t&&(r=e.grep(t,(function(e,t){return n===e.name||!n&&e.active})));var a=null;if(r[0]?a=r[0].url:t.length?(this.setCurrentStateName(t[0].name),a=t[0].url):this.setCurrentStateName(null),a){let e=a.split("#");const t=e.shift().split(/[?&]/),n=t.shift();t.push("CMSPreview=1"),e=e.length?"#"+e.join("#"):"",a=n+"?"+t.join("&")+e}return this.is(".column-hidden")?(this.setPendingURL(a),this._loadUrl("about:blank"),this._block()):(this.setPendingURL(null),a?(this._loadUrl(a),this._unblock()):(this._loadUrl("about:blank"),this._block())),this},_moveNavigator:function(){var t=e(".cms-preview .cms-preview-controls");e(".cms-edit-form .cms-navigator").length&&t.length?t.html(e(".cms-edit-form .cms-navigator").detach()):this._block()},_loadCurrentPage:function(){if(this.getIsPreviewEnabled()){var t;e(".cms-container");try{t=this.find("iframe")[0].contentDocument}catch(e){console.warn("Unable to access iframe, possible https mis-match")}if(t){var n=e(t).find("meta[name=x-page-id]").attr("content"),r=e(t).find("meta[name=x-cms-edit-link]").attr("content"),a=e(".cms-content");n&&a.find(":input[name=ID]").val()!=n&&e(".cms-container").entwine(".ss").loadPanel(r)}}},_adjustIframeForPreview:function(){var e,t=this.find("iframe")[0];if(t){try{e=t.contentDocument}catch(e){console.warn("Unable to access iframe, possible https mis-match")}if(e){for(var n=e.getElementsByTagName("A"),r=0;r<n.length;r++){var a=n[r].getAttribute("href");a&&(a.match(/^http:\/\//)&&n[r].setAttribute("target","_blank"))}var i=e.getElementById("SilverStripeNavigator");i&&(i.style.display="none");var s=e.getElementById("SilverStripeNavigatorMessage");s&&(s.style.display="none"),this.trigger("afterIframeAdjustedForPreview",[e])}}}}),e(".cms-edit-form").entwine({onadd:function(){this._super(),e(".cms-preview").setAlreadyInitialised(!1),e(".cms-preview")._initialiseFromContent()}}),e(".cms-preview-states").entwine({changeVisibleState:function(e){this.find('[data-name="'+e+'"]').addClass("active").siblings().removeClass("active")}}),e(".cms-preview-states .state-name").entwine({onclick:function(t){if(1==t.which){var n=e(this).attr("data-name");this.addClass("active").siblings().removeClass("active"),e(".cms-preview").changeState(n),t.preventDefault()}}}),e(".preview-mode-selector").entwine({changeVisibleMode:function(e){this.find("select").val(e).trigger("chosen:updated")._addIcon()}}),e(".preview-mode-selector select").entwine({onchange:function(t){this._super(t),t.preventDefault();var n=e(this).val();e(".cms-preview").changeMode(n)}}),e(".cms-container--content-mode").entwine({onmatch:function(){e(".cms-preview .result-selected").hasClass("font-icon-columns")&&statusMessage(a.default._t("Admin.DISABLESPLITVIEW","Screen too small to show site preview in split mode"),"error"),this._super()}}),e(".preview-size-selector").entwine({changeVisibleSize:function(e){this.find("select").val(e).trigger("chosen:updated")._addIcon()}}),e(".preview-size-selector select").entwine({onchange:function(t){t.preventDefault();var n=e(this).val();e(".cms-preview").changeSize(n)}}),e(".preview-selector select.preview-dropdown").entwine({"onchosen:ready":function(){this._super(),this._addIcon()},_addIcon:function(){var e=this.find(":selected").attr("data-icon"),t=this.parent().find(".chosen-container a.chosen-single"),n=t.attr("data-icon");return void 0!==n&&t.removeClass(n),t.addClass(e),t.attr("data-icon",e),this}}),e(".preview-mode-selector .chosen-drop li:last-child").entwine({onmatch:function(){e(".preview-mode-selector").hasClass("split-disabled")?this.parent().append('<div class="disabled-tooltip"></div>'):this.parent().append('<div class="disabled-tooltip" style="display: none;"></div>')}}),e(".preview-device-outer").entwine({onclick:function(){this.parent(".preview__device").toggleClass("rotate")}})}))},49266:function(e,t,n){"use strict";var r;((r=n(19755))&&r.__esModule?r:{default:r}).default.entwine("ss.tree",(function(e){e(".cms-tree").entwine({Hints:null,IsUpdatingTree:!1,CanMoveCheckCompleted:!1,IsLoaded:!1,onadd:function(){if(this._super(),e.isNumeric(this.data("jstree_instance_id")))return;var t=this.attr("data-hints");t&&this.setHints(e.parseJSON(t));const n=function(t,a){let i=a.rslt.o,s=a.rslt.np,o=e(s).data("id")||0,l=e(i).data("id"),d=e.map(e(i).siblings().addBack(),(function(t){return e(t).data("id")}));r.getIsUpdatingTree()||(r.getCanMoveCheckCompleted()?(r.setCanMoveCheckCompleted(!1),e.ajax({url:e.path.addSearchParams(r.data("urlSavetreenode"),r.data("extraParams")),type:"POST",data:{ID:l,ParentID:o,SiblingIDs:d},success:function(){e(".cms-edit-form :input[name=ID]").val()==l&&e(".cms-edit-form :input[name=ParentID]").val(o),r.updateNodesFromServer([l])},statusCode:{403:function(){e.jstree.rollback(a.rlbk)}}})):r.canMove(a).then((i=>{i?(r.setCanMoveCheckCompleted(!0),n(t,a)):e.jstree.rollback(a.rlbk)})))};var r=this;this.jstree(this.getTreeConfig()).on("loaded.jstree",(function(t,n){r.setIsLoaded(!0),n.inst._set_settings({html_data:{ajax:{url:r.data("urlTree"),data:function(t){var n=r.data("searchparams")||[];return(n=e.grep(n,(function(e,t){return"ID"!=e.name&&"value"!=e.name}))).push({name:"ID",value:e(t).data("id")?e(t).data("id"):0}),n.push({name:"ajax",value:1}),n}}}}),r.updateFromEditForm(),r.css("visibility","visible"),n.inst.hide_checkboxes()})).on("before.jstree",(function(t,n){if("start_drag"==n.func&&(!r.hasClass("draggable")||r.hasClass("multiselect")))return t.stopImmediatePropagation(),!1;if(e.inArray(n.func,["check_node","uncheck_node"])){var a=e(n.args[0]).parents("li:first"),i=a.find("li:not(.disabled)");if(a.hasClass("disabled")&&0==i)return t.stopImmediatePropagation(),!1}})).on("move_node.jstree",n).on("select_node.jstree check_node.jstree uncheck_node.jstree",(function(t,n){t.namespace="",e(document).triggerHandler(t,n)}))},onremove:function(){this.jstree("destroy"),this._super()},"from .cms-container":{onafterstatechange:function(e){this.updateFromEditForm()}},"from .cms-container form":{onaftersubmitform:function(t){const n=e(".cms-edit-form :input[name=ID]").val(),r=this.find(`[data-id=${n}]`);let a=[+n];r.find("li").each((function(){a.push(e(this).data("id"))}));const i=[];for(;a.length;){const e=a.slice(0,50);i.push(e),a=a.slice(50)}i.map((e=>this.updateNodesFromServer(e,!1))).reduce(((e,t)=>e.then(t)),Promise.resolve())}},canMove:async function(e){return Promise.resolve(!0)},getTreeConfig:function(){var t=this;return{core:{initially_open:["record-0"],animation:0,html_titles:!0},html_data:{},ui:{select_limit:1,initially_select:[this.find(".current").attr("id")]},crrm:{move:{check_move:function(n){var r=e(n.o),a=e(n.np),i=n.ot.get_container()[0]==n.np[0],s=r.getClassname(),o=a.getClassname(),l=t.getHints(),d=[],u=o||"Root",c=l&&void 0!==l[u]?l[u]:null;return c&&r.attr("class").match(/VirtualPage-([^\s]*)/)&&(s=RegExp.$1),c&&(d=void 0!==c.disallowedChildren?c.disallowedChildren:[]),!(0===r.data("id")||r.hasClass("status-archived")||i&&"inside"!=n.p||a.hasClass("nochildren")||d.length&&-1!=e.inArray(s,d))}}},dnd:{drop_target:!1,drag_target:!1},checkbox:{two_state:!0},themes:{theme:"apple",url:e("body").data("frameworkpath")+"/admin/thirdparty/jstree/themes/apple/style.css"},plugins:["html_data","ui","dnd","crrm","themes","checkbox"]}},search:function(e,t){e?this.data("searchparams",e):this.removeData("searchparams"),this.jstree("refresh",-1,t)},getNodeByID:function(e){return this.find("*[data-id="+e+"]")},createNode:function(t,n,r){var a=void 0!==n.ParentID&&this.getNodeByID(n.ParentID),i=e(t),s={data:""};i.hasClass("jstree-open")?s.state="open":i.hasClass("jstree-closed")&&(s.state="closed"),this.jstree("create_node",a.length?a:-1,"last",s,(function(e){for(var t=e.attr("class"),n=0;n<i[0].attributes.length;n++){var a=i[0].attributes[n];e.attr(a.name,a.value)}e.addClass(t).html(i.html()),r&&r(e)}))},updateNode:function(t,n,r){n=n.replace(/<!--[\s\S]*?-->/g,"");var a=e(n),i=!!r.NextID&&this.getNodeByID(r.NextID),s=!!r.PrevID&&this.getNodeByID(r.PrevID),o=!!r.ParentID&&this.getNodeByID(r.ParentID),l=this.jstree("is_open",o);e.each(["id","style","class","data-pagetype"],(function(e,n){t.attr(n,a.attr(n))}));var d=t.children("ul").detach();t.html(a.html()).append(d),i&&i.length?this.jstree("move_node",t,i,"before"):s&&s.length?this.jstree("move_node",t,s,"after"):this.jstree("move_node",t,o.length?o:-1),l?this.jstree("open_node",o):this.jstree("close_node",o)},updateFromEditForm:function(){var t,n=e(".cms-edit-form :input[name=ID]").val();n?(t=this.getNodeByID(n)).length?(this.jstree("deselect_all"),this.jstree("select_node",t)):this.updateNodesFromServer([n]):this.jstree("deselect_all")},updateNodesFromServer:function(t){let n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(this.getIsLoaded()&&(!n||!this.getIsUpdatingTree())){var r=this;this.setIsUpdatingTree(!0),r.jstree("save_selected"),r.jstree("open_node",this.getNodeByID(0)),r.jstree("save_opened"),r.jstree("save_selected");var a=r.jstree("get_selected");return new Promise((n=>{e.ajax({url:e.path.addSearchParams(this.data("urlUpdatetreenodes"),"ids="+t.join(",")),dataType:"json",success:function(i,s){n(i),e.each(i,(function(e,n){var i=r.getNodeByID(e);n?i.length?r.updateNode(i,n.html,n):n.ParentID&&!r.find("li[data-id="+n.ParentID+"]").length?r.jstree("load_node",-1):r.createNode(n.html,n,(e=>{a.length||1!==t.length||(a=e)})):r.jstree("delete_node",i)})),a.length&&(r.jstree("deselect_all"),r.jstree("reopen"),r.jstree("select_node",a))},complete:function(){r.setIsUpdatingTree(!1)}})}))}}}),e(".cms-tree.multiple").entwine({onmatch:function(){this._super(),this.jstree("show_checkboxes")},onunmatch:function(){this._super(),this.jstree("uncheck_all"),this.jstree("hide_checkboxes")},getSelectedIDs:function(){return e(this).jstree("get_checked").not(".disabled").map((function(){return e(this).data("id")})).get()}}),e(".cms-tree li").entwine({setEnabled:function(e){this.toggleClass("disabled",!e)},getClassname:function(){var e=this.attr("class").match(/class-([^\s]*)/i);return e?e[1]:""},getID:function(){return this.data("id")}})}))},81047:function(e,t,n){"use strict";var r;((r=n(19755))&&r.__esModule?r:{default:r}).default.entwine("ss",(function(e){e(".TreeDropdownField").entwine({"from .cms-container form":{onaftersubmitform:function(e){this.find(".tree-holder").empty(),this._super()}}})}))},50628:function(__unused_webpack_module,__unused_webpack_exports,__webpack_require__){"use strict";var _jquery=_interopRequireDefault(__webpack_require__(19755)),_react=_interopRequireDefault(__webpack_require__(67294)),_client=__webpack_require__(20745),_IframeDialog=_interopRequireDefault(__webpack_require__(28788)),_Search=_interopRequireDefault(__webpack_require__(62266)),_Loading=_interopRequireDefault(__webpack_require__(34411)),_schemaFieldValues=__webpack_require__(48834),_Injector=__webpack_require__(54582),_lodash=_interopRequireDefault(__webpack_require__(91658));function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function _extends(){return _extends=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},_extends.apply(this,arguments)}__webpack_require__(47640),_jquery.default.noConflict(),window.ss=window.ss||{},window.ss.debounce=function(e,t,n){var r,a,i,s=function(){r=null,n||e.apply(a,i)};return function(){var o=n&&!r;a=this,i=arguments,clearTimeout(r),r=setTimeout(s,t),o&&e.apply(a,i)}},window.ss.tabStateUrl=function(){return window.location.href.replace(/\?.*/,"").replace(/#.*/,"").replace(new RegExp(`^${(0,_lodash.default)((0,_jquery.default)("base").attr("href"))}/?`),"")},(0,_jquery.default)(window).on("resize.leftandmain",(function(e){(0,_jquery.default)(".cms-container").trigger("windowresize")})),_jquery.default.entwine.warningLevel=_jquery.default.entwine.WARN_LEVEL_BESTPRACTISE,_jquery.default.entwine("ss",(function($){$(window).on("message",(function(e){var t,n=e.originalEvent,r=null;try{r="object"==typeof n.data?n.data:JSON.parse(n.data)}catch(e){}if(r&&$.path.parseUrl(window.location.href).domain===$.path.parseUrl(n.origin).domain)switch(t=void 0===r.target?$(window):$(r.target),r.type){case"event":t.trigger(r.event,r.data);break;case"callback":t[r.callback].call(t,r.data)}}));var positionLoadingSpinner=function(){var e=$(".ss-loading-screen .loading-animation"),t=($(window).height()-e.height())/2;e.css("top",t+120),e.show()},applyChosen=function(e){e.is(":visible")?e.addClass("has-chosen").chosen({allow_single_deselect:!0,disable_search_threshold:20,display_disabled_options:!0,width:"100%"}):setTimeout((function(){e.show(),applyChosen(e)}),500)},isSameUrl=function(e,t){var n=$("base").attr("href");e=$.path.isAbsoluteUrl(e)?e:$.path.makeUrlAbsolute(e,n),t=$.path.isAbsoluteUrl(t)?t:$.path.makeUrlAbsolute(t,n);var r=$.path.parseUrl(e),a=$.path.parseUrl(t);return r.pathname.replace(/\/*$/,"")==a.pathname.replace(/\/*$/,"")&&r.search==a.search},ajaxCompleteEvent=window.ss.debounce((function(){$(window).trigger("ajaxComplete")}),1e3,!0);$(window).on("resize",positionLoadingSpinner).trigger("resize"),$(document).ajaxComplete((function(e,t,n){var r=document.URL,a=t.getResponseHeader("X-ControllerURL"),i=n.url,s=null!==t.getResponseHeader("X-Status")?t.getResponseHeader("X-Status"):t.statusText,o=t.status<200||t.status>399?"error":"success";null===a||isSameUrl(r,a)&&isSameUrl(i,a)||window.ss.router.show(a,{id:(new Date).getTime()+String(Math.random()).replace(/\D/g,""),pjax:t.getResponseHeader("X-Pjax")?t.getResponseHeader("X-Pjax"):n.headers["X-Pjax"]}),t.getResponseHeader("X-Reauthenticate")?$(".cms-container").showLoginDialog():(0!==t.status&&s&&-1===$.inArray(s,["OK","success","load","HTTP/2.0 200"])&&statusMessage(decodeURIComponent(s),o),ajaxCompleteEvent(this))})),$(".cms-container").entwine({StateChangeXHR:null,FragmentXHR:{},StateChangeCount:0,LayoutOptions:{minContentWidth:940,minPreviewWidth:400,mode:"content"},onadd:function(){this.redraw(),$(".ss-loading-screen").hide(),$("body").removeClass("loading"),$(window).off("resize",positionLoadingSpinner),this.restoreTabState(),this._super()},onwindowresize:function(){this.redraw()},"from .cms-panel":{ontoggle:function(){this.redraw()}},"from .cms-container":{onaftersubmitform:function(){this.redraw()}},updateLayoutOptions:function(e){var t=this.getLayoutOptions(),n=!1;for(var r in e)t[r]!==e[r]&&(t[r]=e[r],n=!0);n&&this.redraw()},clearViewMode:function(){this.removeClass("cms-container--split-mode"),this.removeClass("cms-container--preview-mode"),this.removeClass("cms-container--content-mode")},splitViewMode:function(){this.updateLayoutOptions({mode:"split"})},contentViewMode:function(){this.updateLayoutOptions({mode:"content"})},previewMode:function(){this.updateLayoutOptions({mode:"preview"})},RedrawSuppression:!1,redraw:function(){this.getRedrawSuppression()||(window.debug&&console.log("redraw",this.attr("class"),this.get(0)),this.setProperMode()||(this.find(".cms-panel-layout").redraw(),this.find(".cms-content-fields[data-layout-type]").redraw(),this.find(".cms-edit-form[data-layout-type]").redraw(),this.find(".cms-preview").redraw(),this.find(".cms-content").redraw()))},setProperMode:function(){var e=this.getLayoutOptions(),t=e.mode;this.clearViewMode();var n=this.find(".cms-content"),r=this.find(".cms-preview");if(n.css({"min-width":0}),r.css({"min-width":0}),n.width()+r.width()>=e.minContentWidth+e.minPreviewWidth)n.css({"min-width":e.minContentWidth}),r.css({"min-width":e.minPreviewWidth}),r.trigger("enable");else if(r.trigger("disable"),"split"==t)return r.trigger("forcecontent"),!0;return this.addClass("cms-container--"+t+"-mode"),!1},checkCanNavigate:function(e){var t=this._findFragments(e||["Content"]),n=t.find(":data(changetracker)").add(t.filter(":data(changetracker)")),r=!0;return!n.length||(n.each((function(){$(this).confirmUnsavedChanges()||(r=!1)})),r)},loadPanel:function(e){let t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=arguments.length>3?arguments[3]:void 0,r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:document.URL;this.checkCanNavigate(t.pjax?t.pjax.split(","):["Content"])&&(this.saveTabState(),t.__forceReferer=r,n&&(t.__forceReload=1+Math.random()),window.ss.router.show(e,t))},reloadCurrentPanel:function(){this.loadPanel(document.URL,null,null,!0)},submitForm:function(e,t,n,r){var a=this;t||(t=this.find(".btn-toolbar :submit[name=action_save]")),t||(t=this.find(".btn-toolbar :submit:first")),e.trigger("beforesubmitform"),this.trigger("submitform",{form:e,button:t}),$(t).addClass("btn--loading loading"),$(t).prop("disabled",!0),$(t).is("button")&&($(t).data("original-text",$(t).text()),$(t).append($('<div class="btn__loading-icon"><span class="btn__circle btn__circle--1"></span><span class="btn__circle btn__circle--2"></span><span class="btn__circle btn__circle--3"></span></div>')),$(t).css($(t).outerWidth()+"px"));var i=e.validate(),s=function(){$(t).removeClass("btn--loading loading"),$(t).prop("disabled",!1),$(t).find(".btn__loading-icon").remove(),$(t).css("width","auto"),$(t).text($(t).data("original-text"))};void 0===i||i||(statusMessage("Validation failed.","bad"),s());var o=e.serializeArray();return o.push({name:$(t).attr("name"),value:"1"}),o.push({name:"BackURL",value:document.URL.replace(/\/$/,"")}),this.saveTabState(),jQuery.ajax(jQuery.extend({headers:{"X-Pjax":"CurrentForm,Breadcrumbs,ValidationResult"},url:e.attr("action"),data:o,type:"POST",complete:function(){s()},success:function(t,r,i){s(),e.removeClass("changed"),n&&n(t,r,i);var l=a.handleAjaxResponse(t,r,i);l&&l.filter("form").trigger("aftersubmitform",{status:r,xhr:i,formData:o})}},r)),!1},LastState:null,PauseState:!1,handleStateChange:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:window.history.state;if(this.getPauseState())return;this.getStateChangeXHR()&&this.getStateChangeXHR().abort();var n=this,r=t.pjax||"Content",a={},i=r.split(","),s=this._findFragments(i);if(this.setStateChangeCount(this.getStateChangeCount()+1),!this.checkCanNavigate())return void this.reverseStateChange();if(s.length<i.length&&(r="Content",i=["Content"],s=this._findFragments(i)),this.trigger("beforestatechange",{state:t,element:s}),a["X-Pjax"]=r,void 0!==t.__forceReferer){let e=t.__forceReferer;try{e=decodeURI(e)}catch(e){}finally{a["X-Backurl"]=encodeURI(e)}}s.addClass("loading");let o=$.ajax({headers:a,url:t.path||document.URL}).fail(((e,t,n)=>{0!==e.readyState&&"1"!==e.getResponseHeader("X-Reauthenticate")&&this.reverseStateChange()})).done(((e,r,a)=>{this.setLastState(t);var i=n.handleAjaxResponse(e,r,a,t);n.trigger("afterstatechange",{data:e,status:r,xhr:a,element:i,state:t})})).always((()=>{n.setStateChangeXHR(null),s.removeClass("loading")}));return this.setStateChangeXHR(o),o},reverseStateChange:function(){var e=this.getLastState();this.setPauseState(!0),this.setStateChangeCount(this.getStateChangeCount()-1),e&&e.path?(window.ss.router.show(e.path),this.setPauseState(!1)):(window.ss.router.back(),setTimeout((()=>{this.setPauseState(!1)})))},loadFragment:function(e,t){var n,r=this,a={},i=$("base").attr("href"),s=this.getFragmentXHR();return void 0!==s[t]&&null!==s[t]&&(s[t].abort(),s[t]=null),e=$.path.isAbsoluteUrl(e)?e:$.path.makeUrlAbsolute(e,i),a["X-Pjax"]=t,n=$.ajax({headers:a,url:e,success:function(e,t,n){var a=r.handleAjaxResponse(e,t,n,null);r.trigger("afterloadfragment",{data:e,status:t,xhr:n,elements:a})},error:function(e,t,n){r.trigger("loadfragmenterror",{xhr:e,status:t,error:n})},complete:function(){var e=r.getFragmentXHR();void 0!==e[t]&&null!==e[t]&&(e[t]=null)}}),s[t]=n,n},handleAjaxResponse:function(e,t,n,r){let a,i;if(n.getResponseHeader("X-Reload")&&n.getResponseHeader("X-ControllerURL")){const e=$("base").attr("href"),t=n.getResponseHeader("X-ControllerURL"),r=$.path.isAbsoluteUrl(t)?t:$.path.makeUrlAbsolute(t,e);return void(document.location.href=r)}if(!e)return;var s=n.getResponseHeader("X-Title");s&&(document.title=decodeURIComponent(s.replace(/\+/g," ")));let o,l={};n.getResponseHeader("Content-Type").match(/^((text)|(application))\/json[ \t]*;?/i)?l=e:(i=$($.parseHTML(e,document,!1)),a="Content",i.is("form")&&!i.is("[data-pjax-fragment~=Content]")&&(a="CurrentForm"),l[a]=i),this.setRedrawSuppression(!0);try{$.each(l,(function(e,t){var n=$("[data-pjax-fragment]").filter((function(){return-1!=$.inArray(e,$(this).data("pjaxFragment").split(" "))})),r=$(t);if(o?o.add(r):o=r,r.find(".cms-container").length)throw'Content loaded via ajax is not allowed to contain tags matching the ".cms-container" selector to avoid infinite loops';var a=n.attr("style"),i=(n.parent(),["east","west","center","north","south","column-hidden"]),s=n.attr("class"),l=[];s&&(l=$.grep(s.split(" "),(function(e){return $.inArray(e,i)>=0}))),r.removeClass(i.join(" ")).addClass(l.join(" ")),a&&r.attr("style",a);var d=r.find("style").detach();d.length&&$(document).find("head").append(d),n.replaceWith(r)}));var d=o.filter("form");d.hasClass("cms-tabset")&&d.removeClass("cms-tabset").addClass("cms-tabset")}finally{this.setRedrawSuppression(!1)}return this.redraw(),this.restoreTabState(r&&void 0!==r.tabState?r.tabState:null),o},_findFragments:function(e){return $("[data-pjax-fragment]").filter((function(){var t,n=$(this).data("pjaxFragment").split(" ");for(t in e)if(-1!=$.inArray(e[t],n))return!0;return!1}))},refresh:function(){$(window).trigger("statechange"),$(this).redraw()},saveTabState:function(){if(void 0!==window.sessionStorage&&null!==window.sessionStorage){var e=[],t=window.ss.tabStateUrl();if(this.find(".cms-tabset,.ss-tabset").each((function(t,n){var r=$(n).attr("id");r&&$(n).data("uiTabs")&&($(n).data("ignoreTabState")||$(n).getIgnoreTabState()||e.push({id:r,selected:$(n).tabs("option","active")}))})),e){var n="tabs-"+t;try{window.sessionStorage.setItem(n,JSON.stringify(e))}catch(e){if(e.code===DOMException.QUOTA_EXCEEDED_ERR&&0===window.sessionStorage.length)return;throw e}}}},restoreTabState:function(e){const t=this.find(".cms-tabset, .ss-tabset");t.length?t.each((function(){const t=$(this),n=t.attr("id"),r=e&&e[n]?e[n]:null;t.restoreState(r)})):$("#Form_AddForm_action_doAdd").focus()},clearTabState:function(e){if(void 0!==window.sessionStorage){var t=window.sessionStorage;if(e)t.removeItem("tabs-"+e);else for(var n=0;n<t.length;n++)t.key(n).match(/^tabs-/)&&t.removeItem(t.key(n))}},clearCurrentTabState:function(){this.clearTabState(window.ss.tabStateUrl())},showLoginDialog:function(){let e=$(".leftandmain__login-dialog");e.length&&e.destroy(),e=$('<div class="leftandmain__login-dialog" />'),$("body").append(e),e.open()}}),$(".leftandmain__login-dialog").entwine({destroy(){this.close(),this.remove()},close(){this.renderModal(!1)},open(){this.renderModal(!0)},renderModal(e){const t=$("body").data("member-tempid"),n=$.path.addSearchParams("CMSSecurity/login",{tempid:t,BackURL:window.location.href});let r=this.getReactRoot();r||(r=(0,_client.createRoot)(this[0])),r.render(_react.default.createElement(_IframeDialog.default,{title:i18n._t("Admin.CMS_LOGIN_TITLE","Login"),className:"login-dialog",bodyClassName:"login-dialog__body",iframeId:"login-dialog-iframe",iframeClassName:"login-dialog__body__iframe",isOpen:e,url:n}))},reauthenticate(e){void 0!==e.SecurityID&&$(":input[name=SecurityID]").val(e.SecurityID),void 0!==e.TempID&&$("body").data("member-tempid",e.TempID),this.close()}}),$("form.loading,.cms-content.loading,.cms-content-fields.loading,.cms-content-view.loading,.ss-gridfield-item.loading").entwine({ReactRoot:null,onmatch:function(){this._super();const e=$('<div class="cms-loading-container"/>');this.append(e);const t=(0,_client.createRoot)(e[0]);t.render(_react.default.createElement(_Loading.default,null)),this.setReactRoot(t)},onunmatch:function(){this._super();const e=this.find(".cms-loading-container");if(e&&e.length){const t=this.getReactRoot();t&&(t.unmount(),this.setReactRoot(null)),e.remove()}}}),$(".cms .cms-panel-link").entwine({onclick:function(e){if($(this).hasClass("external-link"))e.stopPropagation();else{var t=this.attr("href"),n=t&&!t.match(/^#/)?t:this.data("href"),r={pjax:this.data("pjaxTarget")};$(".cms-container").loadPanel(n,null,r),e.preventDefault()}}}),$(".cms button.action.discard-confirmation").entwine({onclick:function(e){$(".cms-container").checkCanNavigate()||e.preventDefault()}}),$(".cms .ss-ui-button-ajax").entwine({onclick:function(e){$(this).removeClass("ui-button-text-only"),$(this).addClass("ss-ui-button-loading ui-button-text-icons");var loading=$(this).find(".ss-ui-loading-icon");loading.length<1&&(loading=$("<span></span>").addClass("ss-ui-loading-icon ui-button-icon-primary ui-icon"),$(this).prepend(loading)),loading.show();var href=this.attr("href"),url=href||this.data("href");jQuery.ajax({url:url,complete:function(xmlhttp,status){var msg=xmlhttp.getResponseHeader("X-Status")?xmlhttp.getResponseHeader("X-Status"):xmlhttp.responseText;try{null!=msg&&eval(msg)}catch(e){}loading.hide(),$(".cms-container").refresh(),$(this).removeClass("ss-ui-button-loading ui-button-text-icons"),$(this).addClass("ui-button-text-only")},dataType:"html"}),e.preventDefault()}}),$(".cms .ss-ui-dialog-link").entwine({UUID:null,onmatch:function(){this._super(),this.setUUID((new Date).getTime())},onunmatch:function(){this._super()},onclick:function(){this._super();var e="ss-ui-dialog-"+this.getUUID(),t=$("#"+e);t.length||(t=$('<div class="ss-ui-dialog" id="'+e+'" />'),$("body").append(t));var n=this.data("popupclass")?this.data("popupclass"):"";return t.ssdialog({iframeUrl:this.attr("href"),autoOpen:!0,dialogExtraClass:n}),!1}}),$(".cms .field.date input.text").entwine({onmatch:function(){var e=$(this).parents(".field.date:first").data();e.showcalendar?(e.showOn="button",e.locale&&$.datepicker.regional[e.locale]&&(e=$.extend(e,$.datepicker.regional[e.locale],{})),this.prop("disabled")||this.prop("readonly")||$(this).datepicker(e),this._super()):this._super()},onunmatch:function(){this._super()}}),$(".cms .field.dropdown select, .cms .field select[multiple], .form__fieldgroup-item select.dropdown").entwine({onmatch:function(){this.is(".no-chosen")||(this.data("placeholder")||this.data("placeholder"," "),this.removeClass("has-chosen").chosen("destroy"),this.siblings(".chosen-container").remove(),applyChosen(this)),this._super()},onunmatch:function(){this._super()}}),$(".cms-panel-layout").entwine({redraw:function(){window.debug&&console.log("redraw",this.attr("class"),this.get(0))}}),$(".cms .grid-field:not([cms-loading-ignore-url-params])").entwine({showDetailView:function(e){$(".cms-container").loadPanel(e)}}),$(".cms-search-form button[type=reset], .cms-search-form input[type=reset]").entwine({onclick:function(e){e.preventDefault();var t=$(this).parents("form");t.clearForm(),t.find(".dropdown select").prop("selectedIndex",0).trigger("chosen:updated"),t.submit()}}),window._panelDeferredCache={},$(".cms-panel-deferred").entwine({onadd:function(){this._super(),this.redraw()},onremove:function(){window.debug&&console.log("saving",this.data("url"),this),this.data("deferredNoCache")||(window._panelDeferredCache[this.data("url")]=this.html()),this._super()},redraw:function(){window.debug&&console.log("redraw",this.attr("class"),this.get(0));var e=this,t=this.data("url");if(!t)throw'Elements of class .cms-panel-deferred need a "data-url" attribute';this._super(),this.data("deferredNoCache")||void 0===window._panelDeferredCache[t]?(this.addClass("loading"),$.ajax({url:t,complete:function(){e.removeClass("loading")},success:function(t,n,r){e.html(t)}})):this.html(window._panelDeferredCache[t])}}),$(".cms-tabset").entwine({onadd:function(){this.redrawTabs(),this._super()},onremove:function(){this.data("uiTabs")&&this.tabs("destroy"),this._super()},redrawTabs:function(){this.rewriteHashlinks();this.attr("id");var e=this.find("ul:first .ui-tabs-active");this.data("uiTabs")||this.tabs({active:-1!=e.index()?e.index():0,beforeLoad:function(e,t){return!1},beforeActivate:function(e,t){var n=t.oldTab.find(".cms-panel-link");if(n&&1===n.length)return!1},activate:function(e,t){var n=$(this).closest("form").find(".btn-toolbar");$(t.newTab).closest("li").hasClass("readonly")?n.fadeOut():n.show()}}),this.trigger("afterredrawtabs")},rewriteHashlinks:function(){$(this).find("ul a").each((function(){if($(this).attr("href")){var e=$(this).attr("href").match(/#.*/);e&&$(this).attr("href",document.location.href.replace(/#.*/,"")+e[0])}}))}}),$("#filters-button").entwine({onmatch:function(){this._super(),this.data("collapsed",!0),this.data("animating",!1)},onunmatch:function(){this._super()},showHide:function(){var e=$(".cms-content-filters").first(),t=this.data("collapsed");t?(this.addClass("active"),e.removeClass("cms-content-filters--hidden")):(this.removeClass("active"),e.addClass("cms-content-filters--hidden")),this.data("collapsed",!t)},onclick:function(){this.showHide()}}),$(".js-injector-boot .search-holder").entwine({Component:null,ReactRoot:null,onmatch(){this._super();const e=this.closest(".cms-content").attr("id"),t=e?{context:e}:{},n=(0,_Injector.loadComponent)("Search",t);this.setComponent(n),this.refresh();this.data("schema")},onunmatch(){this._super();const e=this.getReactRoot();e&&(e.unmount(),this.setReactRoot(null))},onfocusin(){this.css("z-index","100")},onfocusout(){this.css("z-index","")},close(){$("#filters-button").showHide();if(this.data("schema").filters){const e=$(".cms-search-form").attr("action");this.closest(".cms-container").loadPanel(e,"",{},!0)}},search(e){this._super();let t=$(".cms-search-form").attr("action");if(t&&e){const n=[];for(const[t,r]of Object.entries(e))r&&(n[`q[${t}]`]=r);0===Object.keys(n).length&&(n[`q[${this.data("schema").name}]`]=""),t=$.path.addSearchParams(t,n),$(".cms-panel-deferred.cms-content-view").data("deferredNoCache",!0),this.closest(".cms-container").loadPanel(t,"",{},!0)}},refresh(){const e=this.data("schema"),t=this.getComponent(),n="cms-content-tools-CMSMain"===this.closest(".cms-content-tools").attr("id");let r=this.getReactRoot();r||(r=(0,_client.createRoot)(this[0])),r.render(_react.default.createElement(t,_extends({id:"Search",identifier:"Search",display:"VISIBLE",displayBehavior:"HIDEABLE",filterPrefix:"Search__",onHide:()=>this.close(),onSearch:e=>this.search(e),borders:{left:!n}},e))),this.setReactRoot(r)}})}));var statusMessage=function(e,t){e=jQuery("<div/>").text(e).html(),jQuery.noticeAdd({text:e,type:t,stayTime:5e3,inEffect:{left:"0",opacity:"show"}})}},75350:function(e,t,n){"use strict";var r,a=(r=n(19755))&&r.__esModule?r:{default:r};n(50628),a.default.entwine("ss",(function(e){e(".cms-content-tools #Form_SearchForm").entwine({onsubmit:function(e){this.trigger("beforeSubmit")}}),e(".importSpec").entwine({onmatch:function(){this.find("div.details").hide(),this.find("a.detailsLink").click((function(){return e("#"+e(this).attr("href").replace(/.*#/,"")).slideToggle(),!1})),this._super()},onunmatch:function(){this._super()}}),e(".cms .btn.clear-search").entwine({onclick:function(e){e.preventDefault(),this.parents(".cms-container").loadPanel(this.attr("href"),"",{},!0,!1)}})}))},46925:function(e,t,n){"use strict";var r;((r=n(19755))&&r.__esModule?r:{default:r}).default.entwine("ss",(function(e){e(".permissioncheckboxset .valADMIN input").entwine({onmatch:function(){this._super()},onunmatch:function(){this._super()},onclick:function(e){this.toggleCheckboxes()},toggleCheckboxes:function(){var t=e(this).parents(".field:eq(0)").find(".checkbox").not(this);e(this).is(":checked")?t.each((function(){e(this).data("SecurityAdmin.oldChecked",e(this).attr("checked")),e(this).data("SecurityAdmin.oldDisabled",e(this).attr("disabled")),e(this).attr("disabled","disabled"),e(this).attr("checked","checked")})):t.each((function(){var t=e(this).data("SecurityAdmin.oldChecked"),n=e(this).data("SecurityAdmin.oldDisabled");null!==t&&e(this).attr("checked",t),null!==n&&e(this).attr("disabled",n)}))}}),e(".permissioncheckboxset .valCMS_ACCESS_LeftAndMain input").entwine({getCheckboxesExceptThisOne:function(){return e(this).parents(".field:eq(0)").find("li").filter((function(t){var n=e(this).attr("class");return!!n&&n.match(/CMS_ACCESS_/)})).find(".checkbox").not(this)},onadd:function(){this.toggleCheckboxes(),this._super()},onclick:function(e){this.toggleCheckboxes()},toggleCheckboxes:function(){var t=this.getCheckboxesExceptThisOne();e(this).is(":checked")?t.each((function(){e(this).data("PermissionCheckboxSetField.oldChecked",e(this).is(":checked")),e(this).data("PermissionCheckboxSetField.oldDisabled",e(this).is(":disabled")),e(this).prop("disabled","disabled"),e(this).prop("checked","checked")})):t.each((function(){e(this).prop("checked",e(this).data("PermissionCheckboxSetField.oldChecked")),e(this).prop("disabled",e(this).data("PermissionCheckboxSetField.oldDisabled"))}))}})}))},46993:function(e,t,n){"use strict";var r,a=(r=n(67294))&&r.__esModule?r:{default:r},i=n(20745),s=n(54582);function o(){return o=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o.apply(this,arguments)}window.jQuery.entwine("ss",(e=>{e(".js-injector-boot .ss-searchable-dropdown-field").entwine({Root:null,Component:null,onmatch(){const e=this.closest(".cms-content").attr("id"),t=e?{context:e}:{},n=this.data("schema");this.data("entwine-value",n.value);const r=(0,i.createRoot)(this[0]),a=(0,s.loadComponent)(n.component,t);this.setRoot(r),this.setComponent(a),this._super(),this.refresh()},onunmatch(){this.getRoot().unmount()},getProps(){return{...this.data("schema"),value:this.data("entwine-value")||"",onChange:this.handleChange.bind(this)}},refresh(){const e=this.getRoot(),t=this.getComponent(),n=this.getProps();e.render(a.default.createElement(t,o({},n,{noHolder:!0})))},handleChange(e){this.data("entwine-value",e),this.refresh()}}),e(".cms-edit-form").entwine({getChangeTrackerOptions(){const t=void 0===this.entwineData("ChangeTrackerOptions");let n=this._super();return t&&(n=e.extend({},n),n.ignoreFieldSelector+=", .ss-searchable-dropdown-field .no-change-track :input",this.setChangeTrackerOptions(n)),n}})}))},15878:function(e,t,n){"use strict";var r,a=(r=n(19755))&&r.__esModule?r:{default:r};n(50628),n(46925);var i=function(e){var t=(0,a.default)((0,a.default)(this).contents()).find(".message");if(t&&t.html()){var n=(0,a.default)(window.parent.document).find("#Form_EditForm_Members").get(0);n&&n.refresh();var r=(0,a.default)(window.parent.document).find(".cms-tree").get(0);r&&r.reload()}};(0,a.default)("#MemberImportFormIframe, #GroupImportFormIframe").entwine({onadd:function(){this._super(),(0,a.default)(this).on("load",i)}}),a.default.entwine("ss",(function(e){e(".permissioncheckboxset .checkbox[value=ADMIN]").entwine({onadd:function(){this.toggleCheckboxes(),this._super()},onclick:function(e){this.toggleCheckboxes()},toggleCheckboxes:function(){var t=this.parents(".field:eq(0)").find(".checkbox").not(this);this.is(":checked")?t.each((function(){e(this).data("SecurityAdmin.oldChecked",e(this).is(":checked")),e(this).data("SecurityAdmin.oldDisabled",e(this).is(":disabled")),e(this).prop("disabled",!0),e(this).prop("checked",!0)})):t.each((function(){e(this).prop("checked",e(this).data("SecurityAdmin.oldChecked")),e(this).prop("disabled",e(this).data("SecurityAdmin.oldDisabled"))}))}})}))},8298:function(e,t,n){"use strict";var r,a=(r=n(19755))&&r.__esModule?r:{default:r};(0,a.default)(document).ready((function(){(0,a.default)(document).on("click","ul.SelectionGroup input.selector, ul.selection-group input.selector",(function(){var e=(0,a.default)(this).closest("li");e.addClass("selected");var t=e.prevAll("li.selected");t.length&&t.removeClass("selected");var n=e.nextAll("li.selected");n.length&&n.removeClass("selected"),(0,a.default)(this).focus()}))}))},42886:function(e,t,n){"use strict";var r,a=(r=n(19755))&&r.__esModule?r:{default:r};n(43466),n(79216),n(881),a.default.entwine("ss",(function(e){e(".ss-tabset, .cms-tabset").entwine({DeferRestoreState:!1,DefferredStateOverride:null,onmatch:function(){var e=window.location.hash;""!==e&&this.openTabFromURL(e),this._super()},onadd:function(){this.on("tabsactivate",function(e,t){let{newPanel:n}=t;this.lazyLoadGridFields(n),this.triggerLazyLoad(n)}.bind(this)),this.on("tabscreate",function(e,t){let{panel:n}=t;this.lazyLoadGridFields(n),this.triggerLazyLoad(n)}.bind(this)),this._super()},restoreState:function(t){const n=void 0!==window.sessionStorage&&window.sessionStorage?window.sessionStorage.getItem("tabs-"+window.ss.tabStateUrl()):null,r=!!n&&JSON.parse(n);let a,i;const s=this.attr("id"),o=this.children("ul").children("li.ss-tabs-force-active");if(!this.data("uiTabs"))return this.setDeferRestoreState(!0),void this.setDefferredStateOverride(t);this.tabs("refresh"),o.length?a=o.first().index():t?(i=this.find(t.tabSelector),i.length&&(a=i.index())):r&&e.each(r,(function(e,t){s==t.id&&(a=t.selected)})),null!=a&&(this.tabs("option","active",a),this.parents(".cms-container").trigger("tabstaterestored"))},triggerLazyLoad:function(t){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:".lazy-loadable";t.find(n).each(((t,n)=>{var r=e(n),a=n.dataset.lazyEvent||"lazyload";r.closest(".ss-tabset, .cms-tabset").is(this)&&n.dispatchEvent(new Event(a))}))},lazyLoadGridFields:function(t){t.find(".grid-field--lazy-loadable").each(((t,n)=>{e(n).closest(".ss-tabset, .cms-tabset").is(this)&&e(n).lazyload()}))},openTabFromURL:function(t){var n;e.each(this.find(".ui-tabs-anchor"),(function(){if(-1!==this.href.indexOf(t)&&1===e(t).length)return n=e(this),!1})),void 0!==n&&e((()=>{n.click()}))},redrawTabs:function(){this._super(),this.getDeferRestoreState()&&(this.restoreState(this.getDefferredStateOverride()),this.setDeferRestoreState(!1),this.setDefferredStateOverride(null))}}),e(".ss-tabset").entwine({IgnoreTabState:!1,onadd:function(){this.redrawTabs(),this._super()},onremove:function(){this.data("uiTabs")&&this.tabs("destroy"),this._super()},redrawTabs:function(){e(this).hasClass("ss-tabset")?(this.rewriteHashlinks(),this.tabs()):this._super()},rewriteHashlinks:function(){e(this).find("ul a").each((function(){if(e(this).attr("href")){var t=e(this).attr("href").match(/#.*/);t&&e(this).attr("href",document.location.href.replace(/#.*/,"")+t[0])}}))}}),e(".ui-tabs-active .ui-tabs-anchor").entwine({onmatch:function(){this.addClass("nav-link active")},onunmatch:function(){this.removeClass("active")}})}))},8162:function(e,t,n){"use strict";var r=d(n(19755)),a=d(n(67294)),i=n(20745),s=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=l(t);if(n&&n.has(e))return n.get(e);var r={__proto__:null},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var s=a?Object.getOwnPropertyDescriptor(e,i):null;s&&(s.get||s.set)?Object.defineProperty(r,i,s):r[i]=e[i]}return r.default=e,n&&n.set(e,r),r}(n(54582)),o=n(36158);function l(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(l=function(e){return e?n:t})(e)}function d(e){return e&&e.__esModule?e:{default:e}}const u=(0,s.loadComponent)("ToastsContainer");r.default.entwine("ss",(e=>{e("body").entwine({onmatch(){const t=e('<div class="toasts-container"></div>');this.append(t);(0,i.createRoot)(t[0]).render(a.default.createElement(u,null))}})})),r.default.extend({noticeAdd(e){s.default.ready((()=>{const{dispatch:t}=s.default.reducer.store;t((0,o.display)(e))}))}})},44686:function(e,t,n){"use strict";var r,a=(r=n(19755))&&r.__esModule?r:{default:r};n(43466),a.default.entwine("ss",(function(e){e(".ss-toggle").entwine({onadd:function(){this._super(),this.accordion({heightStyle:"content",collapsible:!0,active:!this.hasClass("ss-toggle-start-closed")&&0})},onremove:function(){this.data("uiAccordion")&&this.accordion("destroy"),this._super()},getTabSet:function(){return this.closest(".ss-tabset")},fromTabSet:{ontabsshow:function(){this.accordion("resize")}}})}))},49785:function(e,t,n){"use strict";var r=d(n(19755)),a=d(n(67294)),i=n(20745),s=n(48834),o=n(59888),l=n(54582);function d(e){return e&&e.__esModule?e:{default:e}}function u(){return u=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},u.apply(this,arguments)}r.default.entwine("ss",(e=>{e(".js-injector-boot .TreeDropdownField").entwine({Value:null,Timer:null,Component:null,ReactRoot:null,onmatch(){this._super();const e=this.closest(".cms-content").attr("id"),t=e?{context:e}:{},n=(0,l.loadComponent)("TreeDropdownField",t);this.setComponent(n);const r=this.data("state")||{},a=this.data("schema")||{};a.data&&a.data.multiple?this.setValue(r.value&&r.value!==o.MULTI_EMPTY_VALUE?r.value.map((e=>Number(e))):[]):this.setValue(r.value?Number(r.value):""),this.refresh()},onunmatch(){this._super();const e=this.getReactRoot();e&&(e.unmount(),this.setReactRoot(null))},refresh(){const e=this.getAttributes(),t=this.getComponent();let n=this.getReactRoot();n||(n=(0,i.createRoot)(this[0])),n.render(a.default.createElement(t,u({},e,{onChange:e=>{this.setValue(e),this.refresh(),clearTimeout(this.getTimer());const t=setTimeout((()=>{this.find("input").trigger("change")}),0);this.setTimer(t)},value:this.getValue(),noHolder:!0}))),this.setReactRoot(n)},getAttributes(){const e=this.data("state"),t=this.data("schema");return(0,s.schemaMerge)(t,e)}})}))},13305:function(e,t,n){"use strict";var r=l(n(19755)),a=l(n(67294)),i=n(20745),s=n(48834),o=n(54582);function l(e){return e&&e.__esModule?e:{default:e}}r.default.entwine("ss",(e=>{e(".js-injector-boot .used-on__polyfill-holder").entwine({Timer:null,Component:null,ReactRoot:null,onmatch(){this._super();const e=this.closest(".cms-content").attr("id"),t=e?{context:e}:{},n=(0,o.loadComponent)("UsedOnTable",t);this.setComponent(n),this.refresh()},onunmatch(){this._super();const e=this.getReactRoot();e&&(e.unmount(),this.setReactRoot(null))},refresh(){const e=this.getAttributes(),t=this.getComponent();let n=this.getReactRoot();n||(n=(0,i.createRoot)(this[0])),n.render(a.default.createElement(t,e)),this.setReactRoot(n)},getAttributes(){const e=this.data("state"),t=this.data("schema");return(0,s.schemaMerge)(t,e)}})}))},1913:function(e,t,n){"use strict";var r,a=(r=n(91296))&&r.__esModule?r:{default:r};!function(e){e.fn.changetracker=function(t){var n=this;if(this.length>1)return this.each((function(e,n){this.changetracker(t)})),this;this.defaults={fieldSelector:':input:not(:button,[type="submit"],[type="search"],.gridstate)',ignoreFieldSelector:'.no-change-track,[type="search"]',changedCssClass:"changed"};var r=e.extend({},this.defaults,t);if(this.initialize=function(){e.meta&&(r=e.extend({},r,this.data())),n.data("dirty",!1);var t=function(t){if(t.is(":radio")){var r=n.find(":input[name="+t.attr("name")+"]:checked");return r.length?r.val():0}if(t.is(":checkbox"))return t.is(":checked")?1:0;var a=t.val();if(t&&t.hasClass("htmleditor"))switch(t.data("editor")||"default"){case"tinyMCE":case"default":var i=e.extend({forced_root_block:"p"},t.data("config")),s=tinymce.html.Serializer(i),o=tinymce.html.DomParser(i);a=s.serialize(o.parse(a))}return a},i=function(){var r=[];return n.getFields().each((function(){var n=e(this).prop("name");n&&r.push({name:n,value:t(e(this))})})),JSON.stringify(r)},s=i(),o=(0,a.default)((function(t){if(!t||!e(t.target).is(r.ignoreFieldSelector)){var a,o=(a=i(),n.data("dirty")||s!==a);n.toggleClass(r.changedCssClass,o)}}),250,{leading:!0,trailing:!0}),l=(0,a.default)((function(a){var i=e(a.target),s=i.data("changetracker.origVal");if(!i.is(r.ignoreFieldSelector)){var l=t(i);null===s||l!==s?(i.addClass(r.changedCssClass),n.addClass(r.changedCssClass)):(i.removeClass(r.changedCssClass),i.is(":radio")&&n.find(":radio[name="+i.attr("name")+"]").removeClass(r.changedCssClass),o())}}),250,{leading:!0,trailing:!0});n.on("click.changetracker",r.fieldSelector,l),n.on("keyup.changetracker",r.fieldSelector,l),n.on("change.changetracker",r.fieldSelector,l),n.on("change.changetracker",o),this.getFields().each((function(){var n=t(e(this));e(this).data("changetracker.origVal",n)})),n.on("dirty.changetracker",(function(){n.data("dirty",!0),o()})),this.data("changetracker",!0)},this.destroy=function(){this.reset(),this.off(".changetracker").removeData("changetracker")},this.reset=function(){this.getFields().each((function(){n.resetField(this)})),this.data("dirty",!1).removeClass(r.changedCssClass)},this.resetField=function(t){return e(t).removeData("changetracker.origVal").removeClass(r.changedCssClass)},this.getFields=function(){return this.find(r.fieldSelector).not(r.ignoreFieldSelector+", .search-box *")},"string"==typeof arguments[0]){var i=Array.prototype.slice.call(arguments);return i.splice(0,1),this[arguments[0]].apply(this,i)}n=this;return setTimeout((function(){n.initialize()}),0),this}}(jQuery)},88854:function(e,t,n){"use strict";var r,a=(r=n(19755))&&r.__esModule?r:{default:r};(0,a.default)(window),(0,a.default)("html"),(0,a.default)("head");var i={urlParseRE:/^(((([^:\/#\?]+:)?(?:(\/\/)((?:(([^:@\/#\?]+)(?:\:([^:@\/#\?]+))?)@)?(([^:\/#\?\]\[]+|\[[^\/\]@#?]+\])(?:\:([0-9]+))?))?)?)?((\/?(?:[^\/\?#]+\/+)*)([^\?#]*)))?(\?[^#]+)?)(#.*)?/,parseUrl:function(e){if("object"===a.default.type(e))return e;var t=i.urlParseRE.exec(e||"")||[];return{href:t[0]||"",hrefNoHash:t[1]||"",hrefNoSearch:t[2]||"",domain:t[3]||"",protocol:t[4]||"",doubleSlash:t[5]||"",authority:t[6]||"",username:t[8]||"",password:t[9]||"",host:t[10]||"",hostname:t[11]||"",port:t[12]||"",pathname:t[13]||"",directory:t[14]||"",filename:t[15]||"",search:t[16]||"",hash:t[17]||""}},makePathAbsolute:function(e,t){if(e&&"/"===e.charAt(0))return e;e=e||"";for(var n=(t=t?t.replace(/^\/|(\/[^\/]*|[^\/]+)$/g,""):"")?t.split("/"):[],r=e.split("/"),a=0;a<r.length;a++){var i=r[a];switch(i){case".":break;case"..":n.length&&n.pop();break;default:n.push(i)}}return"/"+n.join("/")},isSameDomain:function(e,t){return i.parseUrl(e).domain===i.parseUrl(t).domain},isRelativeUrl:function(e){return""===i.parseUrl(e).protocol},isAbsoluteUrl:function(e){return""!==i.parseUrl(e).protocol},makeUrlAbsolute:function(e,t){if(!i.isRelativeUrl(e))return e;var n=i.parseUrl(e),r=i.parseUrl(t),a=n.protocol||r.protocol,s=n.protocol?n.doubleSlash:n.doubleSlash||r.doubleSlash,o=n.authority||r.authority,l=""!==n.pathname;return a+s+o+i.makePathAbsolute(n.pathname||r.filename,r.pathname)+(n.search||!l&&r.search||"")+n.hash},addSearchParams:function(e,t){var n=i.parseUrl(e),r=(t="string"==typeof t?i.convertSearchToArray(t):t,a.default.extend(i.convertSearchToArray(n.search),t)),s=i.convertObjectToSearch(r);return n.hrefNoSearch+"?"+s+(n.hash||"")},getSearchParams:function(e){var t=i.parseUrl(e);return i.convertSearchToArray(t.search)},convertSearchToArray:function(e){var t,n,r,a={};for(t=(e=e.replace(/^\?/,""))?e.split("&"):[],n=0;n<t.length;n++)r=t[n].split("="),a[decodeURIComponent(r[0])]=decodeURIComponent(r[1]);return a},convertObjectToSearch(e){let t=[];for(var n in e)t.push(encodeURIComponent(n)+"="+encodeURIComponent(e[n]));return t.join("&")},convertUrlToDataUrl:function(e){var t=i.parseUrl(e);return i.isEmbeddedPage(t)?t.hash.split(dialogHashKey)[0].replace(/^#/,""):i.isSameDomain(t,document)?t.hrefNoHash.replace(document.domain,""):e},get:function(e){return void 0===e&&(e=location.hash),i.stripHash(e).replace(/[^\/]*\.[^\/*]+$/,"")},getFilePath:function(e){var t="&"+a.default.mobile.subPageUrlKey;return e&&e.split(t)[0].split(dialogHashKey)[0]},set:function(e){location.hash=e},isPath:function(e){return/\//.test(e)},clean:function(e){return e.replace(document.domain,"")},stripHash:function(e){return e.replace(/^#/,"")},cleanHash:function(e){return i.stripHash(e.replace(/\?.*$/,"").replace(dialogHashKey,""))},isExternal:function(e){var t=i.parseUrl(e);return!(!t.protocol||t.domain===document.domain)},hasProtocol:function(e){return/^(:?\w+:)/.test(e)}};a.default.path=i},47640:function(e,t,n){"use strict";var r,a=(r=n(19755))&&r.__esModule?r:{default:r};n(43466),a.default.widget("ssui.ssdialog",a.default.ui.dialog,{options:{iframeUrl:"",reloadOnOpen:!0,dialogExtraClass:"",modal:!0,bgiframe:!0,autoOpen:!1,autoPosition:!0,minWidth:500,maxWidth:800,minHeight:300,maxHeight:700,widthRatio:.8,heightRatio:.8,resizable:!1},_create:function(){a.default.ui.dialog.prototype._create.call(this);var e=this,t=(0,a.default)('<iframe marginWidth="0" marginHeight="0" frameBorder="0" scrolling="auto"></iframe>');t.on("load",(function(n){"about:blank"!=(0,a.default)(this).attr("src")&&(t.addClass("loaded").show(),e._resizeIframe(),e.uiDialog.removeClass("loading"))})).hide(),this.options.dialogExtraClass&&this.uiDialog.addClass(this.options.dialogExtraClass),this.element.append(t),this.options.iframeUrl&&this.element.css("overflow","hidden")},open:function(){a.default.ui.dialog.prototype.open.call(this);var e=this,t=this.element.children("iframe");!this.options.iframeUrl||t.hasClass("loaded")&&!this.options.reloadOnOpen||(t.hide(),t.attr("src",this.options.iframeUrl),this.uiDialog.addClass("loading")),(0,a.default)(window).on("resize.ssdialog",(function(){e._resizeIframe()}))},close:function(){a.default.ui.dialog.prototype.close.call(this),this.uiDialog.off("resize.ssdialog"),(0,a.default)(window).off("resize.ssdialog")},_resizeIframe:function(){var e,t,n={},r=this.element.children("iframe");this.options.widthRatio&&(e=(0,a.default)(window).width()*this.options.widthRatio,this.options.minWidth&&e<this.options.minWidth?n.width=this.options.minWidth:this.options.maxWidth&&e>this.options.maxWidth?n.width=this.options.maxWidth:n.width=e),this.options.heightRatio&&(t=(0,a.default)(window).height()*this.options.heightRatio,this.options.minHeight&&t<this.options.minHeight?n.height=this.options.minHeight:this.options.maxHeight&&t>this.options.maxHeight?n.height=this.options.maxHeight:n.height=t),jQuery.isEmptyObject(n)||(this._setOptions(n),r.attr("width",n.width-parseFloat(this.element.css("paddingLeft"))-parseFloat(this.element.css("paddingRight"))),r.attr("height",n.height-parseFloat(this.element.css("paddingTop"))-parseFloat(this.element.css("paddingBottom"))),this.options.autoPosition&&this._setOption("position",this.options.position))}}),a.default.widget("ssui.titlebar",{_create:function(){this.originalTitle=this.element.attr("title");var e=this.options,t=e.title||this.originalTitle||"&nbsp;",n=a.default.ui.dialog.getTitleId(this.element);this.element.parent().addClass("ui-dialog");var r=this.element.addClass("ui-dialog-titlebar ui-widget-header ui-corner-all ui-helper-clearfix");if(e.closeButton){var i=(0,a.default)('<a href="#"/>').addClass("ui-dialog-titlebar-close ui-corner-all").attr("role","button").hover((function(){i.addClass("ui-state-hover")}),(function(){i.removeClass("ui-state-hover")})).focus((function(){i.addClass("ui-state-focus")})).blur((function(){i.removeClass("ui-state-focus")})).mousedown((function(e){e.stopPropagation()})).appendTo(r);(this.uiDialogTitlebarCloseText=(0,a.default)("<span/>")).addClass("ui-icon ui-icon-closethick").text(e.closeText).appendTo(i)}(0,a.default)("<span/>").addClass("ui-dialog-title").attr("id",n).html(t).prependTo(r);r.find("*").add(r).disableSelection()},destroy:function(){this.element.off(".dialog").removeData("dialog").removeClass("ui-dialog-content ui-widget-content").hide().appendTo("body"),this.originalTitle&&this.element.attr("title",this.originalTitle)}}),a.default.extend(a.default.ssui.titlebar,{version:"0.0.1",options:{title:"",closeButton:!1,closeText:"close"},uuid:0,getTitleId:function(e){return"ui-dialog-title-"+(e.attr("id")||++this.uuid)}})},1591:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=o(n(94301)),a=o(n(82702)),i=o(n(27354)),s=o(n(21965));function o(e){return e&&e.__esModule?e:{default:e}}function l(e){let t=null,n=null;if(!(e.status>=200&&e.status<300))throw n=new Error(e.statusText),n.response=e,n;return t=e,t}function d(e){let t=null;if(e instanceof FormData||"string"==typeof e)t=e;else{if(!e||"object"!=typeof e)throw new Error("Invalid body type");t=JSON.stringify(e)}return t}function u(e,t){switch(e){case"application/x-www-form-urlencoded":return i.default.stringify(t);case"application/json":case"application/x-json":case"application/x-javascript":case"text/javascript":case"text/x-javascript":case"text/x-json":return JSON.stringify(t);default:throw new Error(`Can't encode format: ${e}`)}}function c(e){return e.text().then((t=>function(e,t){switch(e){case"application/x-www-form-urlencoded":return i.default.parse(t);case"application/json":case"application/x-json":case"application/x-javascript":case"text/javascript":case"text/x-javascript":case"text/x-json":return JSON.parse(t);default:throw new Error(`Can't decode format: ${e}`)}}(e.headers.get("Content-Type"),t)))}a.default.polyfill();const f=new class{constructor(){this.fetch=r.default}createEndpointFetcher(e){var t=this;const n=Object.assign({method:"get",payloadFormat:"application/x-www-form-urlencoded",responseFormat:"application/json",payloadSchema:{},defaultData:{}},e),r={json:"application/json",urlencoded:"application/x-www-form-urlencoded"};return["payloadFormat","responseFormat"].forEach((e=>{r[n[e]]&&(n[e]=r[n[e]])})),function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const a=Object.assign({},r,{Accept:n.responseFormat,"Content-Type":n.payloadFormat}),i=s.default.recursive({},n.defaultData,e),o=function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{setFromData:!1},a=t;return a=function(e,t){return""===t?e:e.match(/\?/)?`${e}&${t}`:`${e}?${t}`}(a,u("application/x-www-form-urlencoded",Object.keys(n).reduce(((t,a)=>{const i=e[a],s=!0===r.setFromData&&!(i&&!0===i.remove),o=i&&!0===i.querystring&&!0!==i.remove;return s||o?Object.assign(t,{[a]:n[a]}):t}),{}))),a=Object.keys(e).reduce(((t,r)=>{const a=e[r].urlReplacement;return a?t.replace(a,n[r]):t}),a),a}(n.payloadSchema,n.url,i,{setFromData:"get"===n.method.toLowerCase()}),l="get"!==n.method.toLowerCase()?u(n.payloadFormat,function(e,t){return Object.keys(t).reduce(((n,r)=>{const a=e[r];return!a||!0!==a.remove&&!0!==a.querystring?Object.assign(n,{[r]:t[r]}):n}),{})}(n.payloadSchema,i)):"",d="get"===n.method.toLowerCase()?[o,a]:[o,l,a];return t[n.method.toLowerCase()](...d).then(c)}}get(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this.fetch(e,{method:"get",credentials:"same-origin",headers:t}).then(l)}post(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return this.fetch(e,{method:"post",credentials:"same-origin",body:d(t),headers:Object.assign({},{"Content-Type":"application/x-www-form-urlencoded"},n)}).then(l)}put(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return this.fetch(e,{method:"put",credentials:"same-origin",body:d(t),headers:n}).then(l)}delete(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return this.fetch(e,{method:"delete",credentials:"same-origin",body:d(t),headers:n}).then(l)}};t.default=f},94974:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;t.default=class{static get(e){return window.ss.config[e]}static getAll(){return window.ss.config}static getSection(e){return window.ss.config.sections.find((t=>t.name===e))}static getCurrentSection(){}}},95837:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.decodeQuery=function(e){return a.default.parse(e.replace(/^\?/,""))},t.fileSize=function(e){let t=null,n="";e<1024?(t=e,n="bytes"):e<10240?(t=Math.round(e/1024*10)/10,n="KB"):e<1048576?(t=Math.round(e/1024),n="KB"):e<10485760?(t=Math.round(e/1048576*10)/10,n="MB"):e<1073741824&&(t=Math.round(e/1048576),n="MB");(t||0===t)&&n||(t=Math.round(e/1073741824*10)/10,n="GB");if(isNaN(t))return r.default._t("Admin.NO_SIZE","N/A");return`${t} ${n}`},t.getFileExtension=function(e){return/[.]/.exec(e)?e.replace(/^.+[.]/,""):""};var r=i(n(4754)),a=i(n(27354));function i(e){return e&&e.__esModule?e:{default:e}}},54582:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.graphqlTemplates=t.default=void 0,Object.defineProperty(t,"inject",{enumerable:!0,get:function(){return s.default}}),Object.defineProperty(t,"injectGraphql",{enumerable:!0,get:function(){return o.default}}),Object.defineProperty(t,"loadComponent",{enumerable:!0,get:function(){return d.default}}),Object.defineProperty(t,"provideContext",{enumerable:!0,get:function(){return a.default}}),Object.defineProperty(t,"provideInjector",{enumerable:!0,get:function(){return r.default}}),Object.defineProperty(t,"withInjector",{enumerable:!0,get:function(){return i.default}});var r=f(n(73318)),a=f(n(17176)),i=f(n(40342)),s=f(n(34717)),o=f(n(92475)),l=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=c(t);if(n&&n.has(e))return n.get(e);var r={__proto__:null},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var s=a?Object.getOwnPropertyDescriptor(e,i):null;s&&(s.get||s.set)?Object.defineProperty(r,i,s):r[i]=e[i]}return r.default=e,n&&n.set(e,r),r}(n(20057));t.graphqlTemplates=l;var d=f(n(92456)),u=f(n(32869));function c(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(c=function(e){return e?n:t})(e)}function f(e){return e&&e.__esModule?e:{default:e}}t.default=u.default},80507:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;window.ss=window.ss||{},window.ss.routeRegister=window.ss.routeRegister||new class{constructor(){this.reset()}reset(){this.childRoutes=[],this.rootRoute={path:"/",routes:()=>this.getChildRoutes()}}updateRootRoute(e){this.rootRoute=Object.assign({},this.rootRoute,e)}add(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];if(e.path===this.rootRoute.path&&Array.isArray(e.routes))return void(this.childRoutes=e.routes.concat(this.childRoutes));const n=this.findChildRoute(t),r=Object.assign({},{routes:[]},e);let a=r.routes[r.routes.length-1];a&&"**"===a.path||(a={path:"**"},r.routes.push(a));const i=n.findIndex((t=>t.path===e.path));i>=0?n[i]=r:n.unshift(r)}findChildRoute(e){let t=this.childRoutes;return e&&e.forEach((e=>{const n=t.find((t=>t.path===e));if(!n)throw new Error(`Parent path ${e} could not be found.`);t=n.routes})),t}getRootRoute(){return this.rootRoute}getChildRoutes(){return this.childRoutes}remove(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];const n=this.findChildRoute(t),r=n.findIndex((t=>t.path===e));return r<0?null:n.splice(r,1)[0]}};t.default=window.ss.routeRegister},15586:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r,a=o(n(50650)),i=o(n(8575)),s=o(n(91658));function o(e){return e&&e.__esModule?e:{default:e}}a.default.oldshow||(a.default.oldshow=a.default.show),a.default.setAbsoluteBase=function(e){a.default.absoluteBaseURL=e.replace(/\/?$/,"/");const t=document.createElement("a");t.href=e;let n=t.pathname;n=n.replace(/\/$/,""),n.match(/^[^\/]/)&&(n=`/${n}`),a.default.base(n)}.bind(a.default),a.default.getAbsoluteBase=function(){return a.default.absoluteBaseURL}.bind(a.default),a.default.resolveURLToBase=function(e){const t=a.default.getAbsoluteBase(),n=i.default.resolve(t,e);if(0!==n.indexOf(t))return n;const r=new RegExp(`^${(0,s.default)(t)}/?`);return n.replace(r,"/")}.bind(a.default),a.default.show=(r=a.default.oldshow,(e,t,n,i)=>r(a.default.resolveURLToBase(e),t,n,i)),a.default.routeAppliesToCurrentLocation=function(e){return new a.default.Route(e).match(a.default.current,{})},window.ss=window.ss||{},window.ss.router=window.ss.router||a.default;t.default=window.ss.router},56503:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.sanitiseShortCodeProperties=t.default=t.createHTMLSanitiser=void 0;var r,a=(r=n(4754))&&r.__esModule?r:{default:r};const i=e=>e.toString().slice(1,-1),s=i(/((?:[,\s]+(?:[a-z0-9\-_]+)=(?:(?:[a-z0-9\-_]+)|(?:\d+\.\d+)|(?:'[^']*')|(?:"[^"]*")))*)/),o=/[,\s]+([a-z0-9\-_]+)=(?:([a-z0-9\-_]+)|(\d+\.\d+)|(?:'([^']*)')|(?:"([^"]*)"))/,l=i(/\[%s/),d=i(/\[\s*\/\s*%s\s*]/),u=i(/((?:.|\n|)*?)/),c=i(/\s*/),f={match(e,t,n){let r=`${a.default.sprintf(l,e)}${s}${c}\\]`;t&&(r=`${r}${u}${a.default.sprintf(d,e)}`);const i=new RegExp(r,"i").exec(n);if(!i)return null;return{name:e,wrapped:t,properties:this.parseProperties(i[1]),original:i[0],content:t?i[2]:null}},parseProperties(e){let t=e;const n={};let r=t.match(o);for(;r;){const e=r[1]||"",a=r[2]||r[3]||r[4]||r[5]||"";e&&(n[e]=a);const i=t.indexOf(r[0]);t=t.substr(i+r[0].length),r=t.match(o)}return n},serialise(e){const t=arguments.length>1&&void 0!==arguments[1]&&arguments[1]?{sep:",",quote:"",replacer:/[^a-z0-9\-_.]/gi}:{sep:" ",quote:'"',replacer:/"/g},n=Object.entries(e.properties).map((e=>{let[n,r]=e;return r?`${t.sep}${n}=${t.quote}${`${r}`.replace(t.replacer,"")}${t.quote}`:null})).filter((e=>null!==e)).join("");return e.wrapped?`[${e.name}${n}]${e.content}[/${e.name}]`:`[${e.name}${n}]`}},p=()=>{const e=document.createElement("div");return t=>void 0===t?"":(e.textContent=t,e.innerHTML)};t.createHTMLSanitiser=p;t.sanitiseShortCodeProperties=e=>{const t=p();return Object.entries(e).reduce(((e,n)=>{let[r,a]=n;return{...e,[r]:t(a)}}),{})};t.default=f},90111:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(67294);class a extends r.Component{constructor(){super(),clearTimeout(null)}render(){return null}}a.propTypes={};t.default=a},4430:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;const n=(e,t)=>e?`${e}.${t}`:t;window.ss=window.ss||{},window.ss.tinymceactions=window.ss.tinymceactions||new class{constructor(){this.actions={},this.editorCommandsToUrlTestsMap={},this.defaultCommand="sslinkexternal"}addAction(e,t,r){const a=t.priority||50,i=n(r,e),s=this.getActions(e,r,!0);return t.type="menuitem",t.hasOwnProperty("onclick")&&(t.onAction=t.onclick,delete t.onclick),s.find((e=>t.text===e.text))||(this.actions[i]=[...this.getActions(e,r,!1),{...t,priority:a}]),this}getActions(e,t){let r=t&&!(!(arguments.length>2&&void 0!==arguments[2])||arguments[2])||!this.actions[e]?[]:this.actions[e];const a=n(t,e);return t&&this.actions[a]&&(r=[...r,...this.actions[a]]),r}getSortedActions(e,t){let n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];return this.getActions(e,t,n).sort(((e,t)=>{const n=t.priority-e.priority;return n||(e.text.toLocaleLowerCase()>t.text.toLocaleLowerCase()?1:-1)}))}addCommandWithUrlTest(e,t){return this.editorCommandsToUrlTestsMap[e]=t,this}setDefaultCommand(e){return this.defaultCommand=e,this}getDefaultCommand(){return this.defaultCommand}getEditorCommandFromUrl(e){let t=this.getDefaultCommand();const n=Object.keys(this.editorCommandsToUrlTestsMap).find((t=>this.editorCommandsToUrlTestsMap[t]&&this.editorCommandsToUrlTestsMap[t].test(e)));return n&&(t=n),t}};t.default=window.ss.tinymceactions},39062:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(n(48966)),a=i(n(4754));function i(e){return e&&e.__esModule?e:{default:e}}t.default=class{constructor(e){this.setValues(e)}setValues(e){this.values=e}getFieldValue(e){let t=this.values[e];return"string"!=typeof t&&(t=null==t||!1===t?"":t.toString()),t}validateValue(e,t,n,a){if(t.includes(e))return"required"!==n;switch(n){case"equals":{const t=this.getFieldValue(a.field);return r.default.equals(e,t)}case"numeric":return r.default.isNumeric(e);case"date":return r.default.isDate(e);case"alphanumeric":return r.default.isAlphanumeric(e);case"alpha":return r.default.isAlpha(e);case"regex":return r.default.matches(e,a.pattern);case"max":return e.length<=a.length;case"email":return r.default.isEmail(e);default:return console.warn(`Unknown validation rule used: '${n}'`),!1}}validateFieldSchema(e){return this.validateField(e.name,e.validation,null!==e.leftTitle?e.leftTitle:e.title,e.customValidationMessage)}getMessage(e,t){const n=t.title,r="string"==typeof t.message?t.message:a.default._t(`Admin.VALIDATOR_MESSAGE_${e.toUpperCase()}`,a.default._t("Admin.VALIDATOR_MESSAGE_DEFAULT","{name} is not a valid value."));return a.default.inject(r,{name:n})}validateField(e,t,n,r){const a={valid:!0,errors:[]};if(!t)return a;const i=this.getFieldValue(e);let s=[""];if(t.required&&"object"==typeof t.required&&t.required.hasOwnProperty("extraEmptyValues")&&(s=s.concat(t.required.extraEmptyValues)),t.required&&s.includes(i)){const a=Object.assign({title:""!==n?n:e},t.required);return{valid:!1,errors:[r||this.getMessage("required",a)]}}return Object.entries(t).forEach((t=>{const[r,o]=t,l=Object.assign({title:e},{title:n},o);if("required"===r)return;if(!this.validateValue(i,s,r,l)){const e=this.getMessage(r,l);a.valid=!1,a.errors.push(e)}})),r&&!a.valid&&(a.errors=[r]),a}}},10259:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(t&&void 0!==t.react)return a.default.createElement(e,n,t.react);if(t&&void 0!==t.html){if(null!==t.html){const r={__html:t.html};return a.default.createElement(e,i({},n,{dangerouslySetInnerHTML:r}))}return null}let r=null;r=t&&void 0!==t.text?t.text:t;if(r&&"object"==typeof r)throw new Error(`Unsupported string value ${JSON.stringify(r)}`);if(null!=r)return a.default.createElement(e,n,r);return null},t.mapHighlight=function(e,t,n){let r=0,i=e;const s=[],o=t.toLocaleLowerCase();for(;-1!==r;)if(r=i.toLocaleLowerCase().indexOf(o),-1!==r){const e=r+t.length,o=i.substring(0,r),l=i.substring(r,e),d=i.substring(e);o.length&&s.push(o),s.push(n?a.default.createElement(n,{key:s.length/2},l):l),i=d}return s.push(i),s};var r,a=(r=n(67294))&&r.__esModule?r:{default:r};function i(){return i=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i.apply(this,arguments)}},99673:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SPLITMODE_BREAKPOINT=void 0;t.SPLITMODE_BREAKPOINT=800},72208:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;t.default=e=>{const t={};return e&&e.split(" ").forEach((e=>{""!==e&&(t[e]=!0)})),t}},48942:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.createErrorHtml=t.createErrorBlock=void 0;var r,a=(r=n(67294))&&r.__esModule?r:{default:r};const i=e=>({type:"error",value:{react:e.map(((e,t)=>a.default.createElement("span",{key:t,className:"form__validation-message"},e)))}});t.createErrorHtml=i;const s=e=>Object.entries(e).reduce(((e,t)=>{const[n,r]=t;if(!r||!r.length)return e;const a=Array.isArray(r)?r:[r];return{...e,[n]:i(a)}}),{});t.createErrorBlock=s;t.default=s},62819:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=s(n(4311)),a=n(59768),i=s(n(25904));function s(e){return e&&e.__esModule?e:{default:e}}const o="__TEMPLATE_OVERRIDE__",l=["templateName","fields","params","fragments"],d=["options","props","variables","skip","update"],u={params:{},args:{},fields:[],fragments:[],pagination:!0,apolloConfig:{}};t.default=class{constructor(e,t,n){const r={...u,...e};r.fields=[...r.fields];const{apolloConfig:a,...i}=r;this.config=i,this.apolloConfigInitValues=a,this.apolloConfigTransforms={},this.templates={...t}||{},this.fragments={...n}||{},this.reduceApolloConfig=this.reduceApolloConfig.bind(this)}setConfig(e,t){if(l.includes(e))throw new Error(`Tried to set protected config values: '${e}', which is discouraged.`);return this.config={...this.config,[e]:t},this}transformApolloConfig(e,t){const n=this.apolloConfigTransforms[e]||[];return this.apolloConfigTransforms={...this.apolloConfigTransforms,[e]:[...n,t]},this}addParam(e,t){if(!e||!t)throw new Error("addParam must be passed a name and type parameter");return this.addParams({[e]:t})}addParams(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const t=this.config.params;return this.config.params={...t,...e},this}addArg(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:a.ROOT_FIELD;return this.addArgs({[e]:t},n)}addArgs(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:a.ROOT_FIELD;const n=this.config.args[t]||{};return this.config.args[t]={...n,...e},this}addField(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:a.ROOT_FIELD;return this.addFields([e],t)}addFields(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:a.ROOT_FIELD,n=[];return t.split("/").forEach((e=>{if(e===a.ROOT_FIELD)n=this.config.fields;else{const r=n.indexOf(e),a=n[r+1];if(-1===r||!Array.isArray(a))throw new Error(`Invalid path to field: ${t}`);n=a}})),e.forEach((e=>n.push(e))),this}useFragment(e){return this.config.fragments=[...this.config.fragments,e],this}useTemplate(e){if(!Object.keys(this.templates).includes(e))throw new Error(`\nTried to use template '${e}', which could not be found. Please make sure that it is registered with your Injector.\n      `);return this.config.templateName=e,this}addTempFragment(e,t){return this.fragments={...this.fragments,[e]:t},this.useFragment(e)}setTemplate(e){this.config.templateName=o;for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return this.templates={...this.templates,[o]:{strings:e,expressions:n}},this}getRawTemplate(e){return this.templates[e]}coallesceData(e,t,n){switch(e){case"options":case"props":case"variables":case"context":case"optimisticResponse":return{...t||{},...n||{}};case"refetchQueries":return[...t||[],...n||[]];case"skip":return"boolean"==typeof n?n:t;case"pollInterval":return"number"==typeof n?n:t;case"fetchPolicy":return"object"==typeof n?n:t;case"name":return"string"==typeof n?n:t;case"withRef":case"notifyOnNetworkStatusChange":return n||t;default:return null}}reduceApolloConfig(e,t){const n=(e,n)=>{const r=n(e);return this.coallesceData(t,e,r)},r=this.apolloConfigInitValues[t],a=this.apolloConfigTransforms[t]||[];if(d.includes(t)){const i=function(){for(var e=arguments.length,i=new Array(e),s=0;s<e;s++)i[s]=arguments[s];const o=r(...i),l=a.map((e=>e(...i)));return"update"===t?null:l.reduce(n,o)};return{...e,[t]:i}}if(null==r)return e;const i=a.reduce(n,r);return{...e,[t]:i}}getConfig(){return{...this.config,availableFragments:{...this.fragments}}}getApolloConfig(){return[...Object.keys(this.apolloConfigInitValues),...Object.keys(this.apolloConfigTransforms)].filter(((e,t,n)=>n.indexOf(e)===t)).reduce(this.reduceApolloConfig,{})}getGraphqlAST(){const e=this.getConfig(),t=this.getRawTemplate(e.templateName),n=t.expressions.map((t=>"function"!=typeof t?t:t(e)));return(0,r.default)(t.strings,...n)}getContainer(){return new i.default(this.getGraphqlAST(),this.getApolloConfig())}}},25904:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(95344);t.default=class{constructor(e,t){this.graphqlAST=e,this.apolloConfig=t}getApolloHOC(){return(0,r.graphql)(this.graphqlAST,this.apolloConfig)}getGraphqlAST(){return this.graphqlAST}getApolloConfig(){return this.apolloConfig}}},32869:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=l(n(2337)),a=l(n(86046)),i=l(n(77192)),s=l(n(47289)),o=l(n(2661));function l(e){return e&&e.__esModule?e:{default:e}}const d=(0,r.default)();d.register("component",(0,a.default)()),d.register("reducer",(0,i.default)()),d.register("form",(0,s.default)()),d.register("query",(0,o.default)());t.default=d},15746:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=l(n(93967)),a=l(n(59572)),i=n(11962),s=n(48834),o=l(n(72208));function l(e){return e&&e.__esModule?e:{default:e}}const d=e=>e;t.default=class{constructor(e,t){const n=e.state||{},r=n.fields||[];this.schema={...e,state:{...n,fields:[...r]}},this.mockGlobalState=(0,a.default)({},e.name,t)}getFieldByName(e){const t={fields:[],actions:[],...this.schema.schema},n=[...t.fields,...t.actions],r=(0,s.findField)(n,e),a=this.schema.state.fields.find((t=>t.name===e));return(0,s.schemaMerge)(r,a)}mutateField(e,t){const n=this.schema.state.fields||[],r=n.findIndex((t=>t.name===e));if(r<0)return this;const a=[...n],i=this.getFieldByName(e);return a[r]=(0,s.schemaMerge)(i,t(i)),this.schema.state.fields=a,this}updateField(e,t){return this.mutateField(e,(e=>({...e,...t})))}updateFields(e){return Object.keys(e).forEach((t=>{this.updateField(t,e[t])})),this}setFieldComponent(e,t){return this.updateField(e,{component:t})}setFieldClass(e,t){let n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];return this.mutateField(e,(e=>{const a=(0,o.default)(e.extraClass);return a[t]=n,{...e,extraClass:(0,r.default)(a)}}))}addFieldClass(e,t){return this.setFieldClass(e,t,!0)}removeFieldClass(e,t){return this.setFieldClass(e,t,!1)}getValues(){return(0,i.getFormValues)(this.schema.name,d)(this.mockGlobalState)||{}}getValue(e){return this.getValues()[e]}isDirty(){return(0,i.isDirty)(this.schema.name,d)(this.mockGlobalState)}isPristine(){return(0,i.isPristine)(this.schema.name,d)(this.mockGlobalState)}isValid(){return(0,i.isValid)(this.schema.name,d)(this.mockGlobalState)}isInvalid(){return(0,i.isInvalid)(this.schema.name,d)(this.mockGlobalState)}getState(){return this.schema}}},86745:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;t.default=class{constructor(e){this.values=e,this.errorMap={}}addError(e,t){if(!this.fieldExists(e))throw new Error(`Tried to add error to non-existent field: ${e}`);return this.errorMap[e]||(this.errorMap[e]=[]),this.errorMap[e]=[...this.errorMap[e],t],this}addErrors(e){return Object.entries(e).forEach((e=>{const[t]=e;let[,n]=e;Array.isArray(n)||(n=[n]),n.forEach((e=>this.addError(t,e)))})),this}clearErrors(e){if(!this.fieldExists(e))throw new Error(`Tried to clear errors for non-existent field: ${e}`);return delete this.errorMap[e],this}hasError(e){return this.fieldExists(e)&&!!this.getErrors(e).length}fieldExists(e){return Object.keys(this.values).includes(e)}getErrors(e){if(!this.fieldExists(e))throw new Error(`Tried to get errors for non-existent field: ${e}`);return this.errorMap[e]||[]}reset(){this.errorMap={}}getState(){return this.errorMap}}},61111:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.GLOBAL_CONTEXT=void 0;var r,a=(r=n(94633))&&r.__esModule?r:{default:r};const i="before",s="after",o="__HEAD__",l="__TAIL__",d=[i,s],u=t.GLOBAL_CONTEXT="__GLOBAL__";t.default=class{constructor(){this._middlewares=[],this._contextCache={}}sort(){const e=[o,l],t=[e];let n=[];return this._middlewares.forEach((e=>{const{name:n}=e,r=(e=>{let t=null;return d.forEach((n=>{if(e[n].includes("*")){if(e[n].length>1)throw new Error(`\n          Key ${n} on ${e.name} should only specify one key \n          if using the "*" wildcard\n        `);if(t)throw new Error(`\n          Cannot specify a ${n} rule on ${e.name} if a wildcard \n          has been specified\n        `);t=n}})),t})(e);r===s?t.push([l,n]):r===i?t.push([n,o]):(t.push([n,l]),t.push([o,n]),e[i].forEach((e=>{t.push([n,e])})),e[s].forEach((e=>{t.push([e,n])})))})),(0,a.default)(t).filter((t=>!e.includes(t))).forEach((e=>{n=n.concat(this._middlewares.filter((t=>t.name===e)))})),this._middlewares=n,this}add(e,t,n){(e=>{d.forEach((t=>{if(void 0!==e[t]&&"string"!=typeof e[t]&&!Array.isArray(e[t]))throw new Error(`Middleware key ${t} must be a string or array`)}))})(e),this._contextCache={};let r=n;r&&r.length?Array.isArray(r)||(r=[r]):r=[u];const a={...e,factory:t,context:r};return d.forEach((t=>{Array.isArray(e[t])?a[t]=e[t]:a[t]=e[t]?[e[t]]:[]})),d.every((e=>!a[e].length))&&(a[s]=[o],a[i]=[l]),this._middlewares.push(a),this}getMatchesForContext(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:u;if(!this._contextCache[e]){const t=e.split(".");this._contextCache[e]=this._middlewares.filter((e=>e.context[0]===u||e.context.every(((e,n)=>"*"===e||t[n]===e))))}return this._contextCache[e]}}},32659:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=o(n(79298)),a=o(n(59572)),i=n(11962),s=o(n(54582));function o(e){return e&&e.__esModule?e:{default:e}}const l=[i.actionTypes.REGISTER_FIELD,i.actionTypes.DESTROY];t.default=e=>()=>(t,n)=>{const i=e(t,n),o=n.meta&&n.meta.form;if(!o||l.includes(n.type))return i;const d=s.default.form.getSchema(o);if(!d)return i;const u=(0,r.default)(i.formState,o);if(!u)return i;let c={...i};const f=Object.entries(i.formSchemas).filter((e=>{let[,t]=e;return t.name===o}));return f.length?(f.forEach((e=>{let[t,n]=e;const r=d(n,u);if(!r.state||!Array.isArray(r.state.fields))throw new Error(`\n      One more calls to alterSchema did not return a properly formed schema state\n      object. Check your calls to Injector.transform() which could affect '${t}'.\n    `);c=(0,a.default)(c,`formSchemas.${t}.state`,r.state)})),c):i}},28439:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(n(58963)),a=i(n(62819));function i(e){return e&&e.__esModule?e:{default:e}}t.default=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:(0,r.default)(),t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return{...e,templates:{...t},fragments:{...n},scaffold(e,t,n){let{force:r}=n;throw new Error("This API endpoint is not available yet")},register(t,n){const{templateName:r}=n;if(!r||!this.templates[r])throw new Error(`\nTried to register a new query '${t}' without a defined template '${r}'. Please ensure the\ntemplateName config is defined and that you have registered the template before registering a query.\n      `);for(var a=arguments.length,i=new Array(a>2?a-2:0),s=2;s<a;s++)i[s-2]=arguments[s];return e.register.call(this,t,n,...i)},registerTemplate(t){var n=this;let{force:r}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return e.isProtected.call(this),function(e){if(n.templates[t]&&!r)throw new Error(`\nTried to register template '${t}' more than once. This practice is discouraged. Consider\nusing Injector.update() to enhance the template rather than override it completely.\nOtherwise, invoke the registerTemplate() function with '{ force: true }' as the second argument.\n        `);for(var a=arguments.length,i=new Array(a>1?a-1:0),s=1;s<a;s++)i[s-1]=arguments[s];n.templates={...n.templates,[t]:{strings:e,expressions:i}}}},registerFragment(t,n){let{force:r}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(e.isProtected.call(this),this.fragments[t]&&!r)throw new Error(`\nTried to register fragment '${t}' more than once. This practice is discouraged. Consider\nadding a new fragment or using Injector.update() to enhance the template you're working with.\nOtherwise, invoke the registerFragment() function with '{ force: true }' as the third argument.\n      `);this.fragments={...this.fragments,[t]:n}},getTemplates(){return{...this.templates}},getFragments(){return{...this.fragments}},getProcessedManager(e,t){const n=t.map((e=>e.factory)).reverse(),r=this.services[e],i=new a.default(r,{...this.templates},{...this.fragments});return n.forEach((e=>{e(i)}),r),i},getFactory(e,t){return this.getProcessedManager(e,t).getContainer()}}}},2661:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=p(n(58963)),a=p(n(28439)),i=p(n(35058)),s=p(n(98710)),o=p(n(25898)),l=p(n(86920)),d=p(n(50596)),u=p(n(39192)),c=n(20057),f=n(35633);function p(e){return e&&e.__esModule?e:{default:e}}const h={[c.CREATE]:(0,i.default)(f.captureTag),[c.READ]:(0,s.default)(f.captureTag),[c.READ_ONE]:(0,o.default)(f.captureTag),[c.UPDATE]:(0,l.default)(f.captureTag),[c.DELETE]:(0,d.default)(f.captureTag),[c.QUERY]:(0,u.default)(f.captureTag)};t.default=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:(0,r.default)();return(0,a.default)(e,h)}},58963:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(14890),a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=i(t);if(n&&n.has(e))return n.get(e);var r={__proto__:null},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var s in e)if("default"!==s&&Object.prototype.hasOwnProperty.call(e,s)){var o=a?Object.getOwnPropertyDescriptor(e,s):null;o&&(o.get||o.set)?Object.defineProperty(r,s,o):r[s]=e[s]}return r.default=e,n&&n.set(e,r),r}(n(61111));function i(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(i=function(e){return e?n:t})(e)}t.default=()=>({middlewareRegistries:{},services:{},factories:{},factoryCache:{},initialised:!1,isProtected(){if(this.initialised)throw new Error("Cannot mutate DI container after it has been initialised")},get(e,t){if(!this.initialised)throw new Error("\n      Injector.get(): Attempted to access DI layer before it was initialised.\n      Did you forget to invoke Injector.load()?");const n=this.factories[e];if(!n)throw new Error(`Injector.get(): Component ${e} does not exist`);return n(t)},customise(e,t,n){this.isProtected();const[r,...i]=t.split(".");let s=this.middlewareRegistries[r];s||(s=new a.default,this.middlewareRegistries={...this.middlewareRegistries,[r]:s}),s.add(e,n,i)},load(){var e=this;this.isProtected(),this.factories=Object.keys(this.services).reduce(((t,n)=>{const r=this.middlewareRegistries[n];return r?(r.sort(),{...t,[n]:function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:a.GLOBAL_CONTEXT;const i=`${n}__${t}`;if(!e.factoryCache[i]){const a=r.getMatchesForContext(t);e.factoryCache[i]=e.getFactory(n,a)}return e.factoryCache[i]}}):{...t,[n]:()=>this.getFactory(n,[])}}),{}),this.initialised=!0},register(e,t){let{force:n}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(this.isProtected(),this.services[e]&&!0!==n)throw new Error(`\n      Tried to register service '${e}' more than once. This practice is discouraged. Consider\n      using Injector.update() to enhance the service rather than override it completely.\n      Otherwise, invoke the register() function with { force: true } as the third argument.\n     `);this.services={...this.services,[e]:t}},registerMany(e){let{force:t}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.isProtected();const n=Object.keys(e),r=Object.keys(this.services).filter((e=>n.includes(e)));if(r.length&&!0!==t){const e=r.join(", ");throw new Error(`\n      Tried to register services (${e}) more than once. This practice is discouraged. Consider\n      using Injector.update() to enhance the service rather than override it completely.\n      Otherwise, invoke the register() function with { force: true } as the third argument.\n     `)}this.services={...this.services,...e}},transform(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};this.isProtected(),t(this.createTransformer(e,n))},createTransformer(e,t){return(n,r)=>{this.customise({name:e,...t},n,r)}},getFactory(e,t){const n=this.services[e],a=t.map((e=>e.factory));return(0,r.compose)(...a)(n)}})},86046:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r,a=(r=n(58963))&&r.__esModule?r:{default:r};t.default=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:(0,a.default)();return{...e,get(t,n){for(var r=arguments.length,a=new Array(r>2?r-2:0),i=2;i<r;i++)a[i-2]=arguments[i];const s=e.get.call(this,t,n,...a);if(s.displayName&&s.displayName.match(/\]$/))return s;const o=s.displayName||s.name||"Component",l=n?`[${n}]`:"";return s.displayName=`${o}${l}`,s},createTransformer(e,t){return(n,r,a)=>{this.customise({name:e,...t,displayName:a},n,r)}},getFactory(t,n){const r=e.getFactory.call(this,t,n),a=n.map((e=>e.displayName||e.name));var i,s;return r.displayName=(i=this.services[t],s=a,[i.displayName||i.name||"Component",...s].reduce(((e,t)=>`${t}(${e})`))),r}}}},47289:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.VALIDATION_MIDDLEWARE_SERVICE=t.SCHEMA_MIDDLEWARE_SERVICE=void 0;var r=s(n(58963)),a=s(n(15746)),i=s(n(86745));function s(e){return e&&e.__esModule?e:{default:e}}const o=t.SCHEMA_MIDDLEWARE_SERVICE="FormSchemaMiddleware",l=t.VALIDATION_MIDDLEWARE_SERVICE="FormValidationMiddleware";t.default=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:(0,r.default)();return{...e,services:{[o]:e=>e,[l]:function(e){return arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}}},register(){throw new Error(`\n      Attempted to register a service on Injector.form. This container accepts only two\n      services by design (${o} and ${l}) \n      for updating form schema and adding validation, respectively. Consider using a more\n      generic container, e.g. Injector.reducer.\n    `)},registerMany(){this.register()},getSchema(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),a=1;a<n;a++)r[a-1]=arguments[a];return e.get.call(this,o,t,...r)},getValidation(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),a=1;a<n;a++)r[a-1]=arguments[a];return e.get.call(this,l,t,...r)},createTransformer(t,n){const r=r=>(a,i)=>e.customise.call(this,{name:t,...n},`${r}.${a}`,i);return{alterSchema:r(o),addValidation:r(l)}},getFactory(e,t){const n=t.map((e=>e.factory));if(e===o)return this.getSchemaReducer(n);if(e===l)return this.getValidationReducer(n);throw new Error(`Invalid service for form injector: ${e}`)},getSchemaReducer(e){return(t,n)=>e.reduce(((e,t)=>{const r=t(new a.default(e,n));return{...e,...r}}),t)},getValidationReducer(e){return(t,n)=>{const r=new i.default(t);return e.forEach((e=>e(t,r,n))),r.getState()}}}}},2337:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;t.default=()=>({services:{},initialised:!1,callbacks:[],onInit:null,register(e,t){let{force:n}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(this.initialised)throw new Error("Cannot mutate DI container after it has been initialised");if(this.services[e]&&!0!==n)throw new Error(`\n      Tried to register service ${e} more than once. This practice is discouraged. Consider\n      using Injector.update() to enhance the service rather than override it completely.\n      Otherwise, invoke the register() function with { force: true } as the third argument.\n     `);if(void 0!==this[e]&&!this.services[e])throw new Error(`\n      Tried to register service ${e} which is a reserved keyword. This would affect the behaviour\n      of this API class, so it is forbidden to register with Injector.\n      `);const r=["load","createTransformer","get","register"];if(!r.every((e=>"function"==typeof t[e])))throw new Error(`\n      Tried to register service ${e} that is not a valid object, Injector requires an object\n      which contains the following methods: ${r.join(", ")}\n      `);this.services[e]=t,this[e]=t},load(){if(this.initialised)throw new Error("Cannot mutate DI container after it has been initialised");Object.values(this.services).forEach((e=>e.load())),this.initialised=!0,this.onInit&&this.onInit(),this.callbacks.forEach((e=>{e()})),this.callbacks=[]},transform(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(this.initialised)throw new Error("Cannot mutate DI container after it has been initialised");t(Object.entries(this.services).reduce(((t,r)=>{let[a,i]=r;return{...t,[a]:i.createTransformer(e,n)}}),{}))},ready(e){if("function"!=typeof e)throw new Error("Callback provided is not a function");this.initialised?e():this.callbacks=[...this.callbacks,e]},init(e){if("function"!=typeof e)throw new Error("Callback provided is not a function");if(this.initialised)throw new Error("Tried to add an init() callback after Injector was initialised");this.onInit=e}})},77192:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(n(58963)),a=i(n(61111));function i(e){return e&&e.__esModule?e:{default:e}}t.default=function(){return{...arguments.length>0&&void 0!==arguments[0]?arguments[0]:(0,r.default)(),store:null,setStore(e){this.store=e},customise(e,t,n){this.isProtected();let r=this.middlewareRegistries[t];r||(r=new a.default,this.middlewareRegistries={...this.middlewareRegistries,[t]:r});r.add(e,(e=>{const t=this.store&&this.store.getState;return n(e)(t)}))},getAll(){return this.initialised?Object.entries(this.factories).reduce(((e,t)=>{let[n,r]=t;return{...e,[n]:r()}}),{}):Object.entries(this.services).reduce(((e,t)=>{let[n,r]=t;return{...e,[n]:r}}),{})}}}},39192:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(35633),a=n(59768);const i=e=>{let{operationName:t,queryName:n}=e;return t||`${n.charAt(0).toUpperCase()}${n.slice(1)}`},s=e=>{let{queryName:t}=e;return t},o=e=>{let{queryType:t}=e;return t};t.default=function(){return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:r.defaultTag)`${o} ${i}${a.getVariables} {
    ${s}(${a.getParams}) {
      ${a.getFields}
    }
  }
  ${a.getFragments}`}},35058:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(35633),a=n(59768);t.default=function(){return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:r.defaultTag)`mutation Create${a.getSingularName}(
    $input:${a.getCreateMutationType}!
  ) {
    create${a.getSingularName}(
      input: $input
    ) {
      ${a.getFields}
    }
  }
  ${a.getFragments}`}},50596:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(35633),a=n(59768);t.default=function(){return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:r.defaultTag)`mutation Delete${a.getSingularName}($IDs:[ID]!) {
    delete${a.getSingularName}(IDs: $IDs)
  }`}},25898:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(35633),a=n(59768);t.default=function(){return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:r.defaultTag)`query ReadOne${a.getSingularName}($ID: ID!)  {
    readOne${a.getSingularName}(ID: $ID) {
      ${a.getFields}
    }
  }
  ${a.getFragments}`}},98710:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(35633),a=n(59768);t.default=function(){return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:r.defaultTag)`query Read${a.getPluralName}${a.getVariables} {
    read${a.getPluralName}${a.getRootParams} {
      ${a.getFields}
    }
  }
  ${a.getFragments}`}},86920:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(35633),a=n(59768);t.default=function(){return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:r.defaultTag)`mutation Update${a.getSingularName}(
    $input:${a.getUpdateMutationType}!
    ${a.getVariables}
  ) {
    update${a.getSingularName}(
      input: $input
      ${a.getParams}
    ) {
      ${a.getFields}
    }
  }
  ${a.getFragments}`}},59768:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getVariables=t.getUpdateMutationType=t.getSingularName=t.getRootParams=t.getPluralName=t.getParams=t.getFragments=t.getFields=t.getCreateMutationType=t.ROOT_FIELD=void 0;const n=t.ROOT_FIELD="root",r={limit:"Int",offset:"Int"};t.getSingularName=e=>{let{singularName:t}=e;return t};t.getPluralName=e=>{let{pluralName:t}=e;return t};t.getVariables=e=>{let{params:t,pagination:n=!0}=e;const a=n?{...t,...r}:t,i=Object.entries(a).map((e=>{let[t,n]=e;return`$${t}: ${n}`}));return i.length?`(${i.join(", ")})`:""};const a=e=>{let{params:t,pagination:n=!0}=e;const a=n?{...t,...r}:t,i=Object.entries(a).map((e=>{let[t,n]=e;return`${t}: $${n}`}));return i.length?`(${i.join(", ")})`:""};t.getParams=a;t.getRootParams=e=>{let{args:t,pagination:r=!0}=e;const i=t[n]||{};return a({params:i,pagination:r})};const i=function(e){let{args:t,fields:r,pagination:s=!0}=e,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[n];const l=r.map(((e,n)=>{if(Array.isArray(e))return`\n      {\n        ${i({args:t,fields:e,pagination:!1},[...o,r[n-1]])}\n      }`;const s=[...o,e].join("/"),l=t[s]||{};return`${e}${a({params:l,pagination:!1})}`}));return s?(e=>`edges { node { ${e.join(" ")} } } pageInfo { totalCount }`)(l):l.join(" ")};t.getFields=i;t.getFragments=e=>{let{availableFragments:t,fragments:n=[]}=e;return Object.entries(t).reduce(((e,t)=>{let[r,a]=t;return n.includes(r)?`${e} ${a}`:e}),"")};t.getCreateMutationType=e=>{let{singularName:t}=e;return`Create${t}Input`};t.getUpdateMutationType=e=>{let{singularName:t}=e;return`Update${t}Input`}},35633:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.processTag=t.defaultTag=t.captureTag=void 0;t.captureTag=function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return{strings:e,expressions:n}};const n=function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return e.map(((e,t)=>`${e}${0===n[t]?n[t]:n[t]||""}`)).join("")};t.defaultTag=n;t.processTag=e=>function(t){for(var r=arguments.length,a=new Array(r>1?r-1:0),i=1;i<r;i++)a[i-1]=arguments[i];const s=a.map((t=>"function"!=typeof t?t:t(e)));return n(t,...s)}},20057:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.UPDATE=t.READ_ONE=t.READ=t.QUERY=t.DELETE=t.CREATE=void 0;t.CREATE="scaffoldCreate",t.READ="scaffoldRead",t.READ_ONE="scaffoldReadOne",t.UPDATE="scaffoldUpdate",t.DELETE="scaffoldDelete",t.QUERY="baseQuery"},34717:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=s(t);if(n&&n.has(e))return n.get(e);var r={__proto__:null},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var o=a?Object.getOwnPropertyDescriptor(e,i):null;o&&(o.get||o.set)?Object.defineProperty(r,i,o):r[i]=e[i]}return r.default=e,n&&n.set(e,r),r}(n(67294)),i=(r=n(16751))&&r.__esModule?r:{default:r};function s(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(s=function(e){return e?n:t})(e)}const o=(e,t)=>t;t.default=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:o;return r=>{if(e&&!Array.isArray(e))throw new Error(`\n      withInjector() passed an argument for dependencies that is ${typeof deps}.\n      Must be an array of named dependencies.\n    `);if(t&&"function"!=typeof t)throw new Error("\n      Second parameter of inject() [mapDependenciesToProps] must be a function, taking the resolved\n      dependencies as enumerated arguments, and returning a map of prop names to dependencies.\n    ");if("function"!=typeof n)throw new Error("\n      Third parameter of inject() [getContext] must be a function, taking the component's props\n      and current inject context as parameters, and returning a string representing the Injector\n      context to use throughout the component.\n    ");class s extends a.Component{constructor(e,t){super(e,t),this.state={context:n(e,t.injector.context)}}getChildContext(){return{injector:{...this.context.injector,context:this.state.context}}}static getDerivedStateFromProps(e,t){const r=n(e,t.context);return r!==t.context?{context:r}:null}render(){let n={};if(e){const{get:r}=this.context.injector,a=e.map((e=>r(e,this.state.context)));if(t?n=t(...a):e.forEach(((e,t)=>{n[e]=a[t]})),!n||"object"!=typeof n)throw new Error("\n            mapDepedenciesToProps parameter passed to inject()\n            should return an object that maps prop names to dependencies\n          ")}const i={...n,...this.props};return a.default.createElement(r,i)}}return s.contextTypes=i.default,s.childContextTypes=i.default,s}}},92475:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=o(t);if(n&&n.has(e))return n.get(e);var r={__proto__:null},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var s=a?Object.getOwnPropertyDescriptor(e,i):null;s&&(s.get||s.set)?Object.defineProperty(r,i,s):r[i]=e[i]}return r.default=e,n&&n.set(e,r),r}(n(67294)),a=s(n(32869)),i=s(n(40342));function s(e){return e&&e.__esModule?e:{default:e}}function o(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(o=function(e){return e?n:t})(e)}t.default=(e,t)=>n=>{class s extends r.Component{constructor(e){super(e),this.state={target:null,error:!1}}componentDidMount(){a.default.ready((()=>{let r=!0,a=null;try{const i=this.context.injector.query(e,t);a=i.getApolloHOC()(n),r=!1}catch(e){throw this.setState({target:a,error:r}),e}this.setState({target:a,error:r})}))}render(){if(this.state.error){const n=`Error loading '${[e,t].join(".")}', perhaps it wasn't registered properly?`;return r.default.createElement("div",null,n)}const n=this.state.target;return n?r.default.createElement(n,this.props):null}}return(0,i.default)(s)}},16751:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r,a=(r=n(45697))&&r.__esModule?r:{default:r};t.default={injector:a.default.shape({get:a.default.func,context:a.default.string,validate:a.default.func})}},92456:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=f(t);if(n&&n.has(e))return n.get(e);var r={__proto__:null},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var s=a?Object.getOwnPropertyDescriptor(e,i):null;s&&(s.get||s.set)?Object.defineProperty(r,i,s):r[i]=e[i]}return r.default=e,n&&n.set(e,r),r}(n(67294)),a=n(86706),i=n(83065),s=c(n(55742)),o=c(n(73318)),l=c(n(40342)),d=c(n(32869)),u=c(n(16751));function c(e){return e&&e.__esModule?e:{default:e}}function f(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(f=function(e){return e?n:t})(e)}function p(){return p=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},p.apply(this,arguments)}t.default=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2?arguments[2]:void 0;class c extends r.Component{constructor(e){super(e),this.state={target:null,error:!1}}getChildContext(){const e=t&&t.context;return e?{injector:{...this.context.injector,context:e}}:this.context}componentDidMount(){d.default.ready((()=>{if("string"!=typeof e)this.setState({target:e});else{let n=!0,r=null;try{r=this.context.injector.get(e,t&&t.context),n=!1}catch(e){throw this.setState({target:r,error:n}),e}this.setState({target:r,error:n})}}))}render(){const n=this.state.target;if(this.state.error){let t=s.default;try{t=this.context.injector.get("NotFoundComponent")}catch(e){}return r.default.createElement(t,p({},this.props,{itemName:e}))}if(n){if(t){const e={...window.ss,...t},{store:s,apolloClient:o}=e;return r.default.createElement(i.ApolloProvider,{client:o},r.default.createElement(a.Provider,{store:s},r.default.createElement(n,this.props)))}return r.default.createElement(n,this.props)}return null}}c.childContextTypes=u.default;return(n||o.default)((0,l.default)(c))}},17176:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=s(t);if(n&&n.has(e))return n.get(e);var r={__proto__:null},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var o=a?Object.getOwnPropertyDescriptor(e,i):null;o&&(o.get||o.set)?Object.defineProperty(r,i,o):r[i]=e[i]}return r.default=e,n&&n.set(e,r),r}(n(67294)),i=(r=n(16751))&&r.__esModule?r:{default:r};function s(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(s=function(e){return e?n:t})(e)}t.default=e=>t=>{class n extends a.Component{getChildContext(){return{injector:{...this.context.injector,context:e}}}render(){return a.default.createElement(t,this.props)}}return n.contextTypes=i.default,n.childContextTypes=i.default,n}},73318:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=o(t);if(n&&n.has(e))return n.get(e);var r={__proto__:null},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var s=a?Object.getOwnPropertyDescriptor(e,i):null;s&&(s.get||s.set)?Object.defineProperty(r,i,s):r[i]=e[i]}return r.default=e,n&&n.set(e,r),r}(n(67294)),a=s(n(32869)),i=s(n(16751));function s(e){return e&&e.__esModule?e:{default:e}}function o(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(o=function(e){return e?n:t})(e)}t.default=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:a.default;class n extends r.Component{getChildContext(){const{component:e,form:n,query:r}=t;return{injector:{query:r.get.bind(r),get:e.get.bind(e),validate:n.getValidation.bind(n)}}}render(){return r.default.createElement(e,this.props)}}return n.childContextTypes=i.default,n}},40342:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r,a=(r=n(16751))&&r.__esModule?r:{default:r};t.default=e=>(e.contextTypes={...e.contextTypes||{},...a.default},e.displayName=`withInjector(\n    ${e.displayName||e.name||"Component"}\n  )`,e)},24071:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){const t=Number(e);if(null!==e&&t>=0&&t<10)return[a.default._t("Admin.WRITTEN_NUMBER_ZERO","zero"),a.default._t("Admin.WRITTEN_NUMBER_ONE","one"),a.default._t("Admin.WRITTEN_NUMBER_TWO","two"),a.default._t("Admin.WRITTEN_NUMBER_THREE","three"),a.default._t("Admin.WRITTEN_NUMBER_FOUR","four"),a.default._t("Admin.WRITTEN_NUMBER_FIVE","five"),a.default._t("Admin.WRITTEN_NUMBER_SIX","six"),a.default._t("Admin.WRITTEN_NUMBER_SEVEN","seven"),a.default._t("Admin.WRITTEN_NUMBER_EIGHT","eight"),a.default._t("Admin.WRITTEN_NUMBER_NINE","nine")][t];if(t)return String(t);return null};var r,a=(r=n(4754))&&r.__esModule?r:{default:r}},87393:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return e.form&&e.form.formState||{}}},14937:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return r=>{if(!t.payload.fieldId)throw new Error("Invalid fieldId");const i=e.fields||{},s=i[t.payload.fieldId]?e.fields[t.payload.fieldId]:n;return(0,a.default)(Object.assign({},e,{fields:Object.assign({},i,{[t.payload.fieldId]:Object.assign({},s,r(s))})}))}};var r,a=(r=n(16012))&&r.__esModule?r:{default:r}},48834:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){if(!t)return{};return t.fields.reduce(((t,n)=>{const r=i(e.fields,n.name);return r?"Structural"===r.type||!0===r.readOnly?t:Object.assign({},t,{[n.name]:n.value}):t}),{})},t.findField=i,t.schemaMerge=function(e,t){if(void 0===t)return e;return a.default.recursive(!0,e,t)};var r,a=(r=n(21965))&&r.__esModule?r:{default:r};function i(e,t){return e?e.reduce(((e,n)=>e||i(n.children,t)),e.find((e=>e.name===t||e.name===`${t}[]`))):null}},80195:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.joinUrlPaths=void 0;t.joinUrlPaths=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];if(!t.length)return"";let r=t.shift();for(const e of t)r=`${r.replace(/\/$/,"")}/${e.replace(/^\//,"")}`;return r}},55857:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r,a=n(90937),i=(r=n(21914))&&r.__esModule?r:{default:r};t.default=(0,a.DragDropContext)(i.default)},52703:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return function(t){const n=(0,a.useLocation)(),i=(0,a.useNavigate)(),s=(0,a.useParams)();return r.default.createElement(e,o({},t,{router:{location:n,navigate:i,params:s}}))}},t.routerPropTypes=void 0;var r=s(n(67294)),a=n(79655),i=s(n(45697));function s(e){return e&&e.__esModule?e:{default:e}}function o(){return o=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o.apply(this,arguments)}t.routerPropTypes=i.default.shape({location:i.default.shape({pathname:i.default.string,query:i.default.object,search:i.default.string}),navigate:i.default.func,params:i.default.object})},51794:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;t.default={SET_BREADCRUMBS:"SET_BREADCRUMBS"}},90056:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.setBreadcrumbs=function(e){return{type:a.default.SET_BREADCRUMBS,payload:{breadcrumbs:e}}};var r,a=(r=n(51794))&&r.__esModule?r:{default:r}},20430:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(n(16012)),a=i(n(51794));function i(e){return e&&e.__esModule?e:{default:e}}const s=(0,r.default)([]);t.default=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:s,t=arguments.length>1?arguments[1]:void 0;return t.type===a.default.SET_BREADCRUMBS?(0,r.default)(Object.assign([],t.payload.breadcrumbs)):e}},70089:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;t.default={SET_CONFIG:"SET_CONFIG"}},32212:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.setConfig=function(e){return{type:a.default.SET_CONFIG,payload:{config:e}}};var r,a=(r=n(70089))&&r.__esModule?r:{default:r}},18373:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(n(16012)),a=i(n(70089));function i(e){return e&&e.__esModule?e:{default:e}}t.default=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;return t.type===a.default.SET_CONFIG?(0,r.default)(Object.assign({},e,t.payload.config)):e}},43631:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;t.default={TOGGLE_MENU:"TOGGLE_MENU",OPEN_MENU:"OPEN_MENU",CLOSE_MENU:"CLOSE_MENU"}},11521:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.closeMobileMenu=function(){return{type:a.default.CLOSE_MENU,payload:null}},t.openMobileMenu=function(){return{type:a.default.OPEN_MENU,payload:null}},t.toggleMobileMenu=function(){return{type:a.default.TOGGLE_MENU,payload:null}};var r,a=(r=n(43631))&&r.__esModule?r:{default:r}},80573:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(n(16012)),a=i(n(43631));function i(e){return e&&e.__esModule?e:{default:e}}const s={isOpen:!1};t.default=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:s;switch((arguments.length>1?arguments[1]:void 0).type){case a.default.TOGGLE_MENU:return(0,r.default)({...e,isOpen:!e.isOpen});case a.default.OPEN_MENU:return(0,r.default)({...e,isOpen:!0});case a.default.CLOSE_MENU:return(0,r.default)({...e,isOpen:!1});default:return e}}},5715:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;t.default={FETCH_RECORDS_REQUEST:"FETCH_RECORDS_REQUEST",FETCH_RECORDS_FAILURE:"FETCH_RECORDS_FAILURE",FETCH_RECORDS_SUCCESS:"FETCH_RECORDS_SUCCESS",FETCH_RECORD_REQUEST:"FETCH_RECORD_REQUEST",FETCH_RECORD_FAILURE:"FETCH_RECORD_FAILURE",FETCH_RECORD_SUCCESS:"FETCH_RECORD_SUCCESS",DELETE_RECORD_REQUEST:"DELETE_RECORD_REQUEST",DELETE_RECORD_FAILURE:"DELETE_RECORD_FAILURE",DELETE_RECORD_SUCCESS:"DELETE_RECORD_SUCCESS"}},30772:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.deleteRecord=function(e,t,n,i){let o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{};const l={recordType:e,id:t},d=n.toLowerCase(),u="get"===d?[s(i,l),o]:[s(i,l),{},o];return n=>(n({type:a.default.DELETE_RECORD_REQUEST,payload:l}),r.default[d](...u).then((()=>{n({type:a.default.DELETE_RECORD_SUCCESS,payload:{recordType:e,id:t}})})).catch((r=>{throw n({type:a.default.DELETE_RECORD_FAILURE,payload:{error:r,recordType:e,id:t}}),r})))},t.fetchRecord=function(e,t,n){const i={recordType:e},o={Accept:"application/json"},l=t.toLowerCase();return t=>{t({type:a.default.FETCH_RECORD_REQUEST,payload:i});const d="get"===l?[s(n,i),o]:[s(n,i),{},o];return r.default[l](...d).then((e=>e.json())).then((n=>{t({type:a.default.FETCH_RECORD_SUCCESS,payload:{recordType:e,data:n}})})).catch((n=>{throw t({type:a.default.FETCH_RECORD_FAILURE,payload:{error:n,recordType:e}}),n}))}},t.fetchRecords=function(e,t,n){const i={recordType:e},o={Accept:"application/json"},l=t.toLowerCase();return t=>{t({type:a.default.FETCH_RECORDS_REQUEST,payload:i});const d="get"===l?[s(n,i),o]:[s(n,i),{},o];return r.default[l](...d).then((e=>e.json())).then((n=>{t({type:a.default.FETCH_RECORDS_SUCCESS,payload:{recordType:e,data:n}})})).catch((n=>{throw t({type:a.default.FETCH_RECORDS_FAILURE,payload:{error:n,recordType:e}}),n}))}};var r=i(n(1591)),a=i(n(5715));function i(e){return e&&e.__esModule?e:{default:e}}function s(e,t){return Object.keys(t).reduce(((e,n)=>e.replace(`:${n}`,t[n])),e)}},81951:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(n(16012)),a=i(n(5715));function i(e){return e&&e.__esModule?e:{default:e}}const s={};t.default=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:s,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case a.default.FETCH_RECORDS_SUCCESS:{const n=t.payload.recordType;if(!n)throw new Error("Undefined record type");const a=t.payload.data._embedded[n]||[];return(0,r.default)({...e,[n]:a})}case a.default.FETCH_RECORD_SUCCESS:{const n=t.payload.recordType,a=t.payload.data;if(!n)throw new Error("Undefined record type");if(!a)throw new Error("Undefined record data given");const i=e[n]||[];return i.find((e=>e.ID===a.ID))?(0,r.default)({...e,[n]:i.map((e=>e.ID===a.ID?a:e))}):(0,r.default)({...e,[n]:[...i,a]})}case a.default.DELETE_RECORD_SUCCESS:{const n=t.payload.recordType;if(!n)throw new Error("Undefined record type");const a=e[n].filter((e=>e.ID!==t.payload.id));return(0,r.default)({...e,[n]:a})}default:return e}}},43733:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;t.default={SET_SCHEMA:"SET_SCHEMA",SET_SCHEMA_STATE_OVERRIDES:"SET_SCHEMA_STATE_OVERRIDES",SET_SCHEMA_LOADING:"SET_SCHEMA_LOADING"}},39042:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.setSchema=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2?arguments[2]:void 0;return{type:a.default.SET_SCHEMA,payload:{...t,id:e,name:n}}},t.setSchemaLoading=function(e,t){return{type:a.default.SET_SCHEMA_LOADING,payload:{id:e,loading:t}}},t.setSchemaStateOverrides=function(e,t){return{type:a.default.SET_SCHEMA_STATE_OVERRIDES,payload:{id:e,stateOverride:t}}};var r,a=(r=n(43733))&&r.__esModule?r:{default:r}},54191:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:s,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;switch(t.type){case a.default.SET_SCHEMA:{const n=e[t.payload.id]||{};return(0,r.default)({...e,[t.payload.id]:{...n,...t.payload}})}case a.default.SET_SCHEMA_STATE_OVERRIDES:{const n=e[t.payload.id]||{},a=t.payload.stateOverride;return a&&a.fields?(0,r.default)({...e,[t.payload.id]:{...n,stateOverride:a}}):e}case a.default.SET_SCHEMA_LOADING:{const n=e[t.payload.id]||{},a=n.metadata||{};return(0,r.default)({...e,[t.payload.id]:{...n,metadata:{...a,loading:t.payload.loading}}})}default:return e}};var r=i(n(16012)),a=i(n(43733));function i(e){return e&&e.__esModule?e:{default:e}}const s=(0,r.default)({})},5230:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;t.default={TABS_ACTIVATE_TAB:"TABS_ACTIVATE_TAB"}},53104:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.activateTab=function(e,t){return{type:a.default.TABS_ACTIVATE_TAB,payload:{fieldId:e,tab:t}}};var r,a=(r=n(5230))&&r.__esModule?r:{default:r}},54558:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:o,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;const n=(0,a.default)(e,t,l);if(t.type===i.default.TABS_ACTIVATE_TAB)return n((()=>({activeTab:t.payload.tab})));return e};var r=s(n(16012)),a=s(n(14937)),i=s(n(5230));function s(e){return e&&e.__esModule?e:{default:e}}const o=(0,r.default)({fields:{}}),l=(0,r.default)({activeTab:null})},72822:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.STAY_TIME=t.FADEOUT_TIME=void 0;t.STAY_TIME=6e3,t.FADEOUT_TIME=1200},52679:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;t.default={DISPLAY:"DISPLAY_TOAST",DISMISS:"DISMISS_TOAST",REMOVE:"REMOVE_TOAST",PAUSE:"PAUSE_TOAST",RESUME:"RESUME_TOAST"}},36158:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.dismiss=l,t.display=d,t.error=function(e){return d({text:e,type:"error",stay:!0})},t.info=function(e){return d({text:e})},t.pause=function(){return{type:i.default.PAUSE}},t.resume=function(){return{type:i.default.RESUME}},t.success=function(e){return d({text:e,type:"success"})},t.warning=function(e){return d({text:e,type:"warning",stay:!0})};var r,a=n(67429),i=(r=n(52679))&&r.__esModule?r:{default:r},s=n(72822);const o={text:"",stay:!1,type:"notice"};function l(e){return t=>{t({type:i.default.DISMISS,payload:{id:e}}),setTimeout((()=>t({type:i.default.REMOVE,payload:{id:e}})),s.FADEOUT_TIME)}}function d(e){const t=`toast-${(0,a.v4)()}`;return n=>{const r={id:t,dismissCallback:()=>l(t)(n),...o,...e};n({type:i.default.DISPLAY,payload:r})}}},84231:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r,a=(r=n(52679))&&r.__esModule?r:{default:r},i=n(72822);const s={paused:!1,toasts:[]},o=e=>{let{stay:t,dismissCallback:n}=e;return t?void 0:setTimeout(n,i.STAY_TIME)},l=(e,t)=>({...e,toasts:t});t.default=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:s,{type:t,payload:n}=arguments.length>1?arguments[1]:void 0;switch(t){case a.default.DISPLAY:return((e,t)=>l(e,[...e.toasts,{...t,timeout:e.paused?void 0:o(t),dismissed:!1}]))(e,n);case a.default.DISMISS:return((e,t)=>l(e,e.toasts.map((e=>e.id===t?{...e,dismissed:!0}:e))))(e,n.id);case a.default.REMOVE:return((e,t)=>l(e,e.toasts.filter((e=>e.id!==t))))(e,n.id);case a.default.PAUSE:return(e=>({paused:!0,toasts:e.toasts.map((e=>{let{timeout:t,...n}=e;return t&&clearTimeout(t),n}))}))(e);case a.default.RESUME:return(e=>({paused:!1,toasts:e.toasts.map((e=>({timeout:o(e),...e})))}))(e);default:return e}}},29701:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;t.default={TREEFIELD_SET_VISIBLE:"TREEDROPDOWNFIELD_SET_VISIBLE",TREEFIELD_UPDATED_TREE:"TREEDROPDOWNFIELD_UPDATED_TREE",TREEFIELD_UPDATING_TREE:"TREEDROPDOWNFIELD_UPDATING_TREE",TREEFIELD_UPDATE_FAILED:"TREEFIELD_UPDATE_FAILED",TREEFIELD_SET_SEARCH:"TREEFIELD_SET_SEARCH",TREEFIELD_ADD_SELECTED_VALUES:"TREEFIELD_ADD_SELECTED_VALUES"}},25548:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.addSelectedValues=function(e,t){return{type:a.default.TREEFIELD_ADD_SELECTED_VALUES,payload:{fieldId:e,values:t}}},t.beginTreeUpdating=function(e,t){return{type:a.default.TREEFIELD_UPDATING_TREE,payload:{fieldId:e,path:t}}},t.setSearch=function(e,t){return{type:a.default.TREEFIELD_SET_SEARCH,payload:{fieldId:e,search:t}}},t.setVisible=function(e,t){return{type:a.default.TREEFIELD_SET_VISIBLE,payload:{fieldId:e,path:t}}},t.updateTree=function(e,t,n){return{type:a.default.TREEFIELD_UPDATED_TREE,payload:{fieldId:e,path:t,tree:n}}},t.updateTreeFailed=function(e,t){return{type:a.default.TREEFIELD_UPDATE_FAILED,payload:{fieldId:e,path:t}}};var r,a=(r=n(29701))&&r.__esModule?r:{default:r}},5452:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:o,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;const n=(0,a.default)(e,t,l),r=(e,t)=>e.filter((e=>e!==t)),s=(e,t)=>{if(e.find((e=>e===t)))return e;return[...e,t].sort()};switch(t.type){case i.default.TREEFIELD_SET_VISIBLE:return n((()=>({visible:t.payload.path})));case i.default.TREEFIELD_UPDATING_TREE:return n((e=>({loading:s(e.loading,u(t.payload.path)),failed:r(e.failed,u(t.payload.path))})));case i.default.TREEFIELD_UPDATED_TREE:return n((e=>({tree:d(e.tree,t.payload.path,t.payload.tree),loading:r(e.loading,u(t.payload.path)),failed:r(e.failed,u(t.payload.path))})));case i.default.TREEFIELD_UPDATE_FAILED:return n((e=>({loading:r(e.loading,u(t.payload.path)),failed:s(e.failed,u(t.payload.path))})));case i.default.TREEFIELD_SET_SEARCH:return n((e=>({...e,search:t.payload.search})));case i.default.TREEFIELD_ADD_SELECTED_VALUES:{const e=t.payload.values||[];return n((t=>({...t,selectedValues:[...t.selectedValues.filter((t=>!e.find((e=>e.id===t.id)))),...e].sort(((e,t)=>e.id-t.id))})))}default:return e}};var r=s(n(16012)),a=s(n(14937)),i=s(n(29701));function s(e){return e&&e.__esModule?e:{default:e}}const o=(0,r.default)({fields:{}}),l=(0,r.default)({visible:[],tree:{},loading:[],failed:[],search:"",selectedValues:[]});function d(e,t,n){if(0===t.length)return n;const[a,...i]=t;return e.children?(0,r.default)({...e,children:e.children.map((e=>e.id===a?d(e,i,n):e))}):e}function u(e){return e.length?e[e.length-1]:0}},97234:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;t.default={ADD_FORM_CHANGED:"ADD_FORM_CHANGED",REMOVE_FORM_CHANGED:"REMOVE_FORM_CHANGED"}},85972:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.addFormChanged=function(e){return{type:a.default.ADD_FORM_CHANGED,meta:{form:e}}},t.removeFormChanged=function(e){return{type:a.default.REMOVE_FORM_CHANGED,meta:{form:e}}};var r,a=(r=n(97234))&&r.__esModule?r:{default:r}},13346:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=s(n(16012)),a=n(11962),i=s(n(97234));function s(e){return e&&e.__esModule?e:{default:e}}t.default=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;const n=t.meta&&t.meta.form;switch(t.type){case i.default.ADD_FORM_CHANGED:case a.actionTypes.CHANGE:return(0,r.default)([...e.filter((e=>e.name!==n)),{name:n}]);case i.default.REMOVE_FORM_CHANGED:case a.actionTypes.STOP_SUBMIT:return(0,r.default)([...e.filter((e=>e.name!==n))]);case a.actionTypes.DESTROY:return(0,r.default)([...e.filter((e=>!n.includes(e.name)))]);default:return e}}},36992:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.loadUsedOn=function(e,t,n){const s={method:t,headers:{Accept:"application/json"},credentials:"same-origin"};return d=>{if(!e||!t||!n){const t=r.default._t("Admin.NOT_AVAILABLE_USED_DATA","The usage data is currently unavailable.");return Promise.resolve(d(l(e,t)))}return d({type:i.default.LOAD_USED_ON,payload:{identifier:e}}),(0,a.default)(n,s).then((e=>e.json())).then((t=>{d(o(e,t))})).catch((t=>{d(l(e,t))}))}},t.loadUsedOnFailed=l,t.saveUsedOn=o;var r=s(n(4754)),a=s(n(94301)),i=s(n(73893));function s(e){return e&&e.__esModule?e:{default:e}}function o(e,t){return{type:i.default.SAVE_USED_ON,payload:{identifier:e,usedOn:t}}}function l(e,t){return{type:i.default.LOAD_USED_ON_FAILED,payload:{identifier:e,error:t.message}}}},11146:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r,a=(r=n(73893))&&r.__esModule?r:{default:r};const i={loading:[],usedOn:{},errors:{}};t.default=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:i,t=arguments.length>1?arguments[1]:void 0;const n=t&&t.payload&&t.payload.identifier;if(!n)return e;switch(t.type){case a.default.SAVE_USED_ON:{const r=t.payload.usedOn;return{...e,loading:e.loading.filter((e=>e!==n)),usedOn:{...e.usedOn,[n]:r.usage}}}case a.default.LOAD_USED_ON:return e.loading.includes(n)?e:{...e,loading:[...e.loading,n],errors:Object.entries(e.errors).reduce(((e,t)=>{let[r,a]=t;return r===n?e:{...e,[r]:a}}),{})};case a.default.LOAD_USED_ON_FAILED:{const r=t.payload.error;return{...e,loading:e.loading.filter((e=>e!==n)),errors:{...e.errors,[n]:r}}}default:return e}}},73893:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;t.default={LOAD_USED_ON:"LOAD_USED_ON",SAVE_USED_ON:"SAVE_USED_ON",LOAD_USED_ON_FAILED:"LOAD_USED_ON_FAILED"}},44953:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;t.default={SELECT_EDIT:"SELECT_EDIT",SELECT_PREVIEW:"SELECT_PREVIEW",SELECT_SPLIT:"SELECT_SPLIT",SPLIT_AVAILABLE:"SPLIT_AVAILABLE"}},56486:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.enableOrDisableSplitMode=function(e){return{type:a.default.SPLIT_AVAILABLE,payload:{panelWidth:e}}},t.selectEditMode=function(){return{type:a.default.SELECT_EDIT}},t.selectPreviewMode=function(){return{type:a.default.SELECT_PREVIEW}},t.selectSplitMode=function(){return{type:a.default.SELECT_SPLIT}};var r,a=(r=n(44953))&&r.__esModule?r:{default:r}},22793:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r,a=(r=n(44953))&&r.__esModule?r:{default:r},i=n(99673),s=n(15005);const o={activeState:s.VIEW_MODE_STATES.SPLIT,splitAvailable:!0,lockState:!1};t.default=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:o,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case a.default.SELECT_EDIT:return{...e,activeState:s.VIEW_MODE_STATES.EDIT,lockState:!0};case a.default.SELECT_PREVIEW:return{...e,activeState:s.VIEW_MODE_STATES.PREVIEW,lockState:!0};case a.default.SELECT_SPLIT:return{...e,activeState:s.VIEW_MODE_STATES.SPLIT,lockState:!1};case a.default.SPLIT_AVAILABLE:{const n=t.payload.panelWidth>i.SPLITMODE_BREAKPOINT;let r=e.activeState;return e.lockState||r!==s.VIEW_MODE_STATES.SPLIT||n?!e.lockState&&r===s.VIEW_MODE_STATES.EDIT&&n&&(r=s.VIEW_MODE_STATES.SPLIT):r=s.VIEW_MODE_STATES.EDIT,{...e,splitAvailable:n,activeState:r}}default:return e}}},15005:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.VIEW_MODE_STATES=void 0;t.VIEW_MODE_STATES={EDIT:"edit",PREVIEW:"preview",SPLIT:"split"}},4193:function(e,t,n){var r=n(34625),a=n(27672);void 0===a.Accordion&&(a.Accordion=r),e.exports=r},40127:function(e,t,n){var r=n(56448),a=n(27672);void 0===a.AccordionBlock&&(a.AccordionBlock=r),e.exports=r},40256:function(e,t,n){var r=n(45332),a=n(27672);void 0===a.BackButton&&(a.BackButton=r),e.exports=r},12523:function(e,t,n){var r=n(1591),a=n(27672);void 0===a.Backend&&(a.Backend=r),e.exports=r},37904:function(e,t,n){var r=n(37294),a=n(27672);void 0===a.Badge&&(a.Badge=r),e.exports=r},33281:function(e,t,n){var r=n(71691),a=n(27672);void 0===a.Breadcrumb&&(a.Breadcrumb=r),e.exports=r},47157:function(e,t,n){var r=n(90056),a=n(27672);void 0===a.BreadcrumbsActions&&(a.BreadcrumbsActions=r),e.exports=r},44368:function(e,t,n){var r=n(22602),a=n(27672);void 0===a.Button&&(a.Button=r),e.exports=r},8145:function(e,t,n){var r=n(41370),a=n(27672);void 0===a.CheckboxSetField&&(a.CheckboxSetField=r),e.exports=r},14536:function(e,t,n){var r=n(18871),a=n(27672);void 0===a.CircularLoading&&(a.CircularLoading=r),e.exports=r},53438:function(e,t,n){var r=n(97228),a=n(27672);void 0===a.CompactTagList&&(a.CompactTagList=r),e.exports=r},60128:function(e,t,n){var r=n(94974),a=n(27672);void 0===a.Config&&(a.Config=r),e.exports=r},87872:function(e,t,n){var r=n(95837),a=n(27672);void 0===a.DataFormat&&(a.DataFormat=r),e.exports=r},91673:function(e,t,n){var r=n(25114),a=n(27672);void 0===a.EmotionCssCacheProvider&&(a.EmotionCssCacheProvider=r),e.exports=r},99324:function(e,t,n){var r=n(98028),a=n(27672);void 0===a.FieldHolder&&(a.FieldHolder=r),e.exports=r},16741:function(e,t,n){var r=n(63596),a=n(27672);void 0===a.FileSchemaModalHandler&&(a.FileSchemaModalHandler=r),e.exports=r},64482:function(e,t,n){var r=n(67388),a=n(27672);void 0===a.FileStatusIcon&&(a.FileStatusIcon=r),e.exports=r},70184:function(e,t,n){var r=n(90161),a=n(27672);void 0===a.Focusedzone&&(a.Focusedzone=r),e.exports=r},66273:function(e,t,n){var r=n(65963),a=n(27672);void 0===a.Form&&(a.Form=r),e.exports=r},86673:function(e,t,n){var r=n(59644),a=n(27672);void 0===a.FormAction&&(a.FormAction=r),e.exports=r},58794:function(e,t,n){var r=n(23296),a=n(27672);void 0===a.FormAlert&&(a.FormAlert=r),e.exports=r},4567:function(e,t,n){var r=n(56334),a=n(27672);void 0===a.FormBuilder&&(a.FormBuilder=r),e.exports=r},77511:function(e,t,n){var r=n(16304),a=n(27672);void 0===a.FormBuilderLoader&&(a.FormBuilderLoader=r),e.exports=r},64300:function(e,t,n){var r=n(48297),a=n(27672);void 0===a.FormBuilderModal&&(a.FormBuilderModal=r),e.exports=r},62746:function(e,t,n){var r=n(430),a=n(27672);void 0===a.FormConstants&&(a.FormConstants=r),e.exports=r},16089:function(e,t,n){var r=n(88940),a=n(27672);void 0===a.GridField&&(a.GridField=r),e.exports=r},14755:function(e,t,n){var r=n(18052),a=n(27672);void 0===a.GridFieldCell&&(a.GridFieldCell=r),e.exports=r},50194:function(e,t,n){var r=n(73542),a=n(27672);void 0===a.GridFieldHeader&&(a.GridFieldHeader=r),e.exports=r},37386:function(e,t,n){var r=n(84002),a=n(27672);void 0===a.GridFieldHeaderCell&&(a.GridFieldHeaderCell=r),e.exports=r},87577:function(e,t,n){var r=n(58227),a=n(27672);void 0===a.GridFieldRow&&(a.GridFieldRow=r),e.exports=r},43109:function(e,t,n){var r=n(59746),a=n(27672);void 0===a.GridFieldTable&&(a.GridFieldTable=r),e.exports=r},29094:function(e,t,n){var r=n(19423),a=n(27672);void 0===a.HiddenField&&(a.HiddenField=r),e.exports=r},91044:function(e,t,n){var r=n(54582),a=n(27672);void 0===a.Injector&&(a.Injector=r),e.exports=r},31968:function(e,t,n){var r=n(52583),a=n(27672);void 0===a.InsertLinkModal&&(a.InsertLinkModal=r),e.exports=r},60462:function(e,t,n){var r=n(79953),a=n(27672);void 0===a.ListGroup&&(a.ListGroup=r),e.exports=r},49841:function(e,t,n){var r=n(12906),a=n(27672);void 0===a.ListGroupItem&&(a.ListGroupItem=r),e.exports=r},1488:function(e,t,n){var r=n(7162),a=n(27672);void 0===a.LiteralField&&(a.LiteralField=r),e.exports=r},99511:function(e,t,n){var r=n(34411),a=n(27672);void 0===a.Loading&&(a.Loading=r),e.exports=r},45970:function(e,t,n){var r=n(97399),a=n(27672);void 0===a.Modal&&(a.Modal=r),e.exports=r},10452:function(e,t,n){var r=n(20693),a=n(27672);void 0===a.PopoverField&&(a.PopoverField=r),e.exports=r},87746:function(e,t,n){var r=n(3080),a=n(27672);void 0===a.Preview&&(a.Preview=r),e.exports=r},60140:function(e,t,n){var r=n(80507),a=n(27672);void 0===a.ReactRouteRegister&&(a.ReactRouteRegister=r),e.exports=r},53877:function(e,t,n){var r=n(5715),a=n(27672);void 0===a.RecordsActionTypes&&(a.RecordsActionTypes=r),e.exports=r},63063:function(e,t,n){var r=n(30772),a=n(27672);void 0===a.RecordsActions&&(a.RecordsActions=r),e.exports=r},79035:function(e,t,n){var r=n(72543),a=n(27672);void 0===a.ResizeAware&&(a.ResizeAware=r),e.exports=r},57006:function(e,t,n){var r=n(15586),a=n(27672);void 0===a.Router&&(a.Router=r),e.exports=r},92173:function(e,t,n){var r=n(39042),a=n(27672);void 0===a.SchemaActions&&(a.SchemaActions=r),e.exports=r},94813:function(e,t,n){var r=n(62266),a=n(27672);void 0===a.Search&&(a.Search=r),e.exports=r},72472:function(e,t,n){var r=n(65693),a=n(27672);void 0===a.SearchToggle&&(a.SearchToggle=r),e.exports=r},51865:function(e,t,n){var r=n(84331),a=n(27672);void 0===a.SearchableDropdownField&&(a.SearchableDropdownField=r),e.exports=r},27729:function(e,t,n){var r=n(56503),a=n(27672);void 0===a.ShortcodeSerialiser&&(a.ShortcodeSerialiser=r),e.exports=r},77300:function(e,t,n){var r=n(90111),a=n(27672);void 0===a.SilverStripeComponent&&(a.SilverStripeComponent=r),e.exports=r},31643:function(e,t,n){var r=n(73276),a=n(27672);void 0===a.SudoMode&&(a.SudoMode=r),e.exports=r},8592:function(e,t,n){var r=n(53104),a=n(27672);void 0===a.TabsActions&&(a.TabsActions=r),e.exports=r},46508:function(e,t,n){var r=n(85362),a=n(27672);void 0===a.Tag&&(a.Tag=r),e.exports=r},28170:function(e,t,n){var r=n(97023),a=n(27672);void 0===a.TagList&&(a.TagList=r),e.exports=r},96582:function(e,t,n){var r=n(74898),a=n(27672);void 0===a.TextField&&(a.TextField=r),e.exports=r},19602:function(e,t,n){var r=n(4430),a=n(27672);void 0===a.TinyMCEActionRegistrar&&(a.TinyMCEActionRegistrar=r),e.exports=r},83361:function(e,t,n){var r=n(20164),a=n(27672);void 0===a.Tip&&(a.Tip=r),e.exports=r},65986:function(e,t,n){var r=n(36158),a=n(27672);void 0===a.ToastsActions&&(a.ToastsActions=r),e.exports=r},69860:function(e,t,n){var r=n(53330),a=n(27672);void 0===a.Toolbar&&(a.Toolbar=r),e.exports=r},40829:function(e,t,n){var r=n(59888),a=n(27672);void 0===a.TreeDropdownField&&(a.TreeDropdownField=r),e.exports=r},55488:function(e,t,n){var r=n(98268),a=n(27672);void 0===a.TreeDropdownFieldNode&&(a.TreeDropdownFieldNode=r),e.exports=r},71080:function(e,t,n){var r=n(85972),a=n(27672);void 0===a.UnsavedFormsActions&&(a.UnsavedFormsActions=r),e.exports=r},97976:function(e,t,n){var r=n(57129),a=n(27672);void 0===a.VersionedBadge&&(a.VersionedBadge=r),e.exports=r},87603:function(e,t,n){var r=n(56486),a=n(27672);void 0===a.ViewModeActions&&(a.ViewModeActions=r),e.exports=r},86317:function(e,t,n){var r=n(15005),a=n(27672);void 0===a.ViewModeStates&&(a.ViewModeStates=r),e.exports=r},59628:function(e,t,n){var r=n(98031),a=n(27672);void 0===a.ViewModeToggle&&(a.ViewModeToggle=r),e.exports=r},54218:function(e,t,n){var r=n(24071),a=n(27672);void 0===a.formatWrittenNumber&&(a.formatWrittenNumber=r),e.exports=r},39432:function(e,t,n){var r=n(87393),a=n(27672);void 0===a.getFormState&&(a.getFormState=r),e.exports=r},94033:function(e,t,n){var r=n(14937),a=n(27672);void 0===a.reduxFieldReducer&&(a.reduxFieldReducer=r),e.exports=r},46844:function(e,t,n){var r=n(48834),a=n(27672);void 0===a.schemaFieldValues&&(a.schemaFieldValues=r),e.exports=r},43893:function(e,t,n){var r=n(80195),a=n(27672);void 0===a.ssUrlLib&&(a.ssUrlLib=r),e.exports=r},98441:function(e,t,n){var r=n(55857),a=n(27672);void 0===a.withDragDropContext&&(a.withDragDropContext=r),e.exports=r},96007:function(e,t,n){var r=n(52703),a=n(27672);void 0===a.withRouter&&(a.withRouter=r),e.exports=r},4754:function(e){"use strict";e.exports=i18n}},function(e){var t;t=61534,e(e.s=t)}]);