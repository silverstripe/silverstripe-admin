webpackJsonp([0],{12:function(e,t){e.exports=SilverStripeComponent},121:function(e,t){e.exports=DeepFreezeStrict},123:function(e,t){e.exports=ReactApollo},124:function(e,t,n){"use strict";function r(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(t&&void 0!==t.react)return s.default.createElement(e,n,t.react);if(t&&void 0!==t.html){if(null!==t.html){var r={__html:t.html};return s.default.createElement(e,i({},n,{dangerouslySetInnerHTML:r}))}return null}var a=null;if((a=t&&void 0!==t.text?t.text:t)&&"object"===(void 0===a?"undefined":o(a)))throw new Error("Unsupported string value "+JSON.stringify(a));return null!==a&&void 0!==a?s.default.createElement(e,n,a):null}Object.defineProperty(t,"__esModule",{value:!0});var o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};t.default=r;var a=n(0),s=function(e){return e&&e.__esModule?e:{default:e}}(a)},15:function(e,t,n){"use strict";var r=void 0!==window.jQuery?window.jQuery:null;e.exports=r},150:function(e,t){e.exports=merge},175:function(e,t){e.exports=IsomorphicFetch},176:function(e,t){e.exports=modernizr},177:function(e,t){e.exports=moment},179:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(0),o=function(){return null};o.propTypes={id:r.PropTypes.oneOfType([r.PropTypes.string,r.PropTypes.number]),title:r.PropTypes.string,disabled:r.PropTypes.bool,count:r.PropTypes.number,depth:r.PropTypes.number,expanded:r.PropTypes.bool,limited:r.PropTypes.bool,marked:r.PropTypes.bool,opened:r.PropTypes.bool,children:r.PropTypes.array},t.default=o},1854:function(e,t){e.exports=ApolloClient},1855:function(e,t){e.exports=Backend},1856:function(e,t){e.exports=BootstrapCollapse},1857:function(e,t){e.exports=FormAction},1858:function(e,t){e.exports=FormBuilder},1859:function(e,t){e.exports=FormBuilderLoader},1860:function(e,t){e.exports=GridField},1861:function(e,t){e.exports=LiteralField},1862:function(e,t){e.exports=Page},1863:function(e,t){e.exports=ReactRouteRegister},1864:function(e,t){e.exports=RecordsActions},1865:function(e,t){e.exports=ReducerRegister},1866:function(e,t){e.exports=ReduxThunk},1867:function(e,t){e.exports=Router},1868:function(e,t){e.exports=reduxFieldReducer},1869:function(e,t){e.exports=validator},1870:function(e,t){},23:function(e,t){e.exports=i18n},243:function(e,t){e.exports=SchemaActions},244:function(e,t){e.exports=qs},245:function(module,exports,__webpack_require__){"use strict";(function(jQuery){function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}var _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_jQuery=__webpack_require__(15),_jQuery2=_interopRequireDefault(_jQuery);__webpack_require__(390);var windowWidth,windowHeight;_jQuery2.default.noConflict(),window.ss=window.ss||{},window.ss.debounce=function(e,t,n){var r,o,i,a=function(){r=null,n||e.apply(o,i)};return function(){var s=n&&!r;o=this,i=arguments,clearTimeout(r),r=setTimeout(a,t),s&&e.apply(o,i)}},(0,_jQuery2.default)(window).bind("resize.leftandmain",function(e){(0,_jQuery2.default)(".cms-container").trigger("windowresize")}),_jQuery2.default.entwine.warningLevel=_jQuery2.default.entwine.WARN_LEVEL_BESTPRACTISE,_jQuery2.default.entwine("ss",function($){$(window).on("message",function(e){var t,n=e.originalEvent,r="object"===_typeof(n.data)?n.data:JSON.parse(n.data);if($.path.parseUrl(window.location.href).domain===$.path.parseUrl(n.origin).domain)switch(t=$(void 0===r.target?window:r.target),r.type){case"event":t.trigger(r.event,r.data);break;case"callback":t[r.callback].call(t,r.data)}});var positionLoadingSpinner=function(){var e=$(".ss-loading-screen .loading-animation"),t=($(window).height()-e.height())/2;e.css("top",t+120),e.show()},applyChosen=function e(t){t.is(":visible")?t.addClass("has-chosen").chosen({allow_single_deselect:!0,disable_search_threshold:20,display_disabled_options:!0,width:"100%"}):setTimeout(function(){t.show(),e(t)},500)},isSameUrl=function(e,t){var n=$("base").attr("href");e=$.path.isAbsoluteUrl(e)?e:$.path.makeUrlAbsolute(e,n),t=$.path.isAbsoluteUrl(t)?t:$.path.makeUrlAbsolute(t,n);var r=$.path.parseUrl(e),o=$.path.parseUrl(t);return r.pathname.replace(/\/*$/,"")==o.pathname.replace(/\/*$/,"")&&r.search==o.search},ajaxCompleteEvent=window.ss.debounce(function(){$(window).trigger("ajaxComplete")},1e3,!0);$(window).bind("resize",positionLoadingSpinner).trigger("resize"),$(document).ajaxComplete(function(e,t,n){var r=document.URL,o=t.getResponseHeader("X-ControllerURL"),i=n.url,a=null!==t.getResponseHeader("X-Status")?t.getResponseHeader("X-Status"):t.statusText,s=t.status<200||t.status>399?"bad":"good",l=["OK","success","HTTP/2.0 200"];if(null===o||isSameUrl(r,o)&&isSameUrl(i,o)||window.ss.router.show(o,{id:(new Date).getTime()+String(Math.random()).replace(/\D/g,""),pjax:t.getResponseHeader("X-Pjax")?t.getResponseHeader("X-Pjax"):n.headers["X-Pjax"]}),t.getResponseHeader("X-Reauthenticate"))return void $(".cms-container").showLoginDialog();0!==t.status&&a&&-1===$.inArray(a,l)&&statusMessage(decodeURIComponent(a),s),ajaxCompleteEvent(this)}),$(".cms-container").entwine({StateChangeXHR:null,FragmentXHR:{},StateChangeCount:0,LayoutOptions:{minContentWidth:940,minPreviewWidth:400,mode:"content"},onadd:function(){if($.browser.msie&&parseInt($.browser.version,10)<8)return $(".ss-loading-screen").append('<p class="ss-loading-incompat-warning"><span class="notice">Your browser is not compatible with the CMS interface. Please use Internet Explorer 8+, Google Chrome or Mozilla Firefox.</span></p>').css("z-index",$(".ss-loading-screen").css("z-index")+1),$(".loading-animation").remove(),void this._super();this.redraw(),$(".ss-loading-screen").hide(),$("body").removeClass("loading"),$(window).unbind("resize",positionLoadingSpinner),this.restoreTabState(),this._super()},onwindowresize:function(){this.redraw()},"from .cms-panel":{ontoggle:function(){this.redraw()}},"from .cms-container":{onaftersubmitform:function(){this.redraw()}},updateLayoutOptions:function(e){var t=this.getLayoutOptions(),n=!1;for(var r in e)t[r]!==e[r]&&(t[r]=e[r],n=!0);n&&this.redraw()},clearViewMode:function(){this.removeClass("cms-container--split-mode"),this.removeClass("cms-container--preview-mode"),this.removeClass("cms-container--content-mode")},splitViewMode:function(){this.updateLayoutOptions({mode:"split"})},contentViewMode:function(){this.updateLayoutOptions({mode:"content"})},previewMode:function(){this.updateLayoutOptions({mode:"preview"})},RedrawSuppression:!1,redraw:function(){this.getRedrawSuppression()||(window.debug&&console.log("redraw",this.attr("class"),this.get(0)),this.setProperMode()||(this.find(".cms-panel-layout").redraw(),this.find(".cms-content-fields[data-layout-type]").redraw(),this.find(".cms-edit-form[data-layout-type]").redraw(),this.find(".cms-preview").redraw(),this.find(".cms-content").redraw()))},setProperMode:function(){var e=this.getLayoutOptions(),t=e.mode;this.clearViewMode();var n=this.find(".cms-content"),r=this.find(".cms-preview");if(n.css({"min-width":0}),r.css({"min-width":0}),n.width()+r.width()>=e.minContentWidth+e.minPreviewWidth)n.css({"min-width":e.minContentWidth}),r.css({"min-width":e.minPreviewWidth}),r.trigger("enable");else if(r.trigger("disable"),"split"==t)return r.trigger("forcecontent"),!0;return this.addClass("cms-container--"+t+"-mode"),!1},checkCanNavigate:function(e){var t=this._findFragments(e||["Content"]),n=t.find(":data(changetracker)").add(t.filter(":data(changetracker)")),r=!0;return!n.length||(n.each(function(){$(this).confirmUnsavedChanges()||(r=!1)}),r)},loadPanel:function(e){var t=(arguments.length>1&&void 0!==arguments[1]&&arguments[1],arguments.length>2&&void 0!==arguments[2]?arguments[2]:{}),n=arguments[3],r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:document.URL;this.checkCanNavigate(t.pjax?t.pjax.split(","):["Content"])&&(this.saveTabState(),t.__forceReferer=r,n&&(t.__forceReload=1+Math.random()),window.ss.router.show(e,t))},reloadCurrentPanel:function(){this.loadPanel(document.URL,null,null,!0)},submitForm:function(e,t,n,r){var o=this;t||(t=this.find(".btn-toolbar :submit[name=action_save]")),t||(t=this.find(".btn-toolbar :submit:first")),e.trigger("beforesubmitform"),this.trigger("submitform",{form:e,button:t}),$(t).addClass("btn--loading loading"),$(t).is("button")&&($(t).data("original-text",$(t).text()),$(t).append($('<div class="btn__loading-icon"><span class="btn__circle btn__circle--1" /><span class="btn__circle btn__circle--2" /><span class="btn__circle btn__circle--3" /></div>')),$(t).css($(t).outerWidth()+"px"));var i=e.validate(),a=function(){$(t).removeClass("btn--loading loading"),$(t).find(".btn__loading-icon").remove(),$(t).css("width","auto"),$(t).text($(t).data("original-text"))};void 0===i||i||(statusMessage("Validation failed.","bad"),a());var s=e.serializeArray();return s.push({name:$(t).attr("name"),value:"1"}),s.push({name:"BackURL",value:document.URL.replace(/\/$/,"")}),this.saveTabState(),jQuery.ajax(jQuery.extend({headers:{"X-Pjax":"CurrentForm,Breadcrumbs"},url:e.attr("action"),data:s,type:"POST",complete:function(){a()},success:function(t,r,i){a(),e.removeClass("changed"),n&&n(t,r,i);var l=o.handleAjaxResponse(t,r,i);l&&l.filter("form").trigger("aftersubmitform",{status:r,xhr:i,formData:s})}},r)),!1},LastState:null,PauseState:!1,handleStateChange:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:window.history.state;if(!this.getPauseState()){this.getStateChangeXHR()&&this.getStateChangeXHR().abort();var n=this,r=t.pjax||"Content",o={},i=r.split(","),a=this._findFragments(i);if(this.setStateChangeCount(this.getStateChangeCount()+1),!this.checkCanNavigate()){var s=this.getLastState();return this.setPauseState(!0),s&&s.path?window.ss.router.show(s.path):window.ss.router.back(),void this.setPauseState(!1)}if(this.setLastState(t),a.length<i.length&&(r="Content",i=["Content"],a=this._findFragments(i)),this.trigger("beforestatechange",{state:t,element:a}),o["X-Pjax"]=r,void 0!==t.__forceReferer){var l=t.__forceReferer;try{l=decodeURI(l)}catch(e){}finally{o["X-Backurl"]=encodeURI(l)}}a.addClass("loading");var u=$.ajax({headers:o,url:t.path||document.URL}).done(function(e,r,o){var i=n.handleAjaxResponse(e,r,o,t);n.trigger("afterstatechange",{data:e,status:r,xhr:o,element:i,state:t})}).always(function(){n.setStateChangeXHR(null),a.removeClass("loading")});return this.setStateChangeXHR(u),u}},loadFragment:function(e,t){var n,r=this,o={},i=$("base").attr("href"),a=this.getFragmentXHR();return void 0!==a[t]&&null!==a[t]&&(a[t].abort(),a[t]=null),e=$.path.isAbsoluteUrl(e)?e:$.path.makeUrlAbsolute(e,i),o["X-Pjax"]=t,n=$.ajax({headers:o,url:e,success:function(e,t,n){var o=r.handleAjaxResponse(e,t,n,null);r.trigger("afterloadfragment",{data:e,status:t,xhr:n,elements:o})},error:function(e,t,n){r.trigger("loadfragmenterror",{xhr:e,status:t,error:n})},complete:function(){var e=r.getFragmentXHR();void 0!==e[t]&&null!==e[t]&&(e[t]=null)}}),a[t]=n,n},handleAjaxResponse:function(e,t,n,r){var o,i,a,s;if(n.getResponseHeader("X-Reload")&&n.getResponseHeader("X-ControllerURL")){var l=$("base").attr("href"),u=n.getResponseHeader("X-ControllerURL"),o=$.path.isAbsoluteUrl(u)?u:$.path.makeUrlAbsolute(u,l);return void(document.location.href=o)}if(e){var c=n.getResponseHeader("X-Title");c&&(document.title=decodeURIComponent(c.replace(/\+/g," ")));var d,p={};n.getResponseHeader("Content-Type").match(/^((text)|(application))\/json[ \t]*;?/i)?p=e:(a=document.createDocumentFragment(),jQuery.clean([e],document,a,[]),s=$(jQuery.merge([],a.childNodes)),i="Content",s.is("form")&&!s.is("[data-pjax-fragment~=Content]")&&(i="CurrentForm"),p[i]=s),this.setRedrawSuppression(!0);try{$.each(p,function(e,t){var n=$("[data-pjax-fragment]").filter(function(){return-1!=$.inArray(e,$(this).data("pjaxFragment").split(" "))}),r=$(t);if(d?d.add(r):d=r,r.find(".cms-container").length)throw'Content loaded via ajax is not allowed to contain tags matching the ".cms-container" selector to avoid infinite loops';var o=n.attr("style"),i=(n.parent(),["east","west","center","north","south","column-hidden"]),a=n.attr("class"),s=[];a&&(s=$.grep(a.split(" "),function(e){return $.inArray(e,i)>=0})),r.removeClass(i.join(" ")).addClass(s.join(" ")),o&&r.attr("style",o);var l=r.find("style").detach();l.length&&$(document).find("head").append(l),n.replaceWith(r)});var f=d.filter("form");f.hasClass("cms-tabset")&&f.removeClass("cms-tabset").addClass("cms-tabset")}finally{this.setRedrawSuppression(!1)}return this.redraw(),this.restoreTabState(r&&void 0!==r.tabState?r.tabState:null),d}},_findFragments:function(e){return $("[data-pjax-fragment]").filter(function(){var t,n=$(this).data("pjaxFragment").split(" ");for(t in e)if(-1!=$.inArray(e[t],n))return!0;return!1})},refresh:function(){$(window).trigger("statechange"),$(this).redraw()},saveTabState:function(){if(void 0!==window.sessionStorage&&null!==window.sessionStorage){var e=[],t=this._tabStateUrl();if(this.find(".cms-tabset,.ss-tabset").each(function(t,n){var r=$(n).attr("id");r&&$(n).data("tabs")&&($(n).data("ignoreTabState")||$(n).getIgnoreTabState()||e.push({id:r,selected:$(n).tabs("option","selected")}))}),e){var n="tabs-"+t;try{window.sessionStorage.setItem(n,JSON.stringify(e))}catch(e){if(e.code===DOMException.QUOTA_EXCEEDED_ERR&&0===window.sessionStorage.length)return;throw e}}}},restoreTabState:function(e){var t=this,n=this._tabStateUrl(),r=void 0!==window.sessionStorage&&window.sessionStorage,o=r?window.sessionStorage.getItem("tabs-"+n):null,i=!!o&&JSON.parse(o);this.find(".cms-tabset, .ss-tabset").each(function(){var n,r,o=$(this),a=o.attr("id"),s=o.children("ul").children("li.ss-tabs-force-active");o.data("tabs")&&(o.tabs("refresh"),s.length?n=s.first().index():e&&e[a]?(r=o.find(e[a].tabSelector),r.length&&(n=r.index())):i&&$.each(i,function(e,t){a==t.id&&(n=t.selected)}),null!==n&&(o.tabs("option","active",n),t.trigger("tabstaterestored")))})},clearTabState:function(e){if(void 0!==window.sessionStorage){var t=window.sessionStorage;if(e)t.removeItem("tabs-"+e);else for(var n=0;n<t.length;n++)t.key(n).match(/^tabs-/)&&t.removeItem(t.key(n))}},clearCurrentTabState:function(){this.clearTabState(this._tabStateUrl())},_tabStateUrl:function(){return window.location.href.replace(/\?.*/,"").replace(/#.*/,"").replace($("base").attr("href"),"")},showLoginDialog:function(){var e=$("body").data("member-tempid"),t=$(".leftandmain-logindialog"),n="CMSSecurity/login";t.length&&t.remove(),n=$.path.addSearchParams(n,{tempid:e,BackURL:window.location.href}),t=$('<div class="leftandmain-logindialog"></div>'),t.attr("id",(new Date).getTime()),t.data("url",n),$("body").append(t)}}),$(".leftandmain-logindialog").entwine({onmatch:function(){this._super(),this.ssdialog({iframeUrl:this.data("url"),dialogClass:"leftandmain-logindialog-dialog",autoOpen:!0,minWidth:500,maxWidth:500,minHeight:370,maxHeight:400,closeOnEscape:!1,open:function(){$(".ui-widget-overlay").addClass("leftandmain-logindialog-overlay")},close:function(){$(".ui-widget-overlay").removeClass("leftandmain-logindialog-overlay")}})},onunmatch:function(){this._super()},open:function(){this.ssdialog("open")},close:function(){this.ssdialog("close")},toggle:function(e){this.is(":visible")?this.close():this.open()},reauthenticate:function(e){void 0!==e.SecurityID&&$(":input[name=SecurityID]").val(e.SecurityID),void 0!==e.TempID&&$("body").data("member-tempid",e.TempID),this.close()}}),$("form.loading,.cms-content.loading,.cms-content-fields.loading,.cms-content-view.loading").entwine({onmatch:function(){this.append('<div class="cms-content-loading-overlay ui-widget-overlay-light"></div><div class="cms-content-loading-spinner"></div>'),this._super()},onunmatch:function(){this.find(".cms-content-loading-overlay,.cms-content-loading-spinner").remove(),this._super()}}),$(".cms .cms-panel-link").entwine({onclick:function(e){if($(this).hasClass("external-link"))return void e.stopPropagation();var t=this.attr("href"),n=t&&!t.match(/^#/)?t:this.data("href"),r={pjax:this.data("pjaxTarget")};$(".cms-container").loadPanel(n,null,r),e.preventDefault()}}),$(".cms .ss-ui-button-ajax").entwine({onclick:function onclick(e){$(this).removeClass("ui-button-text-only"),$(this).addClass("ss-ui-button-loading ui-button-text-icons");var loading=$(this).find(".ss-ui-loading-icon");loading.length<1&&(loading=$("<span></span>").addClass("ss-ui-loading-icon ui-button-icon-primary ui-icon"),$(this).prepend(loading)),loading.show();var href=this.attr("href"),url=href||this.data("href");jQuery.ajax({url:url,complete:function complete(xmlhttp,status){var msg=xmlhttp.getResponseHeader("X-Status")?xmlhttp.getResponseHeader("X-Status"):xmlhttp.responseText;try{void 0!==msg&&null!==msg&&eval(msg)}catch(e){}loading.hide(),$(".cms-container").refresh(),$(this).removeClass("ss-ui-button-loading ui-button-text-icons"),$(this).addClass("ui-button-text-only")},dataType:"html"}),e.preventDefault()}}),$(".cms .ss-ui-dialog-link").entwine({UUID:null,onmatch:function(){this._super(),this.setUUID((new Date).getTime())},onunmatch:function(){this._super()},onclick:function(){this._super();var e="ss-ui-dialog-"+this.getUUID(),t=$("#"+e);t.length||(t=$('<div class="ss-ui-dialog" id="'+e+'" />'),$("body").append(t));var n=this.data("popupclass")?this.data("popupclass"):"";return t.ssdialog({iframeUrl:this.attr("href"),autoOpen:!0,dialogExtraClass:n}),!1}}),$(".cms .field.date input.text").entwine({onmatch:function(){var e=$(this).parents(".field.date:first"),t=e.data();if(!t.showcalendar)return void this._super();t.showOn="button",t.locale&&$.datepicker.regional[t.locale]&&(t=$.extend(t,$.datepicker.regional[t.locale],{})),this.prop("disabled")||this.prop("readonly")||$(this).datepicker(t),this._super()},onunmatch:function(){this._super()}}),$(".cms .field.dropdown select, .cms .field select[multiple], .form__fieldgroup-item select.dropdown").entwine({onmatch:function(){if(this.is(".no-chosen"))return void this._super();this.data("placeholder")||this.data("placeholder"," "),this.removeClass("has-chosen").chosen("destroy"),this.siblings(".chosen-container").remove(),applyChosen(this),this._super()},onunmatch:function(){this._super()}}),$(".cms-panel-layout").entwine({redraw:function(){window.debug&&console.log("redraw",this.attr("class"),this.get(0))}}),$(".cms .grid-field").entwine({showDetailView:function(e){var t=window.location.search.replace(/^\?/,"");t&&(e=$.path.addSearchParams(e,t)),$(".cms-container").loadPanel(e)}}),$(".cms-search-form").entwine({onsubmit:function(e){var t,n;t=this.find(":input:not(:submit)").filter(function(){return $.grep($(this).fieldValue(),function(e){return e}).length}),n=this.attr("action"),t.length&&(n=$.path.addSearchParams(n,t.serialize().replace("+","%20")));var r=this.closest(".cms-container");return r.find(".cms-edit-form").tabs("select",0),r.loadPanel(n,"",{},!0),!1}}),$(".cms-search-form button[type=reset], .cms-search-form input[type=reset]").entwine({onclick:function(e){e.preventDefault();var t=$(this).parents("form");t.clearForm(),t.find(".dropdown select").prop("selectedIndex",0).trigger("chosen:updated"),t.submit()}}),window._panelDeferredCache={},$(".cms-panel-deferred").entwine({onadd:function(){this._super(),this.redraw()},onremove:function(){window.debug&&console.log("saving",this.data("url"),this),this.data("deferredNoCache")||(window._panelDeferredCache[this.data("url")]=this.html()),this._super()},redraw:function(){window.debug&&console.log("redraw",this.attr("class"),this.get(0));var e=this,t=this.data("url");if(!t)throw'Elements of class .cms-panel-deferred need a "data-url" attribute';this._super(),this.children().length||(this.data("deferredNoCache")||void 0===window._panelDeferredCache[t]?(this.addClass("loading"),$.ajax({url:t,complete:function(){e.removeClass("loading")},success:function(t,n,r){e.html(t)}})):this.html(window._panelDeferredCache[t]))}}),$(".cms-tabset").entwine({onadd:function(){this.redrawTabs(),this._super()},onremove:function(){this.data("tabs")&&this.tabs("destroy"),this._super()},redrawTabs:function(){this.rewriteHashlinks();var e=(this.attr("id"),this.find("ul:first .ui-tabs-active"));this.data("tabs")||this.tabs({active:-1!=e.index()?e.index():0,beforeLoad:function(e,t){return!1},beforeActivate:function(e,t){var n=t.oldTab.find(".cms-panel-link");if(n&&1===n.length)return!1},activate:function(e,t){var n=$(this).closest("form").find(".btn-toolbar");$(t.newTab).closest("li").hasClass("readonly")?n.fadeOut():n.show()}}),this.trigger("afterredrawtabs")},rewriteHashlinks:function(){$(this).find("ul a").each(function(){if($(this).attr("href")){var e=$(this).attr("href").match(/#.*/);e&&$(this).attr("href",document.location.href.replace(/#.*/,"")+e[0])}})}}),$("#filters-button").entwine({onmatch:function(){this._super(),this.data("collapsed",!0),this.data("animating",!1)},onunmatch:function(){this._super()},showHide:function(){var e=this,t=$(".cms-content-filters").first(),n=this.data("collapsed");n?(this.addClass("active"),t.css("display","block")):(this.removeClass("active"),t.css("display","")),e.data("collapsed",!n)},onclick:function(){this.showHide()}})});var statusMessage=function(e,t){e=jQuery("<div/>").text(e).html(),jQuery.noticeAdd({text:e,type:t,stayTime:5e3,inEffect:{left:"0",opacity:"show"}})}}).call(exports,__webpack_require__(26))},246:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}var o=n(15),i=r(o),a=n(23),s=r(a),l=n(177),u=r(l),c=n(176),d=r(c);n(122),i.default.entwine("ss",function(e){e("input[type=date]").entwine({onadd:function(){if(!d.default.inputtypes.date&&!(this.prop("disabled")||this.prop("readonly")||this.hasClass("hasDatepicker"))){var t=e("<input/>",{type:"hidden",name:this.attr("name"),value:this.val()});this.parent().append(t),this.removeAttr("name"),u.default.locale(this.attr("lang"));var n=this.val(),r="";if(n){var o=(0,u.default)(n);o.isValid()&&(r=o.format("L"))}this.val(r);var i=s.default.inject(s.default._t("Admin.FormatExample","Example: {format}"),{format:(0,u.default)().endOf("month").format("L")});this.attr("placeholder",i),this.updateValue()}},onchange:function(){this.updateValue()},updateValue:function(){var e=this.val(),t="";if(e)for(var n=["L","YYYY-MM-DD"],r=0;r<n.length;r++){var o=n[r],i=(0,u.default)(e,o);if(i.isValid()){t=i.format("YYYY-MM-DD");break}}this.parent().find("input[type=hidden]").val(t)}})})},247:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.DateField=void 0;var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=function e(t,n,r){null===t&&(t=Function.prototype);var o=Object.getOwnPropertyDescriptor(t,n);if(void 0===o){var i=Object.getPrototypeOf(t);return null===i?void 0:e(i,n,r)}if("value"in o)return o.value;var a=o.get;return void 0!==a?a.call(r):void 0},u=n(0),c=r(u),d=n(42),p=r(d),f=n(394),h=n(177),m=r(h),y=n(176),b=r(y),v=n(23),g=r(v),_=function(e){function t(){return o(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return a(t,e),s(t,[{key:"render",value:function(){return l(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"render",this).call(this)}},{key:"hasNativeSupport",value:function(){return b.default.inputtypes.date}},{key:"getInputProps",value:function(){var e=g.default.inject(g.default._t("Admin.FormatExample","Example: {format}"),{format:(0,m.default)().endOf("month").format("L")}),n={},r=this.props.value;return r=!this.props.data.html5||this.hasNativeSupport()&&this.props.data.html5?this.props.value:this.getLocalisedValue(),Object.assign(n,l(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"getInputProps",this).call(this),{type:this.props.data.html5?"date":"text",defaultValue:r,placeholder:e}),delete n.value,n}},{key:"getLocalisedValue",value:function(){return this.convertToLocalised(this.props.value)}},{key:"isMultiline",value:function(){return!1}},{key:"handleChange",value:function(e){var t=e.target.value,n="";n=!this.props.data.html5||this.hasNativeSupport()&&this.props.data.html5?t:this.convertToIso(t),"function"==typeof this.props.onChange&&this.triggerChange(n)}},{key:"triggerChange",value:function(e){this.props.onChange(e)}},{key:"convertToIso",value:function(e){m.default.locale(this.props.lang);var t="";if(e){var n=(0,m.default)(e,["L","YYYY-MM-DD"]);n.isValid()&&(t=n.format("YYYY-MM-DD"))}return t}},{key:"convertToLocalised",value:function(e){m.default.locale(this.props.lang);var t="";if(e){var n=(0,m.default)(e);n.isValid()&&(t=n.format("L"))}return t}}]),t}(f.TextField);_.propTypes={lang:c.default.PropTypes.string,data:c.default.PropTypes.shape({html5:c.default.PropTypes.boolean})},_.defaultProps={data:{}},t.DateField=_,t.default=(0,p.default)(_)},248:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=n(0),u=r(l),c=n(12),d=r(c),p=function(e){function t(){return o(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return a(t,e),s(t,[{key:"render",value:function(){var e="grid-field__row "+this.props.className;return u.default.createElement("tr",{tabIndex:"0",className:e},this.props.children)}}]),t}(d.default);t.default=p},249:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=n(0),u=r(l),c=n(12),d=r(c),p=n(124),f=r(p),h=n(39),m=function(e){function t(e){o(this,t);var n=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.handleChange=n.handleChange.bind(n),n}return a(t,e),s(t,[{key:"handleChange",value:function(e){"function"==typeof this.props.onChange?this.props.onChange(e,{id:this.props.id,value:e.target.checked?1:0}):"function"==typeof this.props.onClick&&this.props.onClick(e,{id:this.props.id,value:e.target.checked?1:0})}},{key:"getInputProps",value:function(){var e=[this.props.className,this.props.extraClass];return this.props.value&&e.push("checked"),{id:this.props.id,name:this.props.name,disabled:this.props.disabled,readOnly:this.props.readOnly,className:e.join(" "),onChange:this.handleChange,checked:!!this.props.value,value:1}}},{key:"render",value:function(){var e=null!==this.props.leftTitle?this.props.leftTitle:this.props.title,t=null;switch(this.props.type){case"checkbox":t=h.Checkbox;break;case"radio":t=h.Radio;break;default:throw new Error("Invalid OptionField type: "+this.props.type)}var n="string"==typeof e?{react:u.default.createElement("span",null,e)}:e;return(0,f.default)(t,n,this.getInputProps())}}]),t}(d.default);m.propTypes={type:u.default.PropTypes.oneOf(["checkbox","radio"]),leftTitle:u.default.PropTypes.any,title:u.default.PropTypes.any,extraClass:u.default.PropTypes.string,id:u.default.PropTypes.string,name:u.default.PropTypes.string.isRequired,onChange:u.default.PropTypes.func,value:u.default.PropTypes.oneOfType([u.default.PropTypes.string,u.default.PropTypes.number,u.default.PropTypes.bool]),readOnly:u.default.PropTypes.bool,disabled:u.default.PropTypes.bool},m.defaultProps={extraClass:"",className:"",type:"radio",leftTitle:null},t.default=m},389:function(e,t){e.exports=FormAlert},39:function(e,t){e.exports=ReactBootstrap},390:function(e,t,n){"use strict";(function(e){var t=n(15),r=function(e){return e&&e.__esModule?e:{default:e}}(t);n(151),r.default.widget("ssui.ssdialog",r.default.ui.dialog,{options:{iframeUrl:"",reloadOnOpen:!0,dialogExtraClass:"",modal:!0,bgiframe:!0,autoOpen:!1,autoPosition:!0,minWidth:500,maxWidth:800,minHeight:300,maxHeight:700,widthRatio:.8,heightRatio:.8,resizable:!1},_create:function(){r.default.ui.dialog.prototype._create.call(this);var e=this,t=(0,r.default)('<iframe marginWidth="0" marginHeight="0" frameBorder="0" scrolling="auto"></iframe>');t.bind("load",function(n){"about:blank"!=(0,r.default)(this).attr("src")&&(t.addClass("loaded").show(),e._resizeIframe(),e.uiDialog.removeClass("loading"))}).hide(),this.options.dialogExtraClass&&this.uiDialog.addClass(this.options.dialogExtraClass),this.element.append(t),this.options.iframeUrl&&this.element.css("overflow","hidden")},open:function(){r.default.ui.dialog.prototype.open.call(this);var e=this,t=this.element.children("iframe");!this.options.iframeUrl||t.hasClass("loaded")&&!this.options.reloadOnOpen||(t.hide(),t.attr("src",this.options.iframeUrl),this.uiDialog.addClass("loading")),(0,r.default)(window).bind("resize.ssdialog",function(){e._resizeIframe()})},close:function(){r.default.ui.dialog.prototype.close.call(this),this.uiDialog.unbind("resize.ssdialog"),(0,r.default)(window).unbind("resize.ssdialog")},_resizeIframe:function(){var t,n,o={},i=this.element.children("iframe");this.options.widthRatio&&(t=(0,r.default)(window).width()*this.options.widthRatio,this.options.minWidth&&t<this.options.minWidth?o.width=this.options.minWidth:this.options.maxWidth&&t>this.options.maxWidth?o.width=this.options.maxWidth:o.width=t),this.options.heightRatio&&(n=(0,r.default)(window).height()*this.options.heightRatio,this.options.minHeight&&n<this.options.minHeight?o.height=this.options.minHeight:this.options.maxHeight&&n>this.options.maxHeight?o.height=this.options.maxHeight:o.height=n),e.isEmptyObject(o)||(this._setOptions(o),i.attr("width",o.width-parseFloat(this.element.css("paddingLeft"))-parseFloat(this.element.css("paddingRight"))),i.attr("height",o.height-parseFloat(this.element.css("paddingTop"))-parseFloat(this.element.css("paddingBottom"))),this.options.autoPosition&&this._setOption("position",this.options.position))}}),r.default.widget("ssui.titlebar",{_create:function(){this.originalTitle=this.element.attr("title");var e=this.options,t=e.title||this.originalTitle||"&nbsp;",n=r.default.ui.dialog.getTitleId(this.element);this.element.parent().addClass("ui-dialog");var o=this.element.addClass("ui-dialog-titlebar ui-widget-header ui-corner-all ui-helper-clearfix");if(e.closeButton){var i=(0,r.default)('<a href="#"/>').addClass("ui-dialog-titlebar-close ui-corner-all").attr("role","button").hover(function(){i.addClass("ui-state-hover")},function(){i.removeClass("ui-state-hover")}).focus(function(){i.addClass("ui-state-focus")}).blur(function(){i.removeClass("ui-state-focus")}).mousedown(function(e){e.stopPropagation()}).appendTo(o);(this.uiDialogTitlebarCloseText=(0,r.default)("<span/>")).addClass("ui-icon ui-icon-closethick").text(e.closeText).appendTo(i)}(0,r.default)("<span/>").addClass("ui-dialog-title").attr("id",n).html(t).prependTo(o),o.find("*").add(o).disableSelection()},destroy:function(){this.element.unbind(".dialog").removeData("dialog").removeClass("ui-dialog-content ui-widget-content").hide().appendTo("body"),this.originalTitle&&this.element.attr("title",this.originalTitle)}}),r.default.extend(r.default.ssui.titlebar,{version:"0.0.1",options:{title:"",closeButton:!1,closeText:"close"},uuid:0,getTitleId:function(e){return"ui-dialog-title-"+(e.attr("id")||++this.uuid)}})}).call(t,n(26))},393:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=n(0),u=r(l),c=n(12),d=r(c),p=n(124),f=r(p),h=function(e){function t(){return o(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return a(t,e),s(t,[{key:"getLegend",value:function(){return"fieldset"===this.props.data.tag&&this.props.data.legend?(0,f.default)("legend",this.props.data.legend):null}},{key:"getClassName",value:function(){return this.props.className+" "+this.props.extraClass}},{key:"render",value:function(){var e=this.getLegend(),t=this.props.data.tag||"div",n=this.getClassName();return u.default.createElement(t,{className:n},e,this.props.children)}}]),t}(d.default);h.propTypes={data:u.default.PropTypes.oneOfType([u.default.PropTypes.array,u.default.PropTypes.shape({tag:u.default.PropTypes.string,legend:u.default.PropTypes.string})]),extraClass:u.default.PropTypes.string},h.defaultProps={className:"",extraClass:""},t.default=h},394:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.TextField=void 0;var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=n(0),u=r(l),c=n(12),d=r(c),p=n(42),f=r(p),h=n(39),m=function(e){function t(e){o(this,t);var n=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.handleChange=n.handleChange.bind(n),n}return a(t,e),s(t,[{key:"render",value:function(){return u.default.createElement(h.FormControl,this.getInputProps())}},{key:"getInputProps",value:function(){var e={bsClass:this.props.bsClass,className:this.props.className+" "+this.props.extraClass,id:this.props.id,name:this.props.name,disabled:this.props.disabled,readOnly:this.props.readOnly,value:this.props.value,placeholder:this.props.placeholder,autoFocus:this.props.autoFocus};return this.isMultiline()?Object.assign(e,{componentClass:"textarea",rows:this.props.data.rows,cols:this.props.data.columns}):Object.assign(e,{componentClass:"input",type:this.props.type?this.props.type:null}),this.props.readOnly||Object.assign(e,{onChange:this.handleChange}),e}},{key:"isMultiline",value:function(){return this.props.data&&this.props.data.rows>1}},{key:"handleChange",value:function(e){"function"==typeof this.props.onChange&&this.props.onChange(e,{id:this.props.id,value:e.target.value})}}]),t}(d.default);m.propTypes={extraClass:u.default.PropTypes.string,id:u.default.PropTypes.string,name:u.default.PropTypes.string.isRequired,onChange:u.default.PropTypes.func,value:u.default.PropTypes.oneOfType([u.default.PropTypes.string,u.default.PropTypes.number]),readOnly:u.default.PropTypes.bool,disabled:u.default.PropTypes.bool,placeholder:u.default.PropTypes.string,type:u.default.PropTypes.string,autoFocus:u.default.PropTypes.bool},m.defaultProps={value:"",extraClass:"",className:"",type:"text"},t.TextField=m,t.default=(0,f.default)(m)},395:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=n(0),u=r(l),c=n(23),d=r(c),p=n(8),f=r(p),h=n(179),m=r(h),y=function(e){function t(e){o(this,t);var n=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.render=n.render.bind(n),n.renderOption=n.renderOption.bind(n),n.renderBreadcrumbs=n.renderBreadcrumbs.bind(n),n.handleBack=n.handleBack.bind(n),n}return a(t,e),s(t,[{key:"handleBack",value:function(e){e.stopPropagation(),e.preventDefault(),"function"==typeof this.props.onBack&&this.props.onBack(e)}},{key:"renderBreadcrumbs",value:function(){if(0===this.props.breadcrumbs.length)return null;var e=this.props.breadcrumbs.map(function(e){return e.title}).join(" / "),t=u.default.createElement("button",{className:"treedropdownfield__breadcrumbs-button"},u.default.createElement("span",{className:"icon font-icon-level-up"}));return u.default.createElement("div",{className:"Select-option treedropdownfield__breadcrumbs flexbox-area-grow fill-width",onClick:this.handleBack},t,u.default.createElement("span",{className:"treedropdownfield__breadcrumbs-crumbs flexbox-area-grow"},e))}},{key:"renderOption",value:function(e,t){if(!this.props.renderMenuOptions)return null;var n=this.props.renderMenuOptions,r=n.focusedOption,o=n.instancePrefix,i=n.onFocus,a=n.onSelect,s=n.optionClassName,l=n.optionComponent,c=n.optionRenderer,d=n.valueArray,p=n.onOptionRef,h=l,m=d.findIndex(function(t){return t.id===e.id})>-1,y=r&&e.id===r.id,b=(0,f.default)(s,{treedropdownfield__option:!0,"Select-option":!0,"is-selected":m,"is-focused":y,"is-disabled":e.disabled});return u.default.createElement(h,{className:b,instancePrefix:o,isDisabled:e.disabled,isFocused:y,isSelected:m,key:"option-"+t+"-"+e.id,onFocus:i,onSelect:a,option:e,optionIndex:t,ref:function(e){p(e,y)}},c(e,t))}},{key:"render",value:function(){var e=this;if(this.props.loading)return u.default.createElement("div",{className:"Select-option flexbox-area-grow fill-width"},u.default.createElement("span",{className:"Select-loading-zone","aria-hidden":"true"},u.default.createElement("span",{className:"Select-loading"})),u.default.createElement("span",{className:"treedropdownfield__menu-loading flexbox-area-grow"},d.default._t("Admin.TREEDROPDOWN_LOADING","Loading...")));if(this.props.failed)return u.default.createElement("div",{className:"Select-option"},d.default._t("Admin.TREEDROPDOWN_FAILED","Failed to load"));if(0===this.props.tree.count)return u.default.createElement("div",{className:"Select-option"},d.default._t("Admin.TREEDROPDOWN_NO_CHILDREN","No children"));var t=this.renderBreadcrumbs(),n=this.props.tree.children.map(function(t,n){return e.renderOption(t,n)});return u.default.createElement("div",{className:"treedropdownfield__menu"},t,n)}}]),t}(l.Component);y.propTypes={className:l.PropTypes.string,breadcrumbs:l.PropTypes.arrayOf(l.PropTypes.shape(m.default.propTypes)),loading:l.PropTypes.bool,failed:l.PropTypes.bool,tree:l.PropTypes.shape(m.default.propTypes),renderMenuOptions:l.PropTypes.object,onBack:l.PropTypes.func},t.default=y},396:function(e,t,n){"use strict";function r(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}Object.defineProperty(t,"__esModule",{value:!0});var o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i=n(1771),a=function(e){return e&&e.__esModule?e:{default:e}}(i),s=n(44),l={},u={},c=["before","after"],d=!1,p=function(e){c.forEach(function(t){if(void 0!==e[t]&&"string"!=typeof e[t]&&!Array.isArray(e[t]))throw new Error("Injector.update() key "+t+" must be a string or array")})},f=function(e){return function(){if(d)throw new Error("Cannot mutate DI container after it has been initialised");e.apply(void 0,arguments)}},h=function(e,t){return[e.displayName||e.name||"Component"].concat(r(t)).reduce(function(e,t){return t+"("+e+")"})},m=function(e){return e.map(function(e){var t=o({},e);return c.forEach(function(n){Array.isArray(e[n])?t[n]=e[n]:t[n]=e[n]?[e[n]]:[]}),c.every(function(e){return!t[e].length})&&(t.after=["__HEAD__"],t.before=["__TAIL__"]),t})},y=function(e){var t=null;return c.forEach(function(n){if(e[n].includes("*")){if(e[n].length>1)throw new Error("\n          Key "+n+" on "+e.name+' should only specify one key \n          if using the "*" wildcard\n        ');if(t)throw new Error("\n          Cannot specify a "+n+" rule on "+e.name+" if a wildcard \n          has been specified\n        ");t=n}}),t},b=function(e){var t=["__HEAD__","__TAIL__"],n=[t],r=[];return m(e).forEach(function(e){var t=e.name,r=y(e);"after"===r?n.push(["__TAIL__",t]):"before"===r?n.push([t,"__HEAD__"]):(n.push([t,"__TAIL__"]),n.push(["__HEAD__",t]),e.before.forEach(function(e){n.push([t,e])}),e.after.forEach(function(e){n.push([e,t])}))}),(0,a.default)(n).filter(function(e){return!t.includes(e)}).forEach(function(t){r=r.concat(e.filter(function(e){return e.name===t}))}),r},v=function(e,t,n){p(e),l[t]||(l[t]=[]),l[t].push(o({},e,{factory:n}))},g=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(u[e]&&!0!==n.force)throw new Error("\n      Tried to register service "+e+" more than once. This practice is discouraged. Consider\n      using Injector.update() to enhance the service rather than override it completely.\n      Otherwise, invoke the register() function with { force: true } as the third argument.\n     ");u[e]=t},_=function(e){if(!d)throw new Error("\n      Injector.get(): Attempted to access DI layer before it was initialised.\n      Did you forget to invoke Injector.load()?");if(!u[e])throw new Error("Injector.get(): Component "+e+" does not exist");return u[e]},w=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=o({name:e},n);p(r),t(function(e,t,n){v(o({},r,{displayName:n}),e,t)})},T=function(){Object.keys(l).forEach(function(e){if(l.hasOwnProperty(e)){var t=b(l[e]),n=u[e],o=t.map(function(e){return e.factory}),i=t.map(function(e){return e.displayName||e.name}),a=s.compose.apply(void 0,r(o))(n);a.displayName=h(n,i),u[e]=a}}),d=!0},P={get:_,load:T,transform:f(w),register:f(g)};t.default=P},397:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(0),o=function(e){return e&&e.__esModule?e:{default:e}}(r);t.default={injector:o.default.PropTypes.shape({get:o.default.PropTypes.func})}},398:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={SET_BREADCRUMBS:"SET_BREADCRUMBS"}},399:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={SET_CONFIG:"SET_CONFIG"}},400:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={CREATE_RECORD:"CREATE_RECORD",UPDATE_RECORD:"UPDATE_RECORD",DELETE_RECORD:"DELETE_RECORD",FETCH_RECORDS_REQUEST:"FETCH_RECORDS_REQUEST",FETCH_RECORDS_FAILURE:"FETCH_RECORDS_FAILURE",FETCH_RECORDS_SUCCESS:"FETCH_RECORDS_SUCCESS",FETCH_RECORD_REQUEST:"FETCH_RECORD_REQUEST",FETCH_RECORD_FAILURE:"FETCH_RECORD_FAILURE",FETCH_RECORD_SUCCESS:"FETCH_RECORD_SUCCESS",DELETE_RECORD_REQUEST:"DELETE_RECORD_REQUEST",DELETE_RECORD_FAILURE:"DELETE_RECORD_FAILURE",DELETE_RECORD_SUCCESS:"DELETE_RECORD_SUCCESS"}},401:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r={SET_SCHEMA:"SET_SCHEMA",SET_SCHEMA_STATE_OVERRIDES:"SET_SCHEMA_STATE_OVERRIDES",SET_SCHEMA_LOADING:"SET_SCHEMA_LOADING"};t.default=r},402:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={TREEFIELD_SET_VISIBLE:"TREEDROPDOWNFIELD_SET_VISIBLE",TREEFIELD_UPDATED_TREE:"TREEDROPDOWNFIELD_UPDATED_TREE",TREEFIELD_UPDATING_TREE:"TREEDROPDOWNFIELD_UPDATING_TREE",TREEFIELD_UPDATE_FAILED:"TREEFIELD_UPDATE_FAILED"}},403:function(e,t,n){"use strict";function r(e,t){return{type:l.default.TREEFIELD_SET_VISIBLE,payload:{fieldId:e,path:t}}}function o(e,t){return{type:l.default.TREEFIELD_UPDATING_TREE,payload:{fieldId:e,path:t}}}function i(e,t,n){return{type:l.default.TREEFIELD_UPDATED_TREE,payload:{fieldId:e,path:t,tree:n}}}function a(e,t){return{type:l.default.TREEFIELD_UPDATE_FAILED,payload:{fieldId:e,path:t}}}Object.defineProperty(t,"__esModule",{value:!0}),t.setVisible=r,t.beginTreeUpdating=o,t.updateTree=i,t.updateTreeFailed=a;var s=n(402),l=function(e){return e&&e.__esModule?e:{default:e}}(s)},42:function(e,t){e.exports=FieldHolder},63:function(e,t){e.exports=Injector},754:function(e,t){e.exports=Config},755:function(e,t){e.exports=FormBuilderModal},756:function(e,t){e.exports=ReactRouter},757:function(e,t){e.exports=ReactRouterRedux},758:function(e,t){e.exports=ReactSelect},759:function(e,t){e.exports=ReduxForm},760:function(e,t){e.exports=schemaFieldValues},761:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(){var e=m.default.get("absoluteBaseUrl"),t=(0,D.createNetworkInterface)({uri:e+"graphql/",opts:{credentials:"same-origin"}}),n=new F.default({shouldBatch:!0,addTypename:!0,dataIdFromObject:function(e){return e.id>=0&&e.__typename?e.__typename+":"+e.id:null},networkInterface:t});t.use([{applyMiddleware:function(e,t){var n=(0,M.printRequest)(e.request);e.options.headers=Object.assign({},e.options.headers,{"Content-Type":"application/x-www-form-urlencoded;charset=UTF-8"}),e.options.body=N.default.stringify(Object.assign({},n,{variables:JSON.stringify(n.variables)})),t()}}]),b.default.add("config",w.default),b.default.add("form",p.reducer),b.default.add("schemas",P.default),b.default.add("records",C.default),b.default.add("breadcrumbs",j.default),b.default.add("routing",f.routerReducer),b.default.add("apollo",n.reducer()),b.default.add("treeDropdownField",x.default),window.setTimeout(function(){(0,S.default)(),l.default.load()},0);var r={},o=(0,u.combineReducers)(b.default.getAll()),i=[d.default,n.middleware()],s=m.default.get("environment"),c=m.default.get("debugging"),h=u.applyMiddleware.apply(void 0,i),y=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__,v=window.__REDUX_DEVTOOLS_EXTENSION__||window.devToolsExtension;"dev"===s&&c&&("function"==typeof y?h=y(u.applyMiddleware.apply(void 0,i)):"function"==typeof v&&(h=(0,u.compose)(u.applyMiddleware.apply(void 0,i),v())));var _=h(u.createStore),T=_(o,r);T.dispatch(g.setConfig(m.default.getAll())),window.ss=window.ss||{},window.ss.store=T,window.ss=window.ss||{},window.ss.apolloClient=n,new a.default(T,n).start(window.location.pathname),window.jQuery&&window.jQuery("body").addClass("js-react-boot")}var i=n(875),a=r(i),s=n(63),l=r(s),u=n(44),c=n(1866),d=r(c),p=n(759),f=n(757),h=n(754),m=r(h),y=n(1865),b=r(y),v=n(918),g=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(v),_=n(919),w=r(_),T=n(921),P=r(T),O=n(920),C=r(O),E=n(917),j=r(E),k=n(876),S=r(k),R=n(922),x=r(R),D=n(1854),F=r(D),M=n(184),I=n(244),N=r(I);r(n(297)).default.polyfill(),window.onload=o},762:function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=function(){function e(){r(this,e),this.defaultLocale="en_US",this.currentLocale=this.detectLocale(),this.lang={}}return o(e,[{key:"setLocale",value:function(e){this.currentLocale=e}},{key:"getLocale",value:function(){return null!==this.currentLocale?this.currentLocale:this.defaultLocale}},{key:"_t",value:function(e,t,n,r){var o=this.getLocale().replace(/_[\w]+/i,""),i=this.defaultLocale.replace(/_[\w]+/i,"");return this.lang&&this.lang[this.getLocale()]&&this.lang[this.getLocale()][e]?this.lang[this.getLocale()][e]:this.lang&&this.lang[o]&&this.lang[o][e]?this.lang[o][e]:this.lang&&this.lang[this.defaultLocale]&&this.lang[this.defaultLocale][e]?this.lang[this.defaultLocale][e]:this.lang&&this.lang[i]&&this.lang[i][e]?this.lang[i][e]:t||""}},{key:"addDictionary",value:function(e,t){void 0===this.lang[e]&&(this.lang[e]={});for(var n in t)this.lang[e][n]=t[n]}},{key:"getDictionary",value:function(e){return this.lang[e]}},{key:"stripStr",value:function(e){return e.replace(/^\s*/,"").replace(/\s*$/,"")}},{key:"stripStrML",value:function(e){for(var t=e.split("\n"),n=0;n<t.length;n+=1)t[n]=stripStr(t[n]);return stripStr(t.join(" "))}},{key:"sprintf",value:function(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];if(0===n.length)return e;var o=new RegExp("(.?)(%s)","g"),i=0;return e.replace(o,function(e,t,r,o,a){return"%"===t?e:t+n[i++]})}},{key:"inject",value:function(e,t){var n=new RegExp("{([A-Za-z0-9_]*)}","g");return e.replace(n,function(e,n,r,o){return t[n]?t[n]:e})}},{key:"detectLocale",value:function(){var t,n;if(!(t=document.body.getAttribute("lang")))for(var r=document.getElementsByTagName("meta"),o=0;o<r.length;o++)r[o].attributes["http-equiv"]&&"content-language"==r[o].attributes["http-equiv"].nodeValue.toLowerCase()&&(t=r[o].attributes.content.nodeValue);t||(t=this.defaultLocale);var i=t.match(/([^-|_]*)[-|_](.*)/);if(2==t.length){for(var a in e.lang)if(a.substr(0,2).toLowerCase()==t.toLowerCase()){n=a;break}}else i&&(n=i[1].toLowerCase()+"_"+i[2].toUpperCase());return n}},{key:"addEvent",value:function(e,t,n,r){return e.addEventListener?(e.addEventListener(t,n,r),!0):e.attachEvent?e.attachEvent("on"+t,n):void console.log("Handler could not be attached")}}]),e}(),a=new i;window.ss=void 0!==window.ss?window.ss:{},window.ss.i18n=window.i18n=a,t.default=a},763:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}var o=n(15),i=r(o),a=n(0),s=r(a),l=n(28),u=r(l),c=n(43),d=n(63),p=n(755),f=r(p),h=(0,d.provideInjector)(f.default);i.default.entwine("ss",function(e){e(".cms-content-actions .add-to-campaign-action,#add-to-campaign__action").entwine({onclick:function(){var t=e("#add-to-campaign__dialog-wrapper");return t.length||(t=e('<div id="add-to-campaign__dialog-wrapper" />'),e("body").append(t)),t.open(),!1}}),e(".add-to-campaign-modal .add-to-campaign-modal__nav-link").entwine({onclick:function(t){t.preventDefault();var n=e(t.target);window.location=n.attr("href")}}),e("#add-to-campaign__dialog-wrapper").entwine({onunmatch:function(){this._clearModal()},open:function(){this._renderModal(!0)},close:function(){this._renderModal(!1)},_renderModal:function(t){var n=this,r=function(){return n.close()},o=function(){return n._handleSubmitModal.apply(n,arguments)},i=e("form.cms-edit-form :input[name=ID]").val(),a=window.ss.store,l=a.getState().config.sections.find(function(e){return"SilverStripe\\CMS\\Controllers\\CMSPageEditController"===e.name}),d=l.form.AddToCampaignForm.schemaUrl+"/"+i;u.default.render(s.default.createElement(c.Provider,{store:a},s.default.createElement(h,{title:"Add to campaign",show:t,handleSubmit:o,handleHide:r,schemaUrl:d,bodyClassName:"modal__dialog",className:"add-to-campaign-modal",responseClassBad:"modal__response modal__response--error",responseClassGood:"modal__response modal__response--good"})),this[0])},_clearModal:function(){u.default.unmountComponentAtNode(this[0])},_handleSubmitModal:function(e,t,n){return n()}})})},764:function(e,t,n){"use strict";var r=n(15),o=function(e){return e&&e.__esModule?e:{default:e}}(r);(0,o.default)(document).on("click",".confirmedpassword .showOnClick a",function(){var e=(0,o.default)(".showOnClickContainer",(0,o.default)(this).parent());return e.toggle("fast",function(){e.find('input[type="hidden"]').val(e.is(":visible")?1:0)}),!1})},765:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}var o=n(15),i=r(o),a=n(23),s=r(a),l=n(177),u=r(l),c=n(176),d=r(c);n(122),i.default.entwine("ss",function(e){e("input[type=datetime-local]").entwine({onadd:function(){if(!d.default.inputtypes["datetime-local"]&&!(this.prop("disabled")||this.prop("readonly")||this.hasClass("hasDatepicker"))){var t=e("<input/>",{type:"hidden",name:this.attr("name"),value:this.val()});this.parent().append(t),this.removeAttr("name"),u.default.locale(this.attr("lang"));var n=this.val(),r="";if(n){var o=(0,u.default)(n);o.isValid()&&(r=o.format("L LT"))}this.val(r);var i=s.default.inject(s.default._t("Admin.FormatExample","Example: {format}"),{format:(0,u.default)().endOf("month").format("L LT")});this.attr("placeholder",i),this.updateValue()}},onchange:function(){this.updateValue()},updateValue:function(){var e=this.val(),t="";if(e){var n=(0,u.default)(e,["L LT",u.default.ISO_8601]);n.isValid()&&(t=n.format("YYYY-MM-DDTHH:mm:ss"))}this.parent().find("input[type=hidden]").val(t)}})})},766:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}var o=n(15),i=r(o),a=n(23),s=r(a);n(151),n(122),i.default.entwine("ss",function(e){e(".grid-field").entwine({reload:function(t,n){var r=this,o=this.closest("form"),i=this.find(":input:focus").attr("name"),a=o.find(":input").serializeArray();t||(t={}),t.data||(t.data=[]),t.data=t.data.concat(a),window.location.search&&(t.data=window.location.search.replace(/^\?/,"")+"&"+e.param(t.data)),o.addClass("loading"),e.ajax(e.extend({},{headers:{"X-Pjax":"CurrentField"},type:"POST",url:this.data("url"),dataType:"html",success:function(a){if(r.empty().append(e(a).children()),i&&r.find(':input[name="'+i+'"]').focus(),r.find(".filter-header").length){var s;"show"==t.data[0].filter?(s='<span class="non-sortable"></span>',r.addClass("show-filter").find(".filter-header").show()):(s='<button type="button" title="Open search and filter" name="showFilter" class="btn btn-secondary font-icon-search btn--no-text btn--icon-large grid-field__filter-open"></button>',r.removeClass("show-filter").find(".filter-header").hide()),r.find(".sortable-header th:last").html(s)}o.removeClass("loading"),n&&n.apply(this,arguments),r.trigger("reload",r)},error:function(e){alert(s.default._t("Admin.ERRORINTRANSACTION")),o.removeClass("loading")}},t))},showDetailView:function(e){window.location.href=e},getItems:function(){return this.find(".ss-gridfield-item")},setState:function(e,t){var n=this.getState();n[e]=t,this.find(':input[name="'+this.data("name")+'[GridState]"]').val(JSON.stringify(n))},getState:function(){return JSON.parse(this.find(':input[name="'+this.data("name")+'[GridState]"]').val())}}),e(".grid-field *").entwine({getGridField:function(){return this.closest(".grid-field")}}),e(".grid-field :button[name=showFilter]").entwine({onclick:function(e){this.closest(".grid-field__table").find(".filter-header").show().find(":input:first").focus(),this.closest(".grid-field").addClass("show-filter"),this.parent().html('<span class="non-sortable"></span>'),e.preventDefault()}}),e(".grid-field .ss-gridfield-item").entwine({onclick:function(t){if(e(t.target).closest(".action").length)return this._super(t),!1;var n=this.find(".edit-link");n.length&&this.getGridField().showDetailView(n.prop("href"))},onmouseover:function(){this.find(".edit-link").length&&this.css("cursor","pointer")},onmouseout:function(){this.css("cursor","default")}}),e(".grid-field .action.action_import:button").entwine({onclick:function(e){e.preventDefault(),this.openmodal()},onmatch:function(){this._super(),"open"===this.data("state")&&this.openmodal()},onunmatch:function(){this._super()},openmodal:function(){var t=e(this.data("target")),n=e(this.data("modal"));t.length<1?(t=n,t.appendTo(document.body)):t.innerHTML=n.innerHTML;var r=e(".modal-backdrop");r.length<1&&(r=e('<div class="modal-backdrop fade"></div>'),r.appendTo(document.body)),t.find("[data-dismiss]").on("click",function(){r.removeClass("in"),t.removeClass("in"),setTimeout(function(){r.remove()},150)}),setTimeout(function(){r.addClass("in"),t.addClass("in")},0)}}),e(".grid-field .action:button").entwine({onclick:function(e){var t="show";if(this.is(":disabled"))return void e.preventDefault();!this.hasClass("ss-gridfield-button-close")&&this.closest(".grid-field").hasClass("show-filter")||(t="hidden"),this.getGridField().reload({data:[{name:this.attr("name"),value:this.val(),filter:t}]}),e.preventDefault()},actionurl:function(){var t=this.closest(":button"),n=this.getGridField(),r=this.closest("form"),o=r.find(":input.gridstate").serialize(),i=r.find('input[name="SecurityID"]').val();o+="&"+encodeURIComponent(t.attr("name"))+"="+encodeURIComponent(t.val()),i&&(o+="&SecurityID="+encodeURIComponent(i)),window.location.search&&(o=window.location.search.replace(/^\?/,"")+"&"+o);var a=-1==n.data("url").indexOf("?")?"?":"&";return e.path.makeUrlAbsolute(n.data("url")+a+o,e("base").attr("href"))}}),e(".grid-field .add-existing-autocompleter").entwine({onbuttoncreate:function(){var e=this;this.toggleDisabled(),this.find('input[type="text"]').on("keyup",function(){e.toggleDisabled()})},onunmatch:function(){this.find('input[type="text"]').off("keyup")},toggleDisabled:function(){var e=this.find(".ss-ui-button"),t=this.find('input[type="text"]'),n=""!==t.val(),r=e.is(":disabled");(n&&r||!n&&!r)&&e.attr("disabled",!r)}}),e(".grid-field .grid-field__col-compact .action.gridfield-button-delete, .cms-edit-form .btn-toolbar button.action.action-delete").entwine({onclick:function(e){if(!confirm(s.default._t("Admin.DELETECONFIRMMESSAGE")))return e.preventDefault(),!1;this._super(e)}}),e(".grid-field .action.gridfield-button-print").entwine({UUID:null,onmatch:function(){this._super(),this.setUUID((new Date).getTime())},onunmatch:function(){this._super()},onclick:function(e){var t=this.actionurl();return window.open(t),e.preventDefault(),!1}}),e(".ss-gridfield-print-iframe").entwine({onmatch:function(){this._super(),this.hide().bind("load",function(){this.focus(),(this.contentWindow||this).print()})},onunmatch:function(){this._super()}}),e(".grid-field .action.no-ajax").entwine({onclick:function(e){return window.location.href=this.actionurl(),e.preventDefault(),!1}}),e(".grid-field .action-detail").entwine({onclick:function(){return this.getGridField().showDetailView(e(this).prop("href")),!1}}),e(".grid-field[data-selectable]").entwine({getSelectedItems:function(){return this.find(".ss-gridfield-item.ui-selected")},getSelectedIDs:function(){return e.map(this.getSelectedItems(),function(t){return e(t).data("id")})}}),e(".grid-field[data-selectable] .ss-gridfield-items").entwine({onadd:function(){this._super(),this.selectable()},onremove:function(){this._super(),this.data("selectable")&&this.selectable("destroy")}}),e(".grid-field .filter-header :input").entwine({onmatch:function(){var e=this.closest(".extra").find(".ss-gridfield-button-filter"),t=this.closest(".extra").find(".ss-gridfield-button-reset");this.val()&&(e.addClass("filtered"),t.addClass("filtered")),this._super()},onunmatch:function(){this._super()},onkeydown:function(e){if(!this.closest(".ss-gridfield-button-reset").length){var t=this.closest(".extra").find(".ss-gridfield-button-filter"),n=this.closest(".extra").find(".ss-gridfield-button-reset");if("13"==e.keyCode){var r=this.closest(".filter-header").find(".ss-gridfield-button-filter"),o="show";return!this.hasClass("ss-gridfield-button-close")&&this.closest(".grid-field").hasClass("show-filter")||(o="hidden"),this.getGridField().reload({data:[{name:r.attr("name"),value:r.val(),filter:o}]}),!1}t.addClass("hover-alike"),n.addClass("hover-alike")}}}),e(".grid-field .relation-search").entwine({onfocusin:function(t){this.autocomplete({source:function(t,n){var r=e(this.element);e(this.element).closest("form"),e.ajax({headers:{"X-Pjax":"Partial"},dataType:"json",type:"GET",url:e(r).data("searchUrl"),data:encodeURIComponent(r.attr("name"))+"="+encodeURIComponent(r.val()),success:n,error:function(e){alert(s.default._t("Admin.ERRORINTRANSACTION","An error occured while fetching data from the server\n Please try again later."))}})},select:function(t,n){var r=e('<input type="hidden" name="relationID" class="action_gridfield_relationfind" />');r.val(n.item.id),e(this).closest(".grid-field").find(".action_gridfield_relationfind").replaceWith(r),e(this).closest(".grid-field").find(".action_gridfield_relationadd").removeAttr("disabled")}})}}),e(".grid-field .pagination-page-number input").entwine({onkeydown:function(t){if(13==t.keyCode){var n=parseInt(e(this).val(),10),r=e(this).getGridField();return r.setState("GridFieldPaginator",{currentPage:n}),r.reload(),!1}}})})},767:function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}var _jquery=__webpack_require__(26),_jquery2=_interopRequireDefault(_jquery),ss=void 0!==window.ss?window.ss:{};ss.editorWrappers={},ss.editorWrappers.tinyMCE=function(){var editorID;return{init:function(e){editorID=e,this.create()},destroy:function(){tinymce.EditorManager.execCommand("mceRemoveEditor",!1,editorID)},getInstance:function(){return tinymce.EditorManager.get(editorID)},onopen:function(){},onclose:function(){},getConfig:function(){var e="#"+editorID,t=(0,_jquery2.default)(e).data("config"),n=this;return t.selector=e,t.setup=function(e){e.on("change",function(){n.save()})},t},save:function(){var e=this.getInstance();e.save(),(0,_jquery2.default)(e.getElement()).trigger("change")},create:function(){var e=this.getConfig();void 0!==e.baseURL&&(tinymce.EditorManager.baseURL=e.baseURL),tinymce.init(e)},repaint:function(){},isDirty:function(){return this.getInstance().isDirty()},getContent:function(){return this.getInstance().getContent()},getDOM:function(){return this.getInstance().getElement()},getContainer:function(){return this.getInstance().getContainer()},getSelectedNode:function(){return this.getInstance().selection.getNode()},selectNode:function(e){this.getInstance().selection.select(e)},setContent:function(e,t){this.getInstance().setContent(e,t)},insertContent:function(e,t){this.getInstance().insertContent(e,t)},replaceContent:function(e,t){this.getInstance().execCommand("mceReplaceContent",!1,e,t)},insertLink:function(e,t){this.getInstance().execCommand("mceInsertLink",!1,e,t)},removeLink:function(){this.getInstance().execCommand("unlink",!1)},cleanLink:function cleanLink(href,node){var settings=this.getConfig,cb=settings.urlconverter_callback,cu=tinyMCE.settings.convert_urls;return cb&&(href=eval(cb+"(href, node, true);")),cu&&href.match(new RegExp("^"+tinyMCE.settings.document_base_url+"(.*)$"))&&(href=RegExp.$1),href.match(/^javascript:\s*mctmp/)&&(href=""),href},createBookmark:function(){return this.getInstance().selection.getBookmark()},moveToBookmark:function(e){this.getInstance().selection.moveToBookmark(e),this.getInstance().focus()},blur:function(){this.getInstance().selection.collapse()},addUndo:function(){this.getInstance().undoManager.add()}}},ss.editorWrappers.default=ss.editorWrappers.tinyMCE,_jquery2.default.entwine("ss",function(e){e("textarea.htmleditor").entwine({Editor:null,onadd:function(){var e=this.data("editor")||"default",t=ss.editorWrappers[e]();this.setEditor(t),t.init(this.attr("id")),this._super()},onremove:function(){this.getEditor().destroy(),this._super()},"from .cms-edit-form":{onbeforesubmitform:function(){this.getEditor().save(),this._super()}},openLinkDialog:function(){this.openDialog("link")},openMediaDialog:function(){this.openDialog("media")},openEmbedDialog:function(){this.openDialog("embed")},openDialog:function(t){if("media"===t&&window.InsertMediaModal){var n=e("#insert-media-react__dialog-wrapper");return n.length||(n=e('<div id="insert-media-react__dialog-wrapper" />'),e("body").append(n)),n.setElement(this),void n.open()}if("embed"===t&&window.InsertEmbedModal){var r=e("#insert-embed-react__dialog-wrapper");return r.length||(r=e('<div id="insert-embed-react__dialog-wrapper" />'),e("body").append(r)),r.setElement(this),void r.open()}throw new Error("Dialog named "+t+" is not available.")}})})},768:function(e,t,n){"use strict";var r=n(15);(function(e){return e&&e.__esModule?e:{default:e}})(r).default.entwine("ss",function(e){e(".ss-tabset.ss-ui-action-tabset").entwine({IgnoreTabState:!0,onadd:function(){this._super(),this.tabs({collapsible:!0,active:!1})},onremove:function(){e(".cms-container").find("iframe").each(function(t,n){try{e(n).contents().off("click.ss-ui-action-tabset")}catch(e){console.warn("Unable to access iframe, possible https mis-match")}}),e(document).off("click.ss-ui-action-tabset"),this._super()},ontabsbeforeactivate:function(e,t){this.riseUp(e,t)},onclick:function(e,t){this.attachCloseHandler(e,t)},attachCloseHandler:function(t,n){var r,o=this,i=e(".cms-container").find("iframe");r=function(t){var n,i;n=e(t.target).closest(".ss-ui-action-tabset .ui-tabs-panel"),e(t.target).closest(o).length||n.length||(o.tabs("option","active",!1),i=e(".cms-container").find("iframe"),i.each(function(t,n){e(n).contents().off("click.ss-ui-action-tabset",r)}),e(document).off("click.ss-ui-action-tabset",r))},e(document).on("click.ss-ui-action-tabset",r),i.length>0&&i.each(function(t,n){e(n).contents().on("click.ss-ui-action-tabset",r)})},riseUp:function(t,n){var r,o,i,a,s,l,u,c,d;return r=e(this).find(".ui-tabs-panel").outerHeight(),o=e(this).find(".ui-tabs-nav").outerHeight(),i=e(window).height()+e(document).scrollTop()-o,a=e(this).find(".ui-tabs-nav").offset().top,s=n.newPanel,l=n.newTab,a+r>=i&&a-r>0?(this.addClass("rise-up"),null!==l.position()&&(u=-s.outerHeight(),c=s.parents(".toolbar--south"),c&&(d=l.offset().top-c.offset().top,u-=d),e(s).css("top",u+"px"))):(this.removeClass("rise-up"),null!==l.position()&&e(s).css("bottom","100%")),!1}}),e(".cms-content-actions .ss-tabset.ss-ui-action-tabset").entwine({ontabsbeforeactivate:function(t,n){this._super(t,n),e(n.newPanel).length>0&&e(n.newPanel).css("left",n.newTab.position().left+"px")}}),e(".cms-actions-row.ss-tabset.ss-ui-action-tabset").entwine({ontabsbeforeactivate:function(t,n){this._super(t,n),e(this).closest(".ss-ui-action-tabset").removeClass("tabset-open tabset-open-last")}}),e(".cms-content-fields .ss-tabset.ss-ui-action-tabset").entwine({ontabsbeforeactivate:function(t,n){this._super(t,n),e(n.newPanel).length>0&&(e(n.newTab).hasClass("last")?(e(n.newPanel).css({left:"auto",right:"0px"}),e(n.newPanel).parent().addClass("tabset-open-last")):(e(n.newPanel).css("left",n.newTab.position().left+"px"),e(n.newTab).hasClass("first")&&(e(n.newPanel).css("left","0px"),e(n.newPanel).parent().addClass("tabset-open"))))}}),e(".cms-tree-view-sidebar .cms-actions-row.ss-tabset.ss-ui-action-tabset").entwine({"from .ui-tabs-nav li":{onhover:function(t){e(t.target).parent().find("li .active").removeClass("active"),e(t.target).find("a").addClass("active")}},ontabsbeforeactivate:function(t,n){this._super(t,n),e(n.newPanel).css({left:"auto",right:"auto"}),e(n.newPanel).length>0&&e(n.newPanel).parent().addClass("tabset-open")}})})},769:function(e,t,n){"use strict";(function(e){function t(e){return e&&e.__esModule?e:{default:e}}var r=n(15),o=t(r),i=n(23),a=t(i);o.default.entwine("ss.tree",function(t){t("#Form_BatchActionsForm").entwine({Actions:[],getTree:function(){return t(".cms-tree")},fromTree:{oncheck_node:function(e,t){this.serializeFromTree()},onuncheck_node:function(e,t){this.serializeFromTree()}},onmatch:function(){var e=this;e.getTree().bind("load_node.jstree",function(t,n){e.refreshSelected()})},onunmatch:function(){this.getTree().unbind("load_node.jstree")},registerDefault:function(){this.register("publish",function(e){return!!confirm(a.default.inject(a.default._t("Admin.BATCH_PUBLISH_PROMPT","You have {num} page(s) selected.\n\nDo you really want to publish?"),{num:e.length}))&&e}),this.register("unpublish",function(e){return!!confirm(a.default.inject(a.default._t("Admin.BATCH_UNPUBLISH_PROMPT","You have {num} page(s) selected.\n\nDo you really want to unpublish"),{num:e.length}))&&e}),this.register("delete",function(e){return!!confirm(a.default.inject(a.default._t("Admin.BATCH_DELETE_PROMPT","You have {num} page(s) selected.\n\nAre you sure you want to delete these pages?\n\nThese pages and all of their children pages will be deleted and sent to the archive."),{num:e.length}))&&e}),this.register("restore",function(e){return!!confirm(a.default.inject(a.default._t("Admin.BATCH_RESTORE_PROMPT","You have {num} page(s) selected.\n\nDo you really want to restore to stage?\n\nChildren of archived pages will be restored to the root level, unless those pages are also being restored."),{num:e.length}))&&e})},onadd:function(){this.registerDefault(),this._super()},register:function(e,t){this.trigger("register",{type:e,callback:t});var n=this.getActions();n[e]=t,this.setActions(n)},unregister:function(e){this.trigger("unregister",{type:e});var t=this.getActions();t[e]&&delete t[e],this.setActions(t)},refreshSelected:function(n){var r=this,o=this.getTree(),i=this.getIDs(),a=[],s=t(".cms-content-batchactions-button"),l=this.find(":input[name=Action]").val();null==n&&(n=o);for(var u in i)t(t(o).getNodeByID(u)).addClass("selected").attr("selected","selected");if(!l||-1==l||!s.hasClass("active"))return void t(n).find("li").each(function(){t(this).setEnabled(!0)});t(n).find("li").each(function(){a.push(t(this).data("id")),t(this).addClass("treeloading").setEnabled(!1)});var c=t.path.parseUrl(l),d=c.hrefNoSearch+"/applicablepages/";d=t.path.addSearchParams(d,c.search),d=t.path.addSearchParams(d,{csvIDs:a.join(",")}),e.getJSON(d,function(o){e(n).find("li").each(function(){t(this).removeClass("treeloading");var e=t(this).data("id");0==e||t.inArray(e,o)>=0?t(this).setEnabled(!0):(t(this).removeClass("selected").setEnabled(!1),t(this).prop("selected",!1))}),r.serializeFromTree()})},serializeFromTree:function(){var e=this.getTree(),t=e.getSelectedIDs();return this.setIDs(t),!0},setIDs:function(e){this.find(":input[name=csvIDs]").val(e?e.join(","):null)},getIDs:function(){var e=this.find(":input[name=csvIDs]").val();return e?e.split(","):[]},onsubmit:function(n){var r=this,o=this.getIDs(),i=this.getTree(),s=this.getActions();if(!o||!o.length)return alert(a.default._t("Admin.SELECTONEPAGE","Please select at least one page")),n.preventDefault(),!1;var l=this.find(":input[name=Action]").val();if(!l)return n.preventDefault(),!1;var u=l.split("/").filter(function(e){return!!e}).pop();if(s[u]&&(o=s[u].apply(this,[o])),!o||!o.length)return n.preventDefault(),!1;this.setIDs(o),i.find("li").removeClass("failed");var c=this.find(":submit:first");return c.addClass("loading"),e.ajax({url:l,type:"POST",data:this.serializeArray(),complete:function(e,t){c.removeClass("loading"),i.jstree("refresh",-1),r.setIDs([]),r.find(":input[name=Action]").val("").change();var n=e.getResponseHeader("X-Status");n&&statusMessage(decodeURIComponent(n),"success"==t?"good":"bad")},success:function(e,n){var r,o;if(e.modified){var a=[];for(r in e.modified)o=i.getNodeByID(r),i.jstree("set_text",o,e.modified[r].TreeTitle),a.push(o);t(a).effect("highlight")}if(e.deleted)for(r in e.deleted)o=i.getNodeByID(r),o.length&&i.jstree("delete_node",o);if(e.error)for(r in e.error)o=i.getNodeByID(r),t(o).addClass("failed")},dataType:"json"}),n.preventDefault(),!1}}),t(".cms-content-batchactions-button").entwine({onmatch:function(){this._super(),this.updateTree()},onunmatch:function(){this._super()},onclick:function(e){this.updateTree()},updateTree:function(){var e=t(".cms-tree"),n=t("#Form_BatchActionsForm");this._super(),this.data("active")?(e.addClass("multiple"),e.removeClass("draggable"),n.serializeFromTree()):(e.removeClass("multiple"),e.addClass("draggable")),t("#Form_BatchActionsForm").refreshSelected()}}),t("#Form_BatchActionsForm select[name=Action]").entwine({onchange:function(e){t(e.target.form).find(":submit"),t(e.target).val(),t("#Form_BatchActionsForm").refreshSelected(),this.trigger("chosen:updated"),this._super(e)}})})}).call(t,n(26))},770:function(e,t,n){"use strict";var r=n(15);(function(e){return e&&e.__esModule?e:{default:e}})(r).default.entwine("ss",function(e){e(".cms-content").entwine({onadd:function(){this.find(".cms-tabset").redrawTabs(),this._super()},redraw:function(){window.debug&&console.log("redraw",this.attr("class"),this.get(0)),this.add(this.find(".cms-tabset")).redrawTabs(),this.find(".cms-content-header").redraw(),this.find(".cms-content-actions").redraw()}}),e(".cms-content .cms-tree").entwine({onadd:function(){var t=this;this._super(),this.bind("select_node.jstree",function(n,r){var o=r.rslt.obj,i=t.find(":input[name=ID]").val(),a=r.args[2],s=e(".cms-container");if(!a)return!1;if(e(o).hasClass("disabled"))return!1;if(e(o).data("id")!=i){var l=e(o).find("a:first").attr("href");l&&"#"!=l?(l=l.split("?")[0],t.jstree("deselect_all"),t.jstree("uncheck_all"),e.path.isExternal(e(o).find("a:first"))&&(l=l=e.path.makeUrlAbsolute(l,e("base").attr("href"))),document.location.search&&(l=e.path.addSearchParams(l,document.location.search.replace(/^\?/,""))),s.loadPanel(l)):t.removeForm()}})}}),e(".cms-content .cms-content-fields").entwine({redraw:function(){window.debug&&console.log("redraw",this.attr("class"),this.get(0))}}),e(".cms-content .cms-content-header, .cms-content .cms-content-actions").entwine({redraw:function(){window.debug&&console.log("redraw",this.attr("class"),this.get(0)),this.height("auto"),this.height(this.innerHeight()-this.css("padding-top")-this.css("padding-bottom"))}})})},771:function(e,t,n){"use strict";(function(e){function t(e){return e&&e.__esModule?e:{default:e}}var r=n(15),o=t(r),i=n(23),a=t(i),s=window.onbeforeunload;window.onbeforeunload=function(e){var t=(0,o.default)(".cms-edit-form");return t.trigger("beforesubmitform"),t.is(".changed")&&!t.is(".discardchanges")?a.default._t("Admin.CONFIRMUNSAVEDSHORT"):"function"==typeof s?s():void 0},o.default.entwine("ss",function(e){e(".cms-edit-form").entwine({PlaceholderHtml:"",ChangeTrackerOptions:{ignoreFieldSelector:".no-change-track, .ss-upload :input, .cms-navigator :input"},ValidationErrorShown:!1,onadd:function(){this.attr("autocomplete","off"),this._setupChangeTracker();for(var e in{action:!0,method:!0,enctype:!0,name:!0}){var t=this.find(":input[name=_form_"+e+"]");t&&(this.attr(e,t.val()),t.remove())}this.setValidationErrorShown(!1),this._super()},"from .cms-tabset":{onafterredrawtabs:function(){if(this.hasClass("validationerror")){var t=this.find(".message.validation, .message.required").first().closest(".tab");e(".cms-container").clearCurrentTabState();var n=t.closest(".ss-tabset");n.length||(n=t.closest(".cms-tabset")),n.length?n.tabs("option","active",t.index(".tab")):this.getValidationErrorShown()||(this.setValidationErrorShown(!0),l(ss.i18n._t("Admin.VALIDATIONERROR","Validation Error")))}}},onremove:function(){this.changetracker("destroy"),this._super()},onmatch:function(){this._super()},onunmatch:function(){this._super()},redraw:function(){window.debug&&console.log("redraw",this.attr("class"),this.get(0)),this.add(this.find(".cms-tabset")).redrawTabs(),this.find(".cms-content-header").redraw()},_setupChangeTracker:function(){this.changetracker(this.getChangeTrackerOptions())},confirmUnsavedChanges:function(){if(this.trigger("beforesubmitform"),!this.is(".changed")||this.is(".discardchanges"))return!0;if(this.find(".btn-toolbar :submit.btn--loading.loading").length>0)return!0;var e=confirm(a.default._t("Admin.CONFIRMUNSAVED"));return e&&this.addClass("discardchanges"),e},onsubmit:function(e,t){if("_blank"!=this.prop("target"))return t&&this.closest(".cms-container").submitForm(this,t),!1},validate:function(){return this.trigger("validate",{isValid:!0}),!0},"from .htmleditor":{oneditorinit:function(t){var n=this,r=e(t.target).closest(".field.htmleditor");r.find("textarea.htmleditor").getEditor().getInstance().onClick.add(function(e){n.saveFieldFocus(r.attr("id"))})}},"from .cms-edit-form :input:not(:submit)":{onclick:function(t){this.saveFieldFocus(e(t.target).attr("id"))},onfocus:function(t){this.saveFieldFocus(e(t.target).attr("id"))}},"from .cms-edit-form .treedropdown *":{onfocusin:function(t){var n=e(t.target).closest(".field.treedropdown");this.saveFieldFocus(n.attr("id"))}},"from .cms-edit-form .dropdown .chosen-container a":{onfocusin:function(t){var n=e(t.target).closest(".field.dropdown");this.saveFieldFocus(n.attr("id"))}},"from .cms-container":{ontabstaterestored:function(e){this.restoreFieldFocus()}},saveFieldFocus:function(t){if(void 0!==window.sessionStorage&&null!==window.sessionStorage){var n=e(this).attr("id"),r=[];if(r.push({id:n,selected:t}),r)try{window.sessionStorage.setItem(n,JSON.stringify(r))}catch(e){if(e.code===DOMException.QUOTA_EXCEEDED_ERR&&0===window.sessionStorage.length)return;throw e}}},restoreFieldFocus:function(){if(void 0!==window.sessionStorage&&null!==window.sessionStorage){var t,n,r,o,i,a=this,s=void 0!==window.sessionStorage&&window.sessionStorage,l=s?window.sessionStorage.getItem(this.attr("id")):null,u=!!l&&JSON.parse(l),c=0!==this.find(".ss-tabset").length;if(s&&u.length>0){if(e.each(u,function(n,r){a.is("#"+r.id)&&(t=e("#"+r.selected))}),e(t).length<1)return void this.focusFirstInput();if(n=e(t).closest(".ss-tabset").find(".ui-tabs-nav .ui-tabs-active .ui-tabs-anchor").attr("id"),r="tab-"+e(t).closest(".ss-tabset .ui-tabs-panel").attr("id"),c&&r!==n)return;o=e(t).closest(".togglecomposite"),o.length>0&&o.accordion("activate",o.find(".ui-accordion-header")),i=e(t).position().top,e(t).is(":visible")||(t="#"+e(t).closest(".field").attr("id"),i=e(t).position().top),e(t).focus(),i>e(window).height()/2&&a.find(".cms-content-fields").scrollTop(i)}else this.focusFirstInput()}},focusFirstInput:function(){this.find(':input:not(:submit)[data-skip-autofocus!="true"]').filter(":visible:first").focus()}}),e(".cms-edit-form .btn-toolbar input.action[type=submit], .cms-edit-form .btn-toolbar button.action").entwine({onclick:function(e){return this.is(":disabled")?(e.preventDefault(),!1):!1===this._super(e)||e.defaultPrevented||e.isDefaultPrevented()?void 0:(this.parents("form").trigger("submit",[this]),e.preventDefault(),!1)}}),e(".cms-edit-form .btn-toolbar input.action[type=submit].ss-ui-action-cancel, .cms-edit-form .btn-toolbar button.action.ss-ui-action-cancel").entwine({onclick:function(e){window.history.length>1?window.history.back():this.parents("form").trigger("submit",[this]),e.preventDefault()}}),e(".cms-edit-form .ss-tabset").entwine({onmatch:function(){if(!this.hasClass("ss-ui-action-tabset")){var e=this.find("> ul:first");1==e.children("li").length&&e.hide().parent().addClass("ss-tabset-tabshidden")}this._super()},onunmatch:function(){this._super()}}),e('.cms-edit-form [name="CanViewType"], .cms-edit-form [name="CanEditType"], .cms-edit-form #CanCreateTopLevelType').entwine({onmatch:function(){"OnlyTheseUsers"===this.val()&&(this.is(":checked")?this.showList(!0):this.hideList(!0))},onchange:function(e){"OnlyTheseUsers"===e.target.value?this.showList():this.hideList()},showList:function(e){var t=this.closest(".field"),n=t.next().filter(".listbox");t.addClass("field--merge-below"),n[e?"show":"slideDown"](function(){n.css("overflow","visible")})},hideList:function(e){var t=this.closest(".field");t.next().filter(".listbox")[e?"hide":"slideUp"](function(){t.removeClass("field--merge-below")}).css("overflow","hidden")}})});var l=function(t){e.noticeAdd({text:t,type:"error",stayTime:5e3,inEffect:{left:"0",opacity:"show"}})}}).call(t,n(26))},772:function(e,t,n){"use strict";var r=n(15);(function(e){return e&&e.__esModule?e:{default:e}})(r).default.entwine("ss",function(e){e(".cms-description-toggle").entwine({onadd:function(){var e=!1,t=this.prop("id").substr(0,this.prop("id").indexOf("_Holder")),n=this.find(".cms-description-trigger"),r=this.find(".description");this.hasClass("description-toggle-enabled")||(0===n.length&&(n=this.find(".middleColumn").first().after('<label class="right" for="'+t+'"><a class="cms-description-trigger" href="javascript:void(0)"><span class="btn-icon-information"></span></a></label>').next()),this.addClass("description-toggle-enabled"),n.on("click",function(){r[e?"hide":"show"](),e=!e}),r.hide())}})})},773:function(e,t,n){"use strict";var r=n(15);(function(e){return e&&e.__esModule?e:{default:e}})(r).default.entwine("ss",function(e){e(".cms .field.cms-description-tooltip").entwine({onmatch:function(){this._super();var e=this.find(".description");e.length&&(this.attr("title",e.text()).tooltip({content:e.html()}),e.remove())}}),e(".cms .field.cms-description-tooltip :input").entwine({onfocusin:function(e){this.closest(".field").tooltip("open")},onfocusout:function(e){this.closest(".field").tooltip("close")}})})},774:function(e,t,n){"use strict";var r=n(15);(function(e){return e&&e.__esModule?e:{default:e}})(r).default.entwine("ss",function(e){e(".cms-panel.cms-menu").entwine({togglePanel:function(t,n,r){e(".cms-menu-list").children("li").each(function(){t?e(this).children("ul").each(function(){e(this).removeClass("collapsed-flyout"),e(this).data("collapse")&&(e(this).removeData("collapse"),e(this).addClass("collapse"))}):e(this).children("ul").each(function(){e(this).addClass("collapsed-flyout"),e(this).hasClass("collapse"),e(this).removeClass("collapse"),e(this).data("collapse",!0)})}),this.toggleFlyoutState(t),this._super(t,n,r)},toggleFlyoutState:function(t){if(t)e(".collapsed").find("li").show(),e(".cms-menu-list").find(".child-flyout-indicator").hide();else{e(".collapsed-flyout").find("li").each(function(){e(this).hide()});var n=e(".cms-menu-list ul.collapsed-flyout").parent();0===n.children(".child-flyout-indicator").length&&n.append('<span class="child-flyout-indicator"></span>').fadeIn(),n.children(".child-flyout-indicator").fadeIn()}},siteTreePresent:function(){return e("#cms-content-tools-CMSMain").length>0},getPersistedStickyState:function(){var t,n;return void 0!==e.cookie&&void 0!==(n=e.cookie("cms-menu-sticky"))&&null!==n&&(t="true"===n),t},setPersistedStickyState:function(t){void 0!==e.cookie&&e.cookie("cms-menu-sticky",t,{path:"/",expires:31})},getEvaluatedCollapsedState:function(){var t=this.getPersistedCollapsedState(),n=e(".cms-menu").getPersistedStickyState(),r=this.siteTreePresent();return void 0===t?r:t!==r&&n?t:r},onadd:function(){var t=this;setTimeout(function(){t.togglePanel(!t.getEvaluatedCollapsedState(),!1,!1)},0),e(window).on("ajaxComplete",function(e){setTimeout(function(){t.togglePanel(!t.getEvaluatedCollapsedState(),!1,!1)},0)}),this._super()}}),e(".cms-menu-list").entwine({onmatch:function(){this.find("li.current").select(),this.updateItems(),this._super()},onunmatch:function(){this._super()},updateMenuFromResponse:function(e){var t=e.getResponseHeader("X-Controller");if(t){var n=this.find("li#Menu-"+t.replace(/\\/g,"-").replace(/[^a-zA-Z0-9\-_:.]+/,""));n.hasClass("current")||n.select()}this.updateItems()},"from .cms-container":{onafterstatechange:function(e,t){this.updateMenuFromResponse(t.xhr)},onaftersubmitform:function(e,t){this.updateMenuFromResponse(t.xhr)}},"from .cms-edit-form":{onrelodeditform:function(e,t){this.updateMenuFromResponse(t.xmlhttp)}},getContainingPanel:function(){return this.closest(".cms-panel")},fromContainingPanel:{ontoggle:function(t){this.toggleClass("collapsed",e(t.target).hasClass("collapsed")),e(".cms-container").trigger("windowresize"),this.hasClass("collapsed")&&this.find("li.children.opened").removeClass("opened"),this.hasClass("collapsed")||e(".toggle-children.opened").closest("li").addClass("opened")}},updateItems:function(){var t=this.find("#Menu-CMSMain");t[t.is(".current")?"show":"hide"]();var n=e(".cms-content input[name=ID]").val();n&&this.find("li").each(function(){e.isFunction(e(this).setRecordID)&&e(this).setRecordID(n)})}}),e(".cms-menu-list li").entwine({toggleFlyout:function(t){var n=e(this);if(n.children("ul").first().hasClass("collapsed-flyout"))if(t){if(!n.children("ul").first().children("li").first().hasClass("clone")){var r=n.clone();r.addClass("clone").css({}),r.children("ul").first().remove(),r.find("span").not(".text").remove(),r.find("a").first().unbind("click"),n.children("ul").prepend(r)}e(".collapsed-flyout").show(),n.addClass("opened"),n.children("ul").find("li").fadeIn("fast")}else r&&r.remove(),e(".collapsed-flyout").hide(),n.removeClass("opened"),n.find("toggle-children").removeClass("opened"),n.children("ul").find("li").hide()}}),e(".cms-menu-list li").hoverIntent(function(){e(this).toggleFlyout(!0)},function(){e(this).toggleFlyout(!1)}),e(".cms-menu-list .toggle").entwine({onclick:function(t){t.preventDefault(),e(this).toogleFlyout(!0)}}),e(".cms-menu-list li").entwine({onmatch:function(){this.find("ul").length&&this.find("a:first").append('<span class="toggle-children"><span class="toggle-children-icon"></span></span>'),this._super()},onunmatch:function(){this._super()},toggle:function(){this[this.hasClass("opened")?"close":"open"]()},open:function(){var e=this.getMenuItem();e&&e.open(),this.find("li.clone")&&this.find("li.clone").remove(),this.addClass("opened").find("ul").show(),this.find(".toggle-children").addClass("opened")},close:function(){this.removeClass("opened").find("ul").hide(),this.find(".toggle-children").removeClass("opened")},select:function(){var e=this.getMenuItem();if(this.addClass("current").open(),this.siblings().removeClass("current").close(),this.siblings().find("li").removeClass("current"),e){var t=e.siblings();e.addClass("current"),t.removeClass("current").close(),t.find("li").removeClass("current").close()}this.getMenu().updateItems(),this.trigger("select")}}),e(".cms-menu-list *").entwine({getMenu:function(){return this.parents(".cms-menu-list:first")}}),e(".cms-menu-list li *").entwine({getMenuItem:function(){return this.parents("li:first")}}),e(".cms-menu-list li a").entwine({onclick:function(t){var n=e.path.isExternal(this.attr("href"));if(!(t.which>1||n)&&"_blank"!=this.attr("target")){t.preventDefault();var r=this.getMenuItem(),o=this.attr("href");n||(o=e("base").attr("href")+o);var i=r.find("li");i.length?i.first().find("a").click():document.location.href=o,r.select()}}}),e(".cms-menu-list li .toggle-children").entwine({onclick:function(e){return this.closest("li").toggle(),!1}}),e(".cms .profile-link").entwine({onclick:function(){return e(".cms-container").loadPanel(this.attr("href")),e(".cms-menu-list li").removeClass("current").close(),!1}}),e(".cms-menu .sticky-toggle").entwine({onadd:function(){var t=!!e(".cms-menu").getPersistedStickyState();this.toggleCSS(t),this.toggleIndicator(t),this._super()},toggleCSS:function(e){this[e?"addClass":"removeClass"]("active")},toggleIndicator:function(e){this.next(".sticky-status-indicator").text(e?"fixed":"auto")},onclick:function(){var e=this.closest(".cms-menu"),t=e.getPersistedCollapsedState(),n=e.getPersistedStickyState(),r=void 0===n?!this.hasClass("active"):!n;void 0===t?e.setPersistedCollapsedState(e.hasClass("collapsed")):void 0!==t&&!1===r&&e.clearPersistedCollapsedState(),e.setPersistedStickyState(r),this.toggleCSS(r),this.toggleIndicator(r),this._super()}})})},775:function(e,t,n){"use strict";var r=n(15);(function(e){return e&&e.__esModule?e:{default:e}})(r).default.entwine("ss",function(e){e.entwine.warningLevel=e.entwine.WARN_LEVEL_BESTPRACTISE,e(".cms-panel").entwine({WidthExpanded:null,WidthCollapsed:null,canSetCookie:function(){return void 0!==e.cookie&&void 0!==this.attr("id")},getPersistedCollapsedState:function(){var t,n;return this.canSetCookie()&&void 0!==(n=e.cookie("cms-panel-collapsed-"+this.attr("id")))&&null!==n&&(t="true"===n),t},setPersistedCollapsedState:function(t){this.canSetCookie()&&e.cookie("cms-panel-collapsed-"+this.attr("id"),t,{path:"/",expires:31})},clearPersistedCollapsedState:function(){this.canSetCookie()&&e.cookie("cms-panel-collapsed-"+this.attr("id"),"",{path:"/",expires:-1})},getInitialCollapsedState:function(){var e=this.getPersistedCollapsedState();return void 0===e&&(e=this.hasClass("collapsed")),e},onadd:function(){var t,n;if(!this.find(".cms-panel-content").length)throw new Exception('Content panel for ".cms-panel" not found');this.find(".cms-panel-toggle").length||(n=e("<div class='toolbar toolbar--south cms-panel-toggle'></div>").append('<a class="toggle-expand" href="#" data-toggle="tooltip" title="'+i18n._t("Admin.EXPANDPANEL","Expand Panel")+'"><span>&raquo;</span></a>').append('<a class="toggle-collapse" href="#" data-toggle="tooltip" title="'+i18n._t("Admin.COLLAPSEPANEL","Collapse Panel")+'"><span>&laquo;</span></a>'),this.append(n)),this.setWidthExpanded(this.find(".cms-panel-content").innerWidth()),t=this.find(".cms-panel-content-collapsed"),this.setWidthCollapsed(t.length?t.innerWidth():this.find(".toggle-expand").innerWidth()),this.togglePanel(!this.getInitialCollapsedState(),!0,!1),this._super()},togglePanel:function(e,t,n){var r,o;t||(this.trigger("beforetoggle.sspanel",e),this.trigger(e?"beforeexpand":"beforecollapse")),this.toggleClass("collapsed",!e),r=e?this.getWidthExpanded():this.getWidthCollapsed(),this.width(r),o=this.find(".cms-panel-content-collapsed"),o.length&&(this.find(".cms-panel-content")[e?"show":"hide"](),this.find(".cms-panel-content-collapsed")[e?"hide":"show"]()),!1!==n&&this.setPersistedCollapsedState(!e),this.trigger("toggle",e),this.trigger(e?"expand":"collapse")},expandPanel:function(e){(e||this.hasClass("collapsed"))&&this.togglePanel(!0)},collapsePanel:function(e){!e&&this.hasClass("collapsed")||this.togglePanel(!1)}}),e(".cms-panel.collapsed .cms-panel-toggle").entwine({onclick:function(e){this.expandPanel(),e.preventDefault()}}),e(".cms-panel *").entwine({getPanel:function(){return this.parents(".cms-panel:first")}}),e(".cms-panel .toggle-expand").entwine({onclick:function(e){e.preventDefault(),e.stopPropagation(),this.getPanel().expandPanel(),this._super(e)}}),e(".cms-panel .toggle-collapse").entwine({onclick:function(e){e.preventDefault(),e.stopPropagation(),this.getPanel().collapsePanel(),this._super(e)}}),e(".cms-content-tools.collapsed").entwine({onclick:function(e){this.expandPanel(),this._super(e)}})})},776:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}var o=n(15),i=r(o),a=n(23),s=r(a);i.default.entwine("ss.preview",function(e){e(".cms-preview").entwine({AllowedStates:["StageLink","LiveLink","ArchiveLink"],CurrentStateName:null,CurrentSizeName:"auto",IsPreviewEnabled:!1,DefaultMode:"split",Sizes:{auto:{width:"100%",height:"100%"},mobile:{width:"335px",height:"568px"},mobileLandscape:{width:"583px",height:"320px"},tablet:{width:"783px",height:"1024px"},tabletLandscape:{width:"1039px",height:"768px"},desktop:{width:"1024px",height:"800px"}},changeState:function(t,n){var r=this,o=this._getNavigatorStates();return!1!==n&&e.each(o,function(e,n){r.saveState("state",t)}),this.setCurrentStateName(t),this._loadCurrentState(),this.redraw(),this},changeMode:function(t,n){var r=e(".cms-container").entwine(".ss");if("split"==t)r.splitViewMode(),this.setIsPreviewEnabled(!0),this._loadCurrentState();else if("content"==t)r.contentViewMode(),this.setIsPreviewEnabled(!1);else{if("preview"!=t)throw"Invalid mode: "+t;r.previewMode(),this.setIsPreviewEnabled(!0),this._loadCurrentState()}return!1!==n&&this.saveState("mode",t),this.redraw(),this},changeSize:function(e){return this.getSizes(),this.setCurrentSizeName(e),this.removeClass("auto desktop tablet mobile").addClass(e),this.saveState("size",e),this.redraw(),this},redraw:function(){window.debug&&console.log("redraw",this.attr("class"),this.get(0));var t=this.getCurrentStateName();t&&this.find(".cms-preview-states").changeVisibleState(t);var n=e(".cms-container").entwine(".ss").getLayoutOptions();return n&&e(".preview-mode-selector").changeVisibleMode(n.mode),this.getCurrentSizeName()&&this.find(".preview-size-selector").changeVisibleSize(this.getCurrentSizeName()),this},saveState:function(e,t){this._supportsLocalStorage()&&window.localStorage.setItem("cms-preview-state-"+e,t)},loadState:function(e){if(this._supportsLocalStorage())return window.localStorage.getItem("cms-preview-state-"+e)},disablePreview:function(){return this.setPendingURL(null),this._loadUrl("about:blank"),this._block(),this.changeMode("content",!1),this.setIsPreviewEnabled(!1),this},enablePreview:function(){return this.getIsPreviewEnabled()||(this.setIsPreviewEnabled(!0),e.browser.msie&&e.browser.version.slice(0,3)<=7?this.changeMode("content"):this.changeMode(this.getDefaultMode(),!1)),this},getOrAppendFontFixStyleElement:function(){var t=e("#FontFixStyleElement");return t.length||(t=e('<style type="text/css" id="FontFixStyleElement" disabled="disabled">:before,:after{content:none !important}</style>').appendTo("head")),t},onadd:function(){var t=this,n=this.find("iframe");n.addClass("center"),n.bind("load",function(){t._adjustIframeForPreview(),t._loadCurrentPage(),e(this).removeClass("loading")}),e.browser.msie&&8===parseInt(e.browser.version,10)&&n.bind("readystatechange",function(e){"interactive"==n[0].readyState&&(t.getOrAppendFontFixStyleElement().removeAttr("disabled"),setTimeout(function(){t.getOrAppendFontFixStyleElement().attr("disabled","disabled")},0))}),this._unblock(),this.disablePreview(),this._super()},_supportsLocalStorage:function(){var e,t,n=new Date;try{return(e=window.localStorage).setItem(n,n),t=e.getItem(n)==n,e.removeItem(n),t&&e}catch(e){console.warn("localStorge is not available due to current browser / system settings.")}},onforcecontent:function(){this.changeMode("content",!1)},onenable:function(){var t=e(".preview-mode-selector");t.removeClass("split-disabled"),t.find(".disabled-tooltip").hide()},ondisable:function(){var t=e(".preview-mode-selector");t.addClass("split-disabled"),t.find(".disabled-tooltip").show()},_block:function(){return this.find(".preview-note").show(),this.find(".cms-preview-overlay").show(),this},_unblock:function(){return this.find(".preview-note").hide(),this.find(".cms-preview-overlay").hide(),this},_initialiseFromContent:function(){var t,n;return e(".cms-previewable").length?(t=this.loadState("mode"),n=this.loadState("size"),this._moveNavigator(),t&&"content"==t||(this.enablePreview(),this._loadCurrentState()),this.redraw(),t&&this.changeMode(t),n&&this.changeSize(n)):this.disablePreview(),this},"from .cms-container":{onafterstatechange:function(e,t){t.xhr.getResponseHeader("X-ControllerURL")||this._initialiseFromContent()}},PendingURL:null,oncolumnvisibilitychanged:function(){var e=this.getPendingURL();e&&!this.is(".column-hidden")&&(this.setPendingURL(null),this._loadUrl(e),this._unblock())},"from .cms-container .cms-edit-form":{onaftersubmitform:function(){this._initialiseFromContent()}},_loadUrl:function(e){return this.find("iframe").addClass("loading").attr("src",e),this},_getNavigatorStates:function(){return e.map(this.getAllowedStates(),function(t){var n=e(".cms-preview-states .state-name[data-name="+t+"]");return n.length?{name:t,url:n.attr("href"),active:n.hasClass("active")}:null})},_loadCurrentState:function(){if(!this.getIsPreviewEnabled())return this;var t=this._getNavigatorStates(),n=this.getCurrentStateName(),r=null;t&&(r=e.grep(t,function(e,t){return n===e.name||!n&&e.active}));var o=null;return r[0]?o=r[0].url:t.length?(this.setCurrentStateName(t[0].name),o=t[0].url):this.setCurrentStateName(null),o&&(o+=(-1===o.indexOf("?")?"?":"&")+"CMSPreview=1"),this.is(".column-hidden")?(this.setPendingURL(o),this._loadUrl("about:blank"),this._block()):(this.setPendingURL(null),o?(this._loadUrl(o),this._unblock()):this._block()),this},_moveNavigator:function(){var t=e(".cms-preview .cms-preview-controls");e(".cms-edit-form .cms-navigator").length&&t.length?t.html(e(".cms-edit-form .cms-navigator").detach()):this._block()},_loadCurrentPage:function(){if(this.getIsPreviewEnabled()){var t;e(".cms-container");try{t=this.find("iframe")[0].contentDocument}catch(e){console.warn("Unable to access iframe, possible https mis-match")}if(t){var n=e(t).find("meta[name=x-page-id]").attr("content"),r=e(t).find("meta[name=x-cms-edit-link]").attr("content"),o=e(".cms-content");n&&o.find(":input[name=ID]").val()!=n&&e(".cms-container").entwine(".ss").loadPanel(r)}}},_adjustIframeForPreview:function(){var e,t=this.find("iframe")[0];if(t){try{e=t.contentDocument}catch(e){console.warn("Unable to access iframe, possible https mis-match")}if(e){for(var n=e.getElementsByTagName("A"),r=0;r<n.length;r++){var o=n[r].getAttribute("href");o&&o.match(/^http:\/\//)&&n[r].setAttribute("target","_blank")}var i=e.getElementById("SilverStripeNavigator");i&&(i.style.display="none");var a=e.getElementById("SilverStripeNavigatorMessage");a&&(a.style.display="none"),this.trigger("afterIframeAdjustedForPreview",[e])}}}}),e(".cms-edit-form").entwine({onadd:function(){this._super(),e(".cms-preview")._initialiseFromContent()}}),e(".cms-preview-states").entwine({changeVisibleState:function(e){this.find('[data-name="'+e+'"]').addClass("active").siblings().removeClass("active")}}),e(".cms-preview-states .state-name").entwine({onclick:function(t){if(1==t.which){var n=e(this).attr("data-name");this.addClass("active").siblings().removeClass("active"),e(".cms-preview").changeState(n),t.preventDefault()}}}),e(".preview-mode-selector").entwine({changeVisibleMode:function(e){this.find("select").val(e).trigger("chosen:updated")._addIcon()}}),e(".preview-mode-selector select").entwine({onchange:function(t){this._super(t),t.preventDefault();var n=e(this).val();e(".cms-preview").changeMode(n)}}),e(".cms-container--content-mode").entwine({onmatch:function(){e(".cms-preview .result-selected").hasClass("font-icon-columns")&&statusMessage(s.default._t("Admin.DISABLESPLITVIEW","Screen too small to show site preview in split mode"),"error"),this._super()}}),e(".preview-size-selector").entwine({changeVisibleSize:function(e){this.find("select").val(e).trigger("chosen:updated")._addIcon()}}),e(".preview-size-selector select").entwine({onchange:function(t){t.preventDefault();var n=e(this).val();e(".cms-preview").changeSize(n)}}),e(".preview-selector select.preview-dropdown").entwine({"onchosen:ready":function(){this._super(),this._addIcon()},_addIcon:function(){var e=this.find(":selected"),t=e.attr("data-icon"),n=this.parent().find(".chosen-container a.chosen-single"),r=n.attr("data-icon");return void 0!==r&&n.removeClass(r),n.addClass(t),n.attr("data-icon",t),this}}),e(".preview-mode-selector .chosen-drop li:last-child").entwine({onmatch:function(){e(".preview-mode-selector").hasClass("split-disabled")?this.parent().append('<div class="disabled-tooltip"></div>'):this.parent().append('<div class="disabled-tooltip" style="display: none;"></div>')}}),e(".preview-device-outer").entwine({onclick:function(){this.parent(".preview__device").toggleClass("rotate")}})})},777:function(e,t,n){"use strict";var r=n(15);(function(e){return e&&e.__esModule?e:{default:e}})(r).default.entwine("ss.tree",function(e){e(".cms-tree").entwine({Hints:null,IsUpdatingTree:!1,IsLoaded:!1,onadd:function(){if(this._super(),!e.isNumeric(this.data("jstree_instance_id"))){var t=this.attr("data-hints");t&&this.setHints(e.parseJSON(t));var n=this;this.jstree(this.getTreeConfig()).bind("loaded.jstree",function(t,r){n.setIsLoaded(!0),r.inst._set_settings({html_data:{ajax:{url:n.data("urlTree"),data:function(t){var r=n.data("searchparams")||[];return r=e.grep(r,function(e,t){return"ID"!=e.name&&"value"!=e.name}),r.push({name:"ID",value:e(t).data("id")?e(t).data("id"):0}),r.push({name:"ajax",value:1}),r}}}}),n.updateFromEditForm(),n.css("visibility","visible"),r.inst.hide_checkboxes()}).bind("before.jstree",function(t,r){if("start_drag"==r.func&&(!n.hasClass("draggable")||n.hasClass("multiselect")))return t.stopImmediatePropagation(),!1;if(e.inArray(r.func,["check_node","uncheck_node"])){var o=e(r.args[0]).parents("li:first"),i=o.find("li:not(.disabled)");if(o.hasClass("disabled")&&0==i)return t.stopImmediatePropagation(),!1}}).bind("move_node.jstree",function(t,r){if(!n.getIsUpdatingTree()){var o=r.rslt.o,i=r.rslt.np,a=(r.inst._get_parent(o),e(i).data("id")||0),s=e(o).data("id"),l=e.map(e(o).siblings().andSelf(),function(t){return e(t).data("id")});e.ajax({url:e.path.addSearchParams(n.data("urlSavetreenode"),n.data("extraParams")),type:"POST",data:{ID:s,ParentID:a,SiblingIDs:l},success:function(){e(".cms-edit-form :input[name=ID]").val()==s&&e(".cms-edit-form :input[name=ParentID]").val(a),n.updateNodesFromServer([s])},statusCode:{403:function(){e.jstree.rollback(r.rlbk)}}})}}).bind("select_node.jstree check_node.jstree uncheck_node.jstree",function(t,n){e(document).triggerHandler(t,n)})}},onremove:function(){this.jstree("destroy"),this._super()},"from .cms-container":{onafterstatechange:function(e){this.updateFromEditForm()}},"from .cms-container form":{onaftersubmitform:function(t){var n=e(".cms-edit-form :input[name=ID]").val();this.updateNodesFromServer([n])}},getTreeConfig:function(){var t=this;return{core:{initially_open:["record-0"],animation:0,html_titles:!0},html_data:{},ui:{select_limit:1,initially_select:[this.find(".current").attr("id")]},crrm:{move:{check_move:function(n){var r=e(n.o),o=e(n.np),i=n.ot.get_container()[0]==n.np[0],a=r.getClassname(),s=o.getClassname(),l=t.getHints(),u=[],c=s||"Root",d=l&&void 0!==l[c]?l[c]:null;return d&&r.attr("class").match(/VirtualPage-([^\s]*)/)&&(a=RegExp.$1),d&&(u=void 0!==d.disallowedChildren?d.disallowedChildren:[]),!(0===r.data("id")||r.hasClass("status-archived")||i&&"inside"!=n.p||o.hasClass("nochildren")||u.length&&-1!=e.inArray(a,u))}}},dnd:{drop_target:!1,drag_target:!1},checkbox:{two_state:!0},themes:{theme:"apple",url:e("body").data("frameworkpath")+"/admin/thirdparty/jstree/themes/apple/style.css"},plugins:["html_data","ui","dnd","crrm","themes","checkbox"]}},search:function(e,t){e?this.data("searchparams",e):this.removeData("searchparams"),this.jstree("refresh",-1,t)},getNodeByID:function(e){return this.find("*[data-id="+e+"]")},createNode:function(t,n,r){var o=this,i=void 0!==n.ParentID&&o.getNodeByID(n.ParentID),a=e(t),s={data:""};a.hasClass("jstree-open")?s.state="open":a.hasClass("jstree-closed")&&(s.state="closed"),this.jstree("create_node",i.length?i:-1,"last",s,function(e){for(var t=e.attr("class"),n=0;n<a[0].attributes.length;n++){var o=a[0].attributes[n];e.attr(o.name,o.value)}e.addClass(t).html(a.html()),r(e)})},updateNode:function(t,n,r){var o=e(n),i=!!r.NextID&&this.getNodeByID(r.NextID),a=!!r.PrevID&&this.getNodeByID(r.PrevID),s=!!r.ParentID&&this.getNodeByID(r.ParentID);e.each(["id","style","class","data-pagetype"],function(e,n){t.attr(n,o.attr(n))});var l=t.children("ul").detach();t.html(o.html()).append(l),i&&i.length?this.jstree("move_node",t,i,"before"):a&&a.length?this.jstree("move_node",t,a,"after"):this.jstree("move_node",t,s.length?s:-1)},updateFromEditForm:function(){var t,n=e(".cms-edit-form :input[name=ID]").val();n?(t=this.getNodeByID(n),t.length?(this.jstree("deselect_all"),this.jstree("select_node",t)):this.updateNodesFromServer([n])):this.jstree("deselect_all")},updateNodesFromServer:function(t){if(!this.getIsUpdatingTree()&&this.getIsLoaded()){var n=this,r=!1;this.setIsUpdatingTree(!0),n.jstree("save_selected");var o=function(e){n.getNodeByID(e.data("id")).not(e).remove(),n.jstree("deselect_all"),n.jstree("select_node",e)};n.jstree("open_node",this.getNodeByID(0)),n.jstree("save_opened"),n.jstree("save_selected"),e.ajax({url:e.path.addSearchParams(this.data("urlUpdatetreenodes"),"ids="+t.join(",")),dataType:"json",success:function(t,i){e.each(t,function(e,t){var i=n.getNodeByID(e);if(!t)return void n.jstree("delete_node",i);i.length?(n.updateNode(i,t.html,t),setTimeout(function(){o(i)},500)):(r=!0,t.ParentID&&!n.find("li[data-id="+t.ParentID+"]").length?n.jstree("load_node",-1,function(){newNode=n.find("li[data-id="+e+"]"),o(newNode)}):n.createNode(t.html,t,function(e){o(e)}))}),r||(n.jstree("deselect_all"),n.jstree("reselect"),n.jstree("reopen"))},complete:function(){n.setIsUpdatingTree(!1)}})}}}),e(".cms-tree.multiple").entwine({onmatch:function(){this._super(),this.jstree("show_checkboxes")},onunmatch:function(){this._super(),this.jstree("uncheck_all"),this.jstree("hide_checkboxes")},getSelectedIDs:function(){return e(this).jstree("get_checked").not(".disabled").map(function(){return e(this).data("id")}).get()}}),e(".cms-tree li").entwine({setEnabled:function(e){this.toggleClass("disabled",!e)},getClassname:function(){var e=this.attr("class").match(/class-([^\s]*)/i);return e?e[1]:""},getID:function(){return this.data("id")}})})},778:function(e,t,n){"use strict";var r=n(15);(function(e){return e&&e.__esModule?e:{default:e}})(r).default.entwine("ss",function(e){e(".TreeDropdownField").entwine({"from .cms-container form":{onaftersubmitform:function(e){this.find(".tree-holder").empty(),this._super()}}})})},779:function(e,t,n){"use strict";var r=n(15),o=function(e){return e&&e.__esModule?e:{default:e}}(r);n(245),o.default.entwine("ss",function(e){e(".cms-content-tools #Form_SearchForm").entwine({onsubmit:function(e){this.trigger("beforeSubmit")}}),e(".importSpec").entwine({onmatch:function(){this.find("div.details").hide(),this.find("a.detailsLink").click(function(){return e("#"+e(this).attr("href").replace(/.*#/,"")).slideToggle(),!1}),this._super()},onunmatch:function(){this._super()}})})},780:function(e,t,n){"use strict";var r=n(15),o=function(e){return e&&e.__esModule?e:{default:e}}(r);n(245),n(907);var i=function(e){var t=(0,o.default)((0,o.default)(this).contents()).find(".message");if(t&&t.html()){var n=(0,o.default)(window.parent.document).find("#Form_EditForm_Members").get(0);n&&n.refresh();var r=(0,o.default)(window.parent.document).find(".cms-tree").get(0);r&&r.reload()}};(0,o.default)("#MemberImportFormIframe, #GroupImportFormIframe").entwine({onadd:function(){this._super(),(0,o.default)(this).bind("load",i)}}),o.default.entwine("ss",function(e){e(".permissioncheckboxset .checkbox[value=ADMIN]").entwine({onmatch:function(){this.toggleCheckboxes(),this._super()},onunmatch:function(){this._super()},onclick:function(e){this.toggleCheckboxes()},toggleCheckboxes:function(){var t=this.parents(".field:eq(0)").find(".checkbox").not(this);this.is(":checked")?t.each(function(){e(this).data("SecurityAdmin.oldChecked",e(this).is(":checked")),e(this).data("SecurityAdmin.oldDisabled",e(this).is(":disabled")),e(this).prop("disabled",!0),e(this).prop("checked",!0)}):t.each(function(){e(this).prop("checked",e(this).data("SecurityAdmin.oldChecked")),e(this).prop("disabled",e(this).data("SecurityAdmin.oldDisabled"))})}})})},781:function(e,t,n){"use strict";var r=n(15),o=function(e){return e&&e.__esModule?e:{default:e}}(r);(0,o.default)(document).ready(function(){(0,o.default)("ul.SelectionGroup input.selector, ul.selection-group input.selector").live("click",function(){var e=(0,o.default)(this).closest("li");e.addClass("selected");var t=e.prevAll("li.selected");t.length&&t.removeClass("selected");var n=e.nextAll("li.selected");n.length&&n.removeClass("selected"),(0,o.default)(this).focus()})})},782:function(e,t,n){"use strict";var r=n(15),o=function(e){return e&&e.__esModule?e:{default:e}}(r);n(151),n(391),n(122),o.default.entwine("ss",function(e){e(".ss-tabset").entwine({IgnoreTabState:!1,onadd:function(){var e=window.location.hash;this.redrawTabs(),""!==e&&this.openTabFromURL(e),this._super()},onremove:function(){this.data("tabs")&&this.tabs("destroy"),this._super()},redrawTabs:function(){this.rewriteHashlinks(),this.tabs()},openTabFromURL:function(t){var n;e.each(this.find(".ui-tabs-anchor"),function(){if(-1!==this.href.indexOf(t)&&1===e(t).length)return n=e(this),!1}),void 0!==n&&e(document).ready("ajaxComplete",function(){n.click()})},rewriteHashlinks:function(){e(this).find("ul a").each(function(){if(e(this).attr("href")){var t=e(this).attr("href").match(/#.*/);t&&e(this).attr("href",document.location.href.replace(/#.*/,"")+t[0])}})}}),e(".ui-tabs-active .ui-tabs-anchor").entwine({onmatch:function(){this.addClass("nav-link active")},onunmatch:function(){this.removeClass("active")}})})},783:function(e,t,n){"use strict";var r=n(15),o=function(e){return e&&e.__esModule?e:{default:e}}(r);n(151),o.default.entwine("ss",function(e){e(".ss-toggle").entwine({onadd:function(){this._super(),this.accordion({heightStyle:"content",collapsible:!0,active:!this.hasClass("ss-toggle-start-closed")&&0})},onremove:function(){this.data("accordion")&&this.accordion("destroy"),this._super()},getTabSet:function(){return this.closest(".ss-tabset")},fromTabSet:{ontabsshow:function(){this.accordion("resize")}}})})},784:function(e,t,n){"use strict";(function(e){function t(e){return e&&e.__esModule?e:{default:e}}var r=n(15),o=t(r),i=n(23),a=t(i);n(122),n(392),o.default.entwine("ss",function(t){var n,r;t(window).bind("resize.treedropdownfield",function(){var e=function(){t(".TreeDropdownField").closePanel()};if(t.browser.msie&&parseInt(t.browser.version,10)<9){var o=t(window).width(),i=t(window).height();o==n&&i==r||(n=o,r=i,e())}else e()});var o={openlink:a.default._t("TreeDropdownField.OpenLink"),fieldTitle:"("+a.default._t("TreeDropdownField.FieldTitle")+")",searchFieldTitle:"("+a.default._t("TreeDropdownField.SearchFieldTitle")+")"},i=function(e){t(e.target).parents(".TreeDropdownField").length||t(".TreeDropdownField").closePanel()};t(".TreeDropdownField").entwine({CurrentXhr:null,onadd:function(){this.append('<span class="treedropdownfield-title"></span><div class="treedropdownfield-toggle-panel-link"><a href="#" class="ui-icon ui-icon-triangle-1-s"></a></div><div class="treedropdownfield-panel"><div class="tree-holder"></div></div>');var e=o.openLink;e&&this.find("treedropdownfield-toggle-panel-link a").attr("title",e),this.data("title")&&this.setTitle(this.data("title")),this.getPanel().hide(),this._super()},getPanel:function(){return this.find(".treedropdownfield-panel")},openPanel:function(){t(".TreeDropdownField").closePanel(),t("body").bind("click",i);var e=this.getPanel(),n=this.find(".tree-holder");e.css("width",this.width()),e.show();var r=this.find(".treedropdownfield-toggle-panel-link");r.addClass("treedropdownfield-open-tree"),this.addClass("treedropdownfield-open-tree"),r.find("a").removeClass("ui-icon-triangle-1-s").addClass("ui-icon-triangle-1-n"),n.is(":empty")&&!e.hasClass("loading")?this.loadTree(null,this._riseUp):this._riseUp(),this.trigger("panelshow")},_riseUp:function(){var e,n,r,o=this,i=this.getPanel(),a=this.find(".treedropdownfield-toggle-panel-link"),s=a.innerHeight();a.length>0&&(r=t(window).height()+t(document).scrollTop()-a.innerHeight(),n=a.offset().top,e=i.innerHeight(),n+e>r&&n-e>0?(o.addClass("treedropdownfield-with-rise"),s=-i.outerHeight()):o.removeClass("treedropdownfield-with-rise")),i.css({top:s+"px"})},closePanel:function(){e("body").unbind("click",i);var t=this.find(".treedropdownfield-toggle-panel-link");t.removeClass("treedropdownfield-open-tree"),this.removeClass("treedropdownfield-open-tree treedropdownfield-with-rise"),t.find("a").removeClass("ui-icon-triangle-1-n").addClass("ui-icon-triangle-1-s"),this.getPanel().hide(),this.trigger("panelhide")},togglePanel:function(){this[this.getPanel().is(":visible")?"closePanel":"openPanel"]()},setTitle:function(e){e=e||this.data("title")||o.fieldTitle,this.find(".treedropdownfield-title").html(e),this.data("title",e)},getTitle:function(){return this.find(".treedropdownfield-title").text()},updateTitle:function(){var e=this,t=e.find(".tree-holder"),n=this.getValue(),r=function(){var n=e.getValue();if(n){var r=t.find('*[data-id="'+n+'"]'),o=r.children("a").find("span.jstree_pageicon")?r.children("a").find("span.item").html():null;o||(o=r.length>0?t.jstree("get_text",r[0]):null),o&&(e.setTitle(o),e.data("title",o)),r&&t.jstree("select_node",r)}else e.setTitle(e.data("empty-title")),e.removeData("title")};t.is(":empty")&&n?this.loadTree({forceValue:n},r):r()},setValue:function(e){this.data("metadata",t.extend(this.data("metadata"),{id:e})),this.find(":input:hidden").val(e).trigger("valueupdated").trigger("change")},getValue:function(){return this.find(":input:hidden").val()},loadTree:function(e,n){var r,o=this,i=this.getPanel(),a=t(i).find(".tree-holder"),e=e?t.extend({},this.getRequestParams(),e):this.getRequestParams();this.getCurrentXhr()&&this.getCurrentXhr().abort(),i.addClass("loading"),r=t.ajax({url:this.data("urlTree"),data:e,complete:function(e,t){i.removeClass("loading")},success:function(e,r,i){a.html(e);var s=!0;a.jstree("destroy").bind("loaded.jstree",function(e,t){var r=o.getValue(),i=a.find('*[data-id="'+r+'"]'),l=t.inst.get_selected();r&&i!=l&&t.inst.select_node(i),s=!1,n&&n.apply(o)}).jstree(o.getTreeConfig()).bind("select_node.jstree",function(e,n){var r=n.rslt.obj,i=t(r).data("id");s||o.getValue()!=i?(o.data("metadata",t.extend({id:i},t(r).getMetaData())),o.setTitle(n.inst.get_text(r)),o.setValue(i)):(o.data("metadata",null),o.setTitle(null),o.setValue(null),n.inst.deselect_node(r)),s||o.closePanel(),s=!1}),o.setCurrentXhr(null)}}),this.setCurrentXhr(r)},getTreeConfig:function(){var e=this;return{core:{html_titles:!0,animation:0},html_data:{data:this.getPanel().find(".tree-holder").html(),ajax:{url:function(n){return t.path.parseUrl(e.data("urlTree")).hrefNoSearch+"/"+(t(n).data("id")?t(n).data("id"):0)},data:function(n){var r=t.query.load(e.data("urlTree")).keys,o=e.getRequestParams();return o=t.extend({},r,o,{ajax:1})}}},ui:{select_limit:1,initially_select:[this.getPanel().find(".current").attr("id")]},themes:{theme:"apple"},types:{types:{default:{check_node:function(e){return!e.hasClass("disabled")},uncheck_node:function(e){return!e.hasClass("disabled")},select_node:function(e){return!e.hasClass("disabled")},deselect_node:function(e){return!e.hasClass("disabled")}}}},plugins:["html_data","ui","themes","types"]}},getRequestParams:function(){return{}}}),t(".TreeDropdownField .tree-holder li").entwine({getMetaData:function(){var e=this.attr("class").match(/class-([^\s]*)/i);return{ClassName:e?e[1]:""}}}),t(".TreeDropdownField *").entwine({getField:function(){return this.parents(".TreeDropdownField:first")}}),t(".TreeDropdownField").entwine({onclick:function(e){return this.togglePanel(),!1}}),t(".TreeDropdownField .treedropdownfield-panel").entwine({onclick:function(e){return!1}}),t(".TreeDropdownField.searchable").entwine({onadd:function(){this._super();var e=a.default._t("TreeDropdownField.ENTERTOSEARCH");this.find(".treedropdownfield-panel").prepend(t('<input type="text" class="search treedropdownfield-search" data-skip-autofocus="true" placeholder="'+e+'" value="" />'))},search:function(e,t){this.openPanel(),this.loadTree({search:e},t)},cancelSearch:function(){this.closePanel(),this.loadTree()}}),t(".TreeDropdownField.searchable input.search").entwine({onkeydown:function(e){var t=this.getField();if(13==e.keyCode)return t.search(this.val()),!1;27==e.keyCode&&t.cancelSearch()}}),t(".TreeDropdownField.multiple").entwine({getTreeConfig:function(){var e=this._super();return e.checkbox={override_ui:!0,two_state:!0},e.plugins.push("checkbox"),e.ui.select_limit=-1,e},loadTree:function(e,n){var r,o=this,i=this.getPanel(),a=t(i).find(".tree-holder"),e=e?t.extend({},this.getRequestParams(),e):this.getRequestParams();this.getCurrentXhr()&&this.getCurrentXhr().abort(),i.addClass("loading"),r=t.ajax({url:this.data("urlTree"),data:e,complete:function(e,t){i.removeClass("loading")},success:function(e,r,i){a.html(e);var s=!0;o.setCurrentXhr(null),a.jstree("destroy").bind("loaded.jstree",function(e,r){t.each(o.getValue(),function(e,t){r.inst.check_node(a.find("*[data-id="+t+"]"))}),s=!1,n&&n.apply(o)}).jstree(o.getTreeConfig()).bind("uncheck_node.jstree check_node.jstree",function(e,n){var r=n.inst.get_checked(null,!0);o.setValue(t.map(r,function(e,n){return t(e).data("id")})),o.setTitle(t.map(r,function(e,t){return n.inst.get_text(e)})),o.data("metadata",t.map(r,function(e,n){return{id:t(e).data("id"),metadata:t(e).getMetaData()}}))})}}),this.setCurrentXhr(r)},getValue:function(){return this._super().split(/ *, */)},setValue:function(e){this._super(t.isArray(e)?e.join(","):e)},setTitle:function(e){this._super(t.isArray(e)?e.join(", "):e)},updateTitle:function(){}}),t(".TreeDropdownField input[type=hidden]").entwine({onadd:function(){this._super(),this.bind("change.TreeDropdownField",function(){t(this).getField().updateTitle()})},onremove:function(){this._super(),this.unbind(".TreeDropdownField")}})})}).call(t,n(26))},785:function(e,t,n){"use strict";var r=n(15),o=function(e){return e&&e.__esModule?e:{default:e}}(r),i=((0,o.default)(window),(0,o.default)("html"),(0,o.default)("head"),{urlParseRE:/^(((([^:\/#\?]+:)?(?:(\/\/)((?:(([^:@\/#\?]+)(?:\:([^:@\/#\?]+))?)@)?(([^:\/#\?\]\[]+|\[[^\/\]@#?]+\])(?:\:([0-9]+))?))?)?)?((\/?(?:[^\/\?#]+\/+)*)([^\?#]*)))?(\?[^#]+)?)(#.*)?/,parseUrl:function(e){if("object"===o.default.type(e))return e;var t=i.urlParseRE.exec(e||"")||[];return{href:t[0]||"",hrefNoHash:t[1]||"",hrefNoSearch:t[2]||"",domain:t[3]||"",protocol:t[4]||"",doubleSlash:t[5]||"",authority:t[6]||"",username:t[8]||"",password:t[9]||"",host:t[10]||"",hostname:t[11]||"",port:t[12]||"",pathname:t[13]||"",directory:t[14]||"",filename:t[15]||"",search:t[16]||"",hash:t[17]||""}},makePathAbsolute:function(e,t){if(e&&"/"===e.charAt(0))return e;e=e||"",t=t?t.replace(/^\/|(\/[^\/]*|[^\/]+)$/g,""):"";for(var n=t?t.split("/"):[],r=e.split("/"),o=0;o<r.length;o++){var i=r[o];switch(i){case".":break;case"..":n.length&&n.pop();break;default:n.push(i)}}return"/"+n.join("/")},isSameDomain:function(e,t){return i.parseUrl(e).domain===i.parseUrl(t).domain},isRelativeUrl:function(e){return""===i.parseUrl(e).protocol},isAbsoluteUrl:function(e){return""!==i.parseUrl(e).protocol},makeUrlAbsolute:function(e,t){if(!i.isRelativeUrl(e))return e;var n=i.parseUrl(e),r=i.parseUrl(t),o=n.protocol||r.protocol,a=n.protocol?n.doubleSlash:n.doubleSlash||r.doubleSlash,s=n.authority||r.authority,l=""!==n.pathname;return o+a+s+i.makePathAbsolute(n.pathname||r.filename,r.pathname)+(n.search||!l&&r.search||"")+n.hash},addSearchParams:function(e,t){var n=i.parseUrl(e),t="string"==typeof t?i.convertSearchToArray(t):t,r=o.default.extend(i.convertSearchToArray(n.search),t);return n.hrefNoSearch+"?"+o.default.param(r)+(n.hash||"")},getSearchParams:function(e){var t=i.parseUrl(e);return i.convertSearchToArray(t.search)},convertSearchToArray:function(e){var t,n,r,o={};for(e=e.replace(/^\?/,""),t=e?e.split("&"):[],n=0;n<t.length;n++)r=t[n].split("="),o[decodeURIComponent(r[0])]=decodeURIComponent(r[1]);return o},convertUrlToDataUrl:function(e){var t=i.parseUrl(e);return i.isEmbeddedPage(t)?t.hash.split(dialogHashKey)[0].replace(/^#/,""):i.isSameDomain(t,document)?t.hrefNoHash.replace(document.domain,""):e},get:function(e){return void 0===e&&(e=location.hash),i.stripHash(e).replace(/[^\/]*\.[^\/*]+$/,"")},getFilePath:function(e){var t="&"+o.default.mobile.subPageUrlKey;return e&&e.split(t)[0].split(dialogHashKey)[0]},set:function(e){location.hash=e},isPath:function(e){return/\//.test(e)},clean:function(e){return e.replace(document.domain,"")},stripHash:function(e){return e.replace(/^#/,"")},cleanHash:function(e){return i.stripHash(e.replace(/\?.*$/,"").replace(dialogHashKey,""))},isExternal:function(e){var t=i.parseUrl(e);return!(!t.protocol||t.domain===document.domain)},hasProtocol:function(e){return/^(:?\w+:)/.test(e)}});o.default.path=i},796:function(e,t,n){(function(t){e.exports=t.Accordion=n(923)}).call(t,n(3))},797:function(e,t,n){(function(t){e.exports=t.AccordionBlock=n(924)}).call(t,n(3))},799:function(e,t,n){(function(t){e.exports=t.Backend=n(954)}).call(t,n(3))},800:function(e,t,n){(function(t){e.exports=t.Badge=n(925)}).call(t,n(3))},802:function(e,t,n){(function(t){e.exports=t.Breadcrumb=n(926)}).call(t,n(3))},803:function(e,t,n){(function(t){e.exports=t.BreadcrumbsActions=n(967)}).call(t,n(3))},804:function(e,t,n){(function(t){e.exports=t.Config=n(955)}).call(t,n(3))},805:function(e,t,n){(function(t){e.exports=t.DataFormat=n(956)}).call(t,n(3))},807:function(e,t,n){(function(t){e.exports=t.FieldHolder=n(927)}).call(t,n(3))},808:function(e,t,n){(function(t){e.exports=t.FileSchemaModalHandler=n(952)}).call(t,n(3))},809:function(e,t,n){(function(t){e.exports=t.Form=n(928)}).call(t,n(3))},810:function(e,t,n){(function(t){e.exports=t.FormAction=n(930)}).call(t,n(3))},811:function(e,t,n){(function(t){e.exports=t.FormAlert=n(931)}).call(t,n(3))},812:function(e,t,n){(function(t){e.exports=t.FormBuilder=n(932)}).call(t,n(3))},813:function(e,t,n){(function(t){e.exports=t.FormBuilderLoader=n(950)}).call(t,n(3))},814:function(e,t,n){(function(t){e.exports=t.FormBuilderModal=n(933)}).call(t,n(3))},815:function(e,t,n){(function(t){e.exports=t.FormConstants=n(929)}).call(t,n(3))},818:function(e,t,n){(function(t){e.exports=t.GridField=n(934)}).call(t,n(3))},819:function(e,t,n){(function(t){e.exports=t.GridFieldCell=n(935)}).call(t,n(3))},820:function(e,t,n){(function(t){e.exports=t.GridFieldHeader=n(936)}).call(t,n(3))},821:function(e,t,n){(function(t){e.exports=t.GridFieldHeaderCell=n(937)}).call(t,n(3))},822:function(e,t,n){(function(t){e.exports=t.GridFieldRow=n(938)}).call(t,n(3))},823:function(e,t,n){(function(t){e.exports=t.GridFieldTable=n(939)}).call(t,n(3))},824:function(e,t,n){(function(t){e.exports=t.HiddenField=n(940)}).call(t,n(3))},825:function(e,t,n){(function(t){e.exports=t.Injector=n(957)}).call(t,n(3))},826:function(e,t,n){(function(t){e.exports=t.InsertLinkModal=n(951)}).call(t,n(3))},828:function(e,t,n){(function(t){e.exports=t.ListGroup=n(941)}).call(t,n(3))},829:function(e,t,n){(function(t){e.exports=t.ListGroupItem=n(942)}).call(t,n(3))},830:function(e,t,n){(function(t){e.exports=t.LiteralField=n(943)}).call(t,n(3))},832:function(e,t,n){(function(t){e.exports=t.Preview=n(944)}).call(t,n(3))},842:function(e,t,n){(function(t){e.exports=t.ReactRouteRegister=n(958)}).call(t,n(3))},846:function(e,t,n){(function(t){e.exports=t.RecordsActionTypes=n(968)}).call(t,n(3))},847:function(e,t,n){(function(t){e.exports=t.RecordsActions=n(969)}).call(t,n(3))},848:function(e,t,n){(function(t){e.exports=t.ReducerRegister=n(959)}).call(t,n(3))},852:function(e,t,n){(function(t){e.exports=t.Router=n(960)}).call(t,n(3))},853:function(e,t,n){(function(t){e.exports=t.SchemaActions=n(970)}).call(t,n(3))},854:function(e,t,n){(function(t){e.exports=t.ShortcodeSerialiser=n(961)}).call(t,n(3))},855:function(e,t,n){(function(t){e.exports=t.SilverStripeComponent=n(962)}).call(t,n(3))},857:function(e,t,n){(function(t){e.exports=t.TextField=n(945)}).call(t,n(3))},858:function(e,t,n){(function(t){e.exports=t.TinyMCEActionRegistrar=n(963)}).call(t,n(3))},859:function(e,t,n){(function(t){e.exports=t.Toolbar=n(946)}).call(t,n(3))},860:function(e,t,n){(function(t){e.exports=t.TreeDropdownField=n(947)}).call(t,n(3))},861:function(e,t,n){(function(t){e.exports=t.TreeDropdownFieldMenu=n(948)}).call(t,n(3))},862:function(e,t,n){(function(t){e.exports=t.TreeDropdownFieldNode=n(949)}).call(t,n(3))},864:function(e,t,n){(function(t){e.exports=t.formatWrittenNumber=n(964)}).call(t,n(3))},871:function(e,t,n){(function(t){e.exports=t.reduxFieldReducer=n(965)}).call(t,n(3))},872:function(e,t,n){(function(t){e.exports=t.schemaFieldValues=n(966)}).call(t,n(3))},875:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=n(15),s=r(a),l=n(0),u=r(l),c=n(28),d=r(c),p=n(756),f=n(303),h=r(f),m=n(299),y=r(m),b=n(754),v=r(b),g=n(1867),_=r(g),w=n(1863),T=r(w),P=n(903),O=r(P),C=n(757),E=n(123),j=n(23),k=r(j),S=function(){function e(t,n){o(this,e),this.store=t,this.client=n;var r=v.default.get("absoluteBaseUrl");_.default.setAbsoluteBase(r),this.handleBeforeRoute=this.handleBeforeRoute.bind(this),this.handleBeforeUnload=this.handleBeforeUnload.bind(this)}return i(e,[{key:"start",value:function(e){this.matchesReactRoute(e)?this.initReactRouter():this.initLegacyRouter()}},{key:"matchesReactRoute",value:function(e){var t=v.default.get("sections"),n=_.default.resolveURLToBase(e).replace(/\/$/,"");return!!t.find(function(e){var t=_.default.resolveURLToBase(e.url).replace(/\/$/,"");return!!e.reactRouter&&n.match(t)})}},{key:"initReactRouter",value:function(){T.default.updateRootRoute({component:O.default});var e=(0,C.syncHistoryWithStore)((0,p.useRouterHistory)((0,h.default)(y.default))({basename:v.default.get("baseUrl")}),this.store);d.default.render(u.default.createElement(E.ApolloProvider,{store:this.store,client:this.client},u.default.createElement(p.Router,{history:e,routes:T.default.getRootRoute()})),document.getElementsByClassName("cms-content")[0]),e.listenBeforeUnload(this.handleBeforeUnload),e.listenBefore(this.handleBeforeRoute)}},{key:"initLegacyRouter",value:function(){var e=this,t=v.default.get("sections"),n=this.store;(0,_.default)("*",function(t,r){var o=k.default._t("Admin.CONFIRMUNSAVED","Are you sure you want to navigate away from this page?\n\n\n          WARNING: Your changes have not been saved.\n\n\n          Press OK to continue, or Cancel to stay on the current page.");e.shouldConfirmBeforeRoute()&&!window.confirm(o)||(t.store=n,r())});var r=null;t.forEach(function(e){var t=_.default.resolveURLToBase(e.url);t=t.replace(/\/$/,""),t+="(/*?)?",(0,_.default)(t,function(e,t){if("complete"!==document.readyState||e.init)return void t();r||(r=window.location.pathname);var n=e.data&&e.data.__forceReload;(e.path!==r||n)&&(r=e.path.replace(/#.*$/,""),(0,s.default)(".cms-container").entwine("ss").handleStateChange(null,e.state))})});var o=window.onbeforeunload;window.onbeforeunload=function(){return e.shouldConfirmBeforeUnload()?k.default._t("Admin.CONFIRMUNSAVEDSHORT","WARNING: Your changes have not been saved."):"function"==typeof o?o():void 0},_.default.start()}},{key:"shouldConfirmBeforeUnload",value:function(){var e=this.store.getState(),t=e.unsavedForms||{},n=!1;return t&&Object.keys(t).length>0&&(n=!0),n}},{key:"shouldConfirmBeforeRoute",value:function(){var e=this.store.getState(),t=e.unsavedForms||{},n=e.routing.locationBeforeTransitions,r=n&&n.pathname,o=!1;return t&&r&&Object.keys(t).find(function(e){return t[e]===r})&&(o=!0),o}},{key:"handleBeforeUnload",value:function(){return this.shouldConfirmBeforeUnload()?k.default._t("Admin.CONFIRMUNSAVEDSHORT","WARNING: Your changes have not been saved."):null}},{key:"handleBeforeRoute",value:function(){return this.shouldConfirmBeforeRoute()?k.default._t("Admin.CONFIRMUNSAVED","Are you sure you want to navigate away\n          from this page?\n\nWARNING: Your changes have not been saved.\n\n\n          Press OK to continue, or Cancel to stay on the current page."):null}}]),e}();t.default=S},876:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(63),i=r(o),a=n(394),s=r(a),l=n(891),u=r(l),c=n(247),d=r(c),p=n(901),f=r(p),h=n(881),m=r(h),y=n(879),b=r(y),v=n(880),g=r(v),_=n(896),w=r(_),T=n(1860),P=r(T),O=n(898),C=r(O),E=n(897),j=r(E),k=n(890),S=r(k),R=n(1861),x=r(R),D=n(892),F=r(D),M=n(895),I=r(M),N=n(393),A=r(N),L=n(893),U=r(L),B=n(900),H=r(B),$=n(899),V=r($),q=n(1857),z=r(q),W=n(882),G=r(W),X=n(902),K=r(X);t.default=function(){i.default.register("TextField",s.default),i.default.register("HiddenField",u.default),i.default.register("DateField",d.default),i.default.register("TimeField",f.default),i.default.register("DatetimeField",m.default),i.default.register("CheckboxField",b.default),i.default.register("CheckboxSetField",g.default),i.default.register("OptionsetField",w.default),i.default.register("GridField",P.default),i.default.register("FieldGroup",G.default),i.default.register("SingleSelectField",C.default),i.default.register("PopoverField",j.default),i.default.register("HeaderField",S.default),i.default.register("LiteralField",x.default),i.default.register("HtmlReadonlyField",F.default),i.default.register("LookupField",I.default),i.default.register("CompositeField",A.default),i.default.register("Tabs",H.default),i.default.register("TabItem",V.default),i.default.register("FormAction",z.default),i.default.register("LabelField",U.default),i.default.register("TreeDropdownField",K.default)}},877:function(e,t,n){"use strict";n(762),n(855),n(799),n(825),n(871),n(872),n(811),n(807),n(809),n(815),n(810),n(853),n(812),n(813),n(814),n(826),n(808),n(847),n(818),n(819),n(820),n(821),n(822),n(823),n(796),n(797),n(824),n(828),n(829),n(857),n(830),n(859),n(802),n(862),n(861),n(860),n(803),n(846),n(800),n(832),n(804),n(805),n(848),n(842),n(852),n(858),n(854),n(864),n(785),n(390),n(245),n(768),n(775),n(777),n(770),n(771),n(774),n(776),n(769),n(773),n(772),n(778),n(763),n(780),n(779),n(764),n(781),n(246),n(783),n(784),n(246),n(765),n(767),n(782),n(766),n(761)},879:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},l=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=n(0),c=r(u),d=n(249),p=r(d),f=n(42),h=r(f),m=n(12),y=r(m),b=function(e){function t(){return o(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return a(t,e),l(t,[{key:"render",value:function(){var e=(0,h.default)(p.default);return c.default.createElement(e,s({},this.props,{type:"checkbox",hideLabels:!0}))}}]),t}(y.default);t.default=b},880:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.CheckboxSetField=void 0;var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=n(0),u=r(l),c=n(12),d=r(c),p=n(249),f=r(p),h=n(42),m=r(h),y=function(e){function t(e){o(this,t);var n=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.getItemKey=n.getItemKey.bind(n),n.getOptionProps=n.getOptionProps.bind(n),n.handleChange=n.handleChange.bind(n),n.getValues=n.getValues.bind(n),n}return a(t,e),s(t,[{key:"getItemKey",value:function(e,t){return this.props.id+"-"+(e.value||"empty"+t)}},{key:"getValues",value:function(){var e=this.props.value;return Array.isArray(e)||!e&&"string"!=typeof e&&"number"!=typeof e||(e=[e]),e?e.map(function(e){return""+e}):[]}},{key:"handleChange",value:function(e,t){var n=this;if("function"==typeof this.props.onChange){var r=this.getValues(),o=this.props.source.filter(function(e,o){return n.getItemKey(e,o)===t.id?1===t.value:r.indexOf(""+e.value)>-1}).map(function(e){return""+e.value});this.props.onChange(o)}}},{key:"getOptionProps",value:function(e,t){var n=this.getValues(),r=this.getItemKey(e,t);return{key:r,id:r,name:this.props.name,className:this.props.itemClass,disabled:e.disabled||this.props.disabled,readOnly:this.props.readOnly,onChange:this.handleChange,value:n.indexOf(""+e.value)>-1,title:e.title,type:"checkbox"}}},{key:"render",value:function(){var e=this;return this.props.source?u.default.createElement("div",null,this.props.source.map(function(t,n){return u.default.createElement(f.default,e.getOptionProps(t,n))})):null}}]),t}(d.default);y.propTypes={className:u.default.PropTypes.string,extraClass:u.default.PropTypes.string,itemClass:u.default.PropTypes.string,id:u.default.PropTypes.string,name:u.default.PropTypes.string.isRequired,source:u.default.PropTypes.arrayOf(u.default.PropTypes.shape({value:u.default.PropTypes.oneOfType([u.default.PropTypes.string,u.default.PropTypes.number]),title:u.default.PropTypes.any,disabled:u.default.PropTypes.bool})),onChange:u.default.PropTypes.func,value:u.default.PropTypes.any,readOnly:u.default.PropTypes.bool,disabled:u.default.PropTypes.bool},y.defaultProps={extraClass:"",className:"",value:[]},t.CheckboxSetField=y,t.default=(0,m.default)(y)},881:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.DatetimeField=void 0;var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=function e(t,n,r){null===t&&(t=Function.prototype);var o=Object.getOwnPropertyDescriptor(t,n);if(void 0===o){var i=Object.getPrototypeOf(t);return null===i?void 0:e(i,n,r)}if("value"in o)return o.value;var a=o.get;return void 0!==a?a.call(r):void 0},u=n(0),c=r(u),d=n(42),p=r(d),f=n(247),h=n(177),m=r(h),y=n(176),b=r(y),v=n(23),g=r(v),_=function(e){function t(){return o(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return a(t,e),s(t,[{key:"getInputProps",value:function(){var e=g.default.inject(g.default._t("Admin.FormatExample","Example: {format}"),{format:(0,m.default)().endOf("month").format("L LT")});return Object.assign({},l(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"getInputProps",this).call(this),{type:this.props.data.html5?"datetime-local":"text",placeholder:e})}},{key:"isMultiline",value:function(){return!1}},{key:"hasNativeSupport",value:function(){return b.default.inputtypes["datetime-local"]}},{key:"triggerChange",value:function(e){/^\d{4}-\d\d-\d\dT\d\d:\d\d$/.test(e)?this.props.onChange(e+":00"):this.props.onChange(e)}},{key:"convertToLocalised",value:function(e){m.default.locale(this.props.lang);var t="";if(e){var n=(0,m.default)(e);n.isValid()&&(t=n.format("L LT"))}return t}},{key:"convertToIso",value:function(e){m.default.locale(this.props.lang);var t="";if(e){var n=(0,m.default)(e,["L LT",m.default.ISO_8601]);n.isValid()&&(t=n.format("YYYY-MM-DDTHH:mm:ss"))}return t}}]),t}(f.DateField);_.propTypes={lang:c.default.PropTypes.string,data:c.default.PropTypes.shape({html5:c.default.PropTypes.boolean})},_.defaultProps={data:{}},t.DatetimeField=_,t.default=(0,p.default)(_)},882:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.FieldGroup=void 0;var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=function e(t,n,r){null===t&&(t=Function.prototype);var o=Object.getOwnPropertyDescriptor(t,n);if(void 0===o){var i=Object.getPrototypeOf(t);return null===i?void 0:e(i,n,r)}if("value"in o)return o.value;var a=o.get;return void 0!==a?a.call(r):void 0},u=n(393),c=r(u),d=n(42),p=r(d),f=function(e){function t(){return o(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return a(t,e),s(t,[{key:"getClassName",value:function(){return"field-group-component "+l(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"getClassName",this).call(this)}}]),t}(c.default);t.FieldGroup=f,t.default=(0,p.default)(f)},883:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},l=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=n(0),c=r(u),d=n(28),p=r(d),f=n(389),h=r(f),m=function(e){function t(){return o(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return a(t,e),l(t,[{key:"componentDidMount",value:function(){if(this.props.autoFocus){var e=p.default.findDOMNode(this);if(e){var t=e.querySelector("input, select, textarea");t&&t.focus()}}}},{key:"renderMessages",value:function(){return Array.isArray(this.props.messages)?this.props.messages.map(function(e,t){return c.default.createElement(h.default,s({key:t,className:t?"":"message-box--panel-top"},e))}):null}},{key:"render",value:function(){var e=!1!==this.props.valid,t=this.props.mapFieldsToComponents(this.props.fields),n=this.props.mapActionsToComponents(this.props.actions),r=this.renderMessages(),o=["form"];!1===e&&o.push("form--invalid"),this.props.attributes&&this.props.attributes.className&&o.push(this.props.attributes.className);var i=Object.assign({},this.props.attributes,{onSubmit:this.props.handleSubmit,className:o.join(" ")});return c.default.createElement("form",i,t&&c.default.createElement("fieldset",null,r,this.props.afterMessages,t),n&&n.length?c.default.createElement("div",{className:"btn-toolbar",role:"group"},n):null)}}]),t}(u.Component);m.propTypes={autoFocus:u.PropTypes.bool,valid:u.PropTypes.bool,actions:u.PropTypes.array,afterMessages:u.PropTypes.node,attributes:u.PropTypes.shape({action:u.PropTypes.string.isRequired,className:u.PropTypes.string,encType:u.PropTypes.string,id:u.PropTypes.string,method:u.PropTypes.string.isRequired}),fields:u.PropTypes.array.isRequired,handleSubmit:u.PropTypes.func,mapActionsToComponents:u.PropTypes.func.isRequired,mapFieldsToComponents:u.PropTypes.func.isRequired,messages:u.PropTypes.arrayOf(u.PropTypes.shape({extraClass:u.PropTypes.string,value:u.PropTypes.any,type:u.PropTypes.string}))},t.default=m},884:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={CSRF_HEADER:"X-SecurityID"}},885:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=n(0),u=r(l),c=n(12),d=r(c),p=function(e){function t(e){o(this,t);var n=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.handleClick=n.handleClick.bind(n),n}return a(t,e),s(t,[{key:"render",value:function(){return u.default.createElement("button",{className:"grid-field__icon-action font-icon-"+this.props.icon+" btn--icon-large",onClick:this.handleClick})}},{key:"handleClick",value:function(e){this.props.handleClick(e,this.props.record.ID)}}]),t}(d.default);p.PropTypes={handleClick:u.default.PropTypes.func.isRequired},t.default=p},886:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=n(0),u=r(l),c=n(12),d=r(c),p=function(e){function t(e){o(this,t);var n=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.handleDrillDown=n.handleDrillDown.bind(n),n}return a(t,e),s(t,[{key:"render",value:function(){var e=["grid-field__cell"];void 0!==this.props.className&&e.push(this.props.className);var t={className:e.join(" "),onClick:this.handleDrillDown};return u.default.createElement("td",t,this.props.children)}},{key:"handleDrillDown",value:function(e){void 0!==this.props.handleDrillDown&&this.props.handleDrillDown(e)}}]),t}(d.default);p.PropTypes={className:u.default.PropTypes.string,width:u.default.PropTypes.number,handleDrillDown:u.default.PropTypes.func},t.default=p},887:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=n(0),u=r(l),c=n(12),d=r(c),p=n(248),f=r(p),h=function(e){function t(){return o(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return a(t,e),s(t,[{key:"render",value:function(){return u.default.createElement(f.default,null,this.props.children)}}]),t}(d.default);t.default=h},888:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=n(0),u=r(l),c=n(12),d=r(c),p=function(e){function t(){return o(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return a(t,e),s(t,[{key:"render",value:function(){return u.default.createElement("th",null,this.props.children)}}]),t}(d.default);p.PropTypes={width:u.default.PropTypes.number},t.default=p},889:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=n(0),u=r(l),c=n(12),d=r(c),p=function(e){function t(){return o(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return a(t,e),s(t,[{key:"render",value:function(){return u.default.createElement("div",{className:"grid-field"},u.default.createElement("table",{className:"table table-hover grid-field__table"},u.default.createElement("thead",null,this.generateHeader()),u.default.createElement("tbody",null,this.generateRows())))}},{key:"generateHeader",value:function(){return void 0!==this.props.header?this.props.header:(this.props.data,null)}},{key:"generateRows",value:function(){return void 0!==this.props.rows?this.props.rows:(this.props.data,null)}}]),t}(d.default);p.propTypes={data:u.default.PropTypes.object,header:u.default.PropTypes.object,rows:u.default.PropTypes.array},t.default=p},890:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=n(0),u=r(l),c=n(12),d=r(c),p=function(e){function t(){return o(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return a(t,e),s(t,[{key:"render",value:function(){var e="h"+(this.props.data.headingLevel||3);return u.default.createElement("div",{className:"field"},u.default.createElement(e,this.getInputProps(),this.props.data.title))}},{key:"getInputProps",value:function(){return{className:this.props.className+" "+this.props.extraClass,id:this.props.id}}}]),t}(d.default);p.propTypes={extraClass:u.default.PropTypes.string,id:u.default.PropTypes.string,data:u.default.PropTypes.oneOfType([u.default.PropTypes.array,u.default.PropTypes.shape({headingLevel:u.default.PropTypes.number,title:u.default.PropTypes.string})]).isRequired},p.defaultProps={className:"",extraClass:""},t.default=p},891:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=n(0),u=r(l),c=n(12),d=r(c),p=n(39),f=function(e){function t(){return o(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return a(t,e),s(t,[{key:"getInputProps",value:function(){return{bsClass:this.props.bsClass,componentClass:"input",className:this.props.className+" "+this.props.extraClass,id:this.props.id,name:this.props.name,type:"hidden",value:this.props.value}}},{key:"render",value:function(){return u.default.createElement(p.FormControl,this.getInputProps())}}]),t}(d.default);f.propTypes={id:u.default.PropTypes.string,extraClass:u.default.PropTypes.string,name:u.default.PropTypes.string.isRequired,value:u.default.PropTypes.any},f.defaultProps={className:"",extraClass:"",value:""},t.default=f},892:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.HtmlReadonlyField=void 0;var s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},l=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=n(0),c=r(u),d=n(12),p=r(d),f=n(42),h=r(f),m=n(39),y=function(e){function t(e){o(this,t);var n=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.getContent=n.getContent.bind(n),n}return a(t,e),l(t,[{key:"getContent",value:function(){return{__html:this.props.value}}},{key:"getInputProps",value:function(){return{bsClass:this.props.bsClass,componentClass:this.props.componentClass,className:this.props.className+" "+this.props.extraClass,id:this.props.id,name:this.props.name}}},{key:"render",value:function(){return c.default.createElement(m.FormControl.Static,s({},this.getInputProps(),{dangerouslySetInnerHTML:this.getContent()}))}}]),t}(p.default);y.propTypes={id:c.default.PropTypes.string,name:c.default.PropTypes.string.isRequired,extraClass:c.default.PropTypes.string,value:c.default.PropTypes.string},y.defaultProps={extraClass:"",className:""},t.HtmlReadonlyField=y,t.default=(0,h.default)(y)},893:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(0),o=function(e){return e&&e.__esModule?e:{default:e}}(r),i=function(e){var t=e.id,n=e.className,r=e.title,i=e.extraClass,a={id:t,className:n+" "+i};return o.default.createElement("label",a,r)};i.propTypes={id:r.PropTypes.number,className:r.PropTypes.string,extraClass:r.PropTypes.string,title:r.PropTypes.node},i.defaultProps={className:"",extraClass:""},t.default=i},894:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=n(0),u=r(l),c=n(12),d=r(c),p=function(e){function t(e){o(this,t);var n=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.handleClick=n.handleClick.bind(n),n}return a(t,e),s(t,[{key:"render",value:function(){var e="list-group-item "+this.props.className;return u.default.createElement("a",{tabIndex:"0",className:e,onClick:this.handleClick},this.props.children)}},{key:"handleClick",value:function(e){this.props.handleClick&&this.props.handleClick(e,this.props.handleClickArg)}}]),t}(d.default);p.propTypes={handleClickArg:u.default.PropTypes.any,handleClick:u.default.PropTypes.func},t.default=p},895:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.LookupField=void 0;var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=n(0),u=r(l),c=n(12),d=r(c),p=n(39),f=n(42),h=r(f),m=n(23),y=r(m),b=function(e){function t(e){o(this,t);var n=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.getValueCSV=n.getValueCSV.bind(n),n}return a(t,e),s(t,[{key:"getValueCSV",value:function(){var e=this,t=this.props.value;if(!Array.isArray(t)&&(t||"string"==typeof t||"number"==typeof t)){var n=this.props.source.find(function(e){return e.value===t});return n?n.title:""}return t&&t.length?t.map(function(t){var n=e.props.source.find(function(e){return e.value===t});return n&&n.title}).filter(function(e){return(""+e).length}).join(", "):""}},{key:"getFieldProps",value:function(){return{id:this.props.id,name:this.props.name,className:this.props.className+" "+this.props.extraClass}}},{key:"render",value:function(){if(!this.props.source)return null;var e="('"+y.default._t("Admin.NONE","None")+"')";return u.default.createElement(p.FormControl.Static,this.getFieldProps(),this.getValueCSV()||e)}}]),t}(d.default);b.propTypes={extraClass:u.default.PropTypes.string,id:u.default.PropTypes.string,name:u.default.PropTypes.string.isRequired,source:u.default.PropTypes.arrayOf(u.default.PropTypes.shape({value:u.default.PropTypes.oneOfType([u.default.PropTypes.string,u.default.PropTypes.number]),title:u.default.PropTypes.any,disabled:u.default.PropTypes.bool})),value:u.default.PropTypes.any},b.defaultProps={extraClass:"",className:"",value:[]},t.LookupField=b,t.default=(0,h.default)(b)},896:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.OptionsetField=void 0;var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=n(0),u=r(l),c=n(12),d=r(c),p=n(249),f=r(p),h=n(42),m=r(h),y=function(e){function t(e){o(this,t);var n=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.getItemKey=n.getItemKey.bind(n),n.getOptionProps=n.getOptionProps.bind(n),n.handleChange=n.handleChange.bind(n),n}return a(t,e),s(t,[{key:"getItemKey",value:function(e,t){return this.props.id+"-"+(e.value||"empty"+t)}},{key:"handleChange",value:function(e,t){var n=this;if("function"==typeof this.props.onChange&&1===t.value){var r=this.props.source.find(function(e,r){return n.getItemKey(e,r)===t.id});this.props.onChange(r.value)}}},{key:"getOptionProps",value:function(e,t){var n=this.getItemKey(e,t);return{key:n,id:n,name:this.props.name,className:this.props.itemClass+" option-val--"+e.value,disabled:e.disabled||this.props.disabled,readOnly:this.props.readOnly,onChange:this.handleChange,value:""+this.props.value==""+e.value,title:e.title,type:"radio"}}},{key:"render",value:function(){var e=this;return this.props.source?u.default.createElement("div",null,this.props.source.map(function(t,n){return u.default.createElement(f.default,e.getOptionProps(t,n))})):null}}]),t}(d.default);y.propTypes={extraClass:u.default.PropTypes.string,itemClass:u.default.PropTypes.string,id:u.default.PropTypes.string,name:u.default.PropTypes.string.isRequired,source:u.default.PropTypes.arrayOf(u.default.PropTypes.shape({value:u.default.PropTypes.oneOfType([u.default.PropTypes.string,u.default.PropTypes.number]),title:u.default.PropTypes.oneOfType([u.default.PropTypes.string,u.default.PropTypes.number]),disabled:u.default.PropTypes.bool})),onChange:u.default.PropTypes.func,value:u.default.PropTypes.oneOfType([u.default.PropTypes.string,u.default.PropTypes.number]),readOnly:u.default.PropTypes.bool,disabled:u.default.PropTypes.bool},y.defaultProps={extraClass:"",className:"",itemClass:""},t.OptionsetField=y,t.default=(0,m.default)(y)},897:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=n(0),u=r(l),c=n(39),d=n(12),p=r(d),f=function(e){function t(e){o(this,t);var n=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.handleShow=n.handleShow.bind(n),n.handleHide=n.handleHide.bind(n),n.state={showing:!1},n}return a(t,e),s(t,[{key:"handleShow",value:function(){this.setState({showing:!0})}},{key:"handleHide",value:function(){this.setState({showing:!1})}},{key:"render",value:function(){var e=this.getPlacement(),t=u.default.createElement(c.Popover,{id:this.props.id+"_Popover",className:"fade in popover-"+e,title:this.props.data.popoverTitle},this.props.children),n=["btn","btn-secondary"];this.state.showing&&n.push("btn--no-focus"),this.props.title||n.push("font-icon-dot-3 btn--no-text btn--icon-xl");var r={id:this.props.id,type:"button",className:n.join(" ")};return this.props.data.buttonTooltip&&(r.title=this.props.data.buttonTooltip),u.default.createElement(c.OverlayTrigger,{rootClose:!0,trigger:"click",placement:e,overlay:t,onEnter:this.handleShow,onExited:this.handleHide},u.default.createElement("button",r,this.props.title))}},{key:"getPlacement",value:function(){return this.props.data.placement||"bottom"}}]),t}(p.default);f.propTypes={id:u.default.PropTypes.string,title:u.default.PropTypes.any,data:u.default.PropTypes.oneOfType([u.default.PropTypes.array,u.default.PropTypes.shape({popoverTitle:u.default.PropTypes.string,buttonTooltip:u.default.PropTypes.string,placement:u.default.PropTypes.oneOf(["top","right","bottom","left"])})])},t.default=f},898:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.SingleSelectField=void 0;var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=n(0),u=r(l),c=n(12),d=r(c),p=n(42),f=r(p),h=n(23),m=r(h),y=n(39),b=function(e){function t(e){o(this,t);var n=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.handleChange=n.handleChange.bind(n),n}return a(t,e),s(t,[{key:"render",value:function(){return this.props.readOnly?this.getReadonlyField():this.getSelectField()}},{key:"getReadonlyField",value:function(){var e=this,t=this.props.source&&this.props.source.find(function(t){return t.value===e.props.value});return t="string"==typeof t?t:this.props.value,u.default.createElement(y.FormControl.Static,this.getInputProps(),t)}},{key:"getSelectField",value:function(){var e=this,t=this.props.source?this.props.source.slice():[];return this.props.data.hasEmptyDefault&&!t.find(function(e){return!e.value})&&t.unshift({value:"",title:this.props.data.emptyString,disabled:!1}),u.default.createElement(y.FormControl,this.getInputProps(),t.map(function(t,n){var r=e.props.name+"-"+(t.value||"empty"+n);return u.default.createElement("option",{key:r,value:t.value,disabled:t.disabled},t.title)}))}},{key:"getInputProps",value:function(){var e={bsClass:this.props.bsClass,className:this.props.className+" "+this.props.extraClass+" no-chosen",id:this.props.id,name:this.props.name,disabled:this.props.disabled};return this.props.readOnly||Object.assign(e,{onChange:this.handleChange,value:this.props.value,componentClass:"select"}),e}},{key:"handleChange",value:function(e){"function"==typeof this.props.onChange&&this.props.onChange(e,{id:this.props.id,value:e.target.value})}}]),t}(d.default);b.propTypes={id:u.default.PropTypes.string,name:u.default.PropTypes.string.isRequired,onChange:u.default.PropTypes.func,value:u.default.PropTypes.oneOfType([u.default.PropTypes.string,u.default.PropTypes.number]),readOnly:u.default.PropTypes.bool,disabled:u.default.PropTypes.bool,source:u.default.PropTypes.arrayOf(u.default.PropTypes.shape({value:u.default.PropTypes.oneOfType([u.default.PropTypes.string,u.default.PropTypes.number]),title:u.default.PropTypes.oneOfType([u.default.PropTypes.string,u.default.PropTypes.number]),disabled:u.default.PropTypes.bool})),data:u.default.PropTypes.oneOfType([u.default.PropTypes.array,u.default.PropTypes.shape({hasEmptyDefault:u.default.PropTypes.bool,emptyString:u.default.PropTypes.oneOfType([u.default.PropTypes.string,u.default.PropTypes.number])})])},b.defaultProps={source:[],extraClass:"",className:"",data:{emptyString:m.default._t("Boolean.ANY","Any")}},t.SingleSelectField=b,t.default=(0,f.default)(b)},899:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=n(0),u=r(l),c=n(12),d=r(c),p=n(39),f=function(e){function t(){return o(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return a(t,e),s(t,[{key:"getTabProps",value:function(){var e=this.props;return{eventKey:e.name,className:e.className+" "+e.extraClass,disabled:e.disabled,bsClass:e.bsClass,onEnter:e.onEnter,onEntering:e.onEntering,onEntered:e.onEntered,onExit:e.onExit,onExiting:e.onExiting,onExited:e.onExited,animation:e.animation,unmountOnExit:e.unmountOnExit}}},{key:"render",value:function(){var e=this.getTabProps();return u.default.createElement(p.Tab.Pane,e,this.props.children)}}]),t}(d.default);f.propTypes={name:u.default.PropTypes.string.isRequired,extraClass:u.default.PropTypes.string,tabClassName:u.default.PropTypes.string},f.defaultProps={className:"",extraClass:""},t.default=f},900:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=n(0),u=r(l),c=n(12),d=r(c),p=n(39),f=function(e){function t(){return o(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return a(t,e),s(t,[{key:"getContainerProps",value:function(){var e=this.props,t=e.activeKey,n=e.onSelect,r=e.className,o=e.extraClass,i=e.id;return{activeKey:t,className:r+" "+o,defaultActiveKey:this.getDefaultActiveKey(),onSelect:n,id:i}}},{key:"getDefaultActiveKey",value:function(){var e=this,t=null;if("string"==typeof this.props.defaultActiveKey){var n=u.default.Children.toArray(this.props.children).find(function(t){return t.props.name===e.props.defaultActiveKey});n&&(t=n.props.name)}return"string"!=typeof t&&u.default.Children.forEach(this.props.children,function(e){"string"!=typeof t&&(t=e.props.name)}),t}},{key:"renderTab",value:function(e){return null===e.props.title?null:u.default.createElement(p.NavItem,{eventKey:e.props.name,disabled:e.props.disabled,className:e.props.tabClassName},e.props.title)}},{key:"renderNav",value:function(){var e=u.default.Children.map(this.props.children,this.renderTab);return e.length<=1?null:u.default.createElement(p.Nav,{bsStyle:this.props.bsStyle,role:"tablist"},e)}},{key:"render",value:function(){var e=this.getContainerProps(),t=this.renderNav();return u.default.createElement(p.Tab.Container,e,u.default.createElement("div",{className:"wrapper"},t,u.default.createElement(p.Tab.Content,{animation:this.props.animation},this.props.children)))}}]),t}(d.default);f.propTypes={id:u.default.PropTypes.string.isRequired,defaultActiveKey:u.default.PropTypes.string,extraClass:u.default.PropTypes.string},f.defaultProps={bsStyle:"tabs",className:"",extraClass:""},t.default=f},901:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.TimeField=void 0;var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=function e(t,n,r){null===t&&(t=Function.prototype);var o=Object.getOwnPropertyDescriptor(t,n);if(void 0===o){var i=Object.getPrototypeOf(t);return null===i?void 0:e(i,n,r)}if("value"in o)return o.value;var a=o.get;return void 0!==a?a.call(r):void 0},u=n(0),c=r(u),d=n(42),p=r(d),f=n(247),h=n(177),m=r(h),y=n(176),b=r(y),v=n(23),g=r(v),_=function(e){function t(){return o(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return a(t,e),s(t,[{key:"getInputProps",value:function(){var e=g.default.inject(g.default._t("Admin.FormatExample","Example: {format}"),{format:(0,m.default)().endOf("month").format("LT")}),n={};return Object.assign(n,l(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"getInputProps",this).call(this)),Object.assign(n,{type:this.props.data.html5?"time":"text",placeholder:e}),n}},{key:"isMultiline",value:function(){return!1}},{key:"hasNativeSupport",value:function(){return b.default.inputtypes.time}},{key:"convertToLocalised",value:function(e){var t="";if(e){var n=(0,m.default)(e,"HH:mm:ss");n.isValid()&&(t=n.format("LT"))}return t}},{key:"convertToIso",value:function(e){var t="";if(e){var n=(0,m.default)(e,"LT");n.isValid()&&(t=n.format("HH:mm:ss"))}return t}}]),t}(f.DateField);_.propTypes={lang:c.default.PropTypes.string,data:c.default.PropTypes.shape({html5:c.default.PropTypes.boolean})},_.defaultProps={data:{}},t.TimeField=_,t.default=(0,p.default)(_)},902:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function l(e,t){var n=t.id,r=e.treeDropdownField&&e.treeDropdownField.fields?e.treeDropdownField.fields[n]:null;return r?{tree:r.tree||{},visible:r.visible||[],loading:r.loading||[],failed:r.failed||[]}:{}}function u(e){return{actions:{treeDropdownField:(0,m.bindActionCreators)(C,e)}}}Object.defineProperty(t,"__esModule",{value:!0}),t.ConnectedTreeDropdownField=t.TreeDropdownField=void 0;var c=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},d=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),p=n(0),f=r(p),h=n(43),m=n(44),y=n(42),b=r(y),v=n(175),g=r(v),_=n(758),w=r(_),T=n(23),P=r(T),O=n(403),C=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(O),E=n(395),j=r(E),k=n(179),S=r(k),R=n(383),x=r(R),D=n(39),F=function(e){function t(e){i(this,t);var n=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.render=n.render.bind(n),n.renderMenu=n.renderMenu.bind(n),n.renderOption=n.renderOption.bind(n),n.getBreadcrumbs=n.getBreadcrumbs.bind(n),n.getDropdownOptions=n.getDropdownOptions.bind(n),n.getSelectedOption=n.getSelectedOption.bind(n),n.getVisibleTree=n.getVisibleTree.bind(n),n.handleBack=n.handleBack.bind(n),n.handleChange=n.handleChange.bind(n),n.handleKeyDown=n.handleKeyDown.bind(n),n.handleNavigate=n.handleNavigate.bind(n),n.callFetch=n.callFetch.bind(n),n.lazyLoad=n.lazyLoad.bind(n),n.findTreeByID=n.findTreeByID.bind(n),n.findTreeByPath=n.findTreeByPath.bind(n),n.findTreePath=n.findTreePath.bind(n),n}return s(t,e),d(t,[{key:"componentDidMount",value:function(){this.loadTree([])}},{key:"componentWillReceiveProps",value:function(e){e.data.cacheKey!==this.props.data.cacheKey&&this.loadTree([])}},{key:"getVisibleTree",value:function(){return this.findTreeByPath(this.props.tree,this.props.visible)}},{key:"getBreadcrumbs",value:function(){var e=[],t=this.props.tree,n=!0,r=!1,o=void 0;try{for(var i,a=this.props.visible[Symbol.iterator]();!(n=(i=a.next()).done)&&"break"!==function(){var n=i.value;if(!(t=t.children.find(function(e){return e.id===n})))return"break";e.push(t)}();n=!0);}catch(e){r=!0,o=e}finally{try{!n&&a.return&&a.return()}finally{if(r)throw o}}return e}},{key:"getSelectedOption",value:function(){return this.props.value?this.findTreeByID(this.props.tree,this.props.value)||(this.props.data.valueObject&&this.props.data.valueObject.id===this.props.value?this.props.data.valueObject:{id:this.props.value,title:P.default._t("Admin.TREEDROPDOWN_LOADING","Loading..."),disabled:!1}):null}},{key:"getDropdownOptions",value:function(e){var t=this.getVisibleTree(),n=t?t.children.slice(0):[];if(e){var r=n.find(function(t){return t.id===e});r||(r=this.getSelectedOption()),n.unshift(r)}return this.props.data.hasEmptyDefault&&!this.props.visible.length&&n.unshift({id:"",title:this.props.data.emptyString,disabled:!1}),n&&n.length?n:[{id:null,title:null,disabled:!0}]}},{key:"callFetch",value:function(e){var t=x.default.parse(this.props.data.urlTree,!0);t.search="",e.length&&(t.query.ID=e[e.length-1]),t.query.format="json";var n=x.default.format(t);return(0,g.default)(n,{credentials:"same-origin"}).then(function(e){return e.json()})}},{key:"findTreeByPath",value:function(e,t){if(!e||0===Object.keys(e).length)return null;if(0===t.length)return e;var n=t.slice(0),r=n.shift(),o=e.children.find(function(e){return e.id===r});return o?this.findTreeByPath(o,n):null}},{key:"findTreeByID",value:function(e,t){if(!e||0===Object.keys(e).length)return null;if(e.id===t)return e;var n=!0,r=!1,o=void 0;try{for(var i,a=e.children[Symbol.iterator]();!(n=(i=a.next()).done);n=!0){var s=i.value,l=this.findTreeByID(s,t);if(null!==l)return l}}catch(e){r=!0,o=e}finally{try{!n&&a.return&&a.return()}finally{if(r)throw o}}return null}},{key:"findTreePath",value:function(e,t){if(!t)return[];if(!e||0===Object.keys(e).length)return null;if(e.id===t)return[e.id];if(!e.children)return null;var n=!0,r=!1,o=void 0;try{for(var i,a=e.children[Symbol.iterator]();!(n=(i=a.next()).done);n=!0){var s=i.value,l=this.findTreePath(s,t);if(null!==l)return e.id&&l.unshift(e.id),l}}catch(e){r=!0,o=e}finally{try{!n&&a.return&&a.return()}finally{if(r)throw o}}return null}},{key:"lazyLoad",value:function(e){var t=this;if(e.find(function(e){return[].concat(o(t.props.loading),o(t.props.failed)).indexOf(e)>-1}))return Promise.resolve({});var n=this.findTreeByPath(this.props.tree,e);return n&&(0===n.count||n.children.length)?Promise.resolve({}):this.loadTree(e)}},{key:"loadTree",value:function(e){var t=this;return this.props.actions.treeDropdownField.beginTreeUpdating(this.props.id,e),this.callFetch(e).then(function(n){var r=0===Object.keys(t.props.tree).length;if(t.props.actions.treeDropdownField.updateTree(t.props.id,e,n),r&&t.props.value&&0===e.length){var o=t.findTreePath(n,t.props.value);o&&(o.pop(),t.props.actions.treeDropdownField.setVisible(t.props.id,o))}return n}).catch(function(n){if(t.props.actions.treeDropdownField.updateTreeFailed(t.props.id,e),"function"==typeof t.props.onLoadingError)return t.props.onLoadingError({errors:[{value:n.message,type:"error"}]});throw n})}},{key:"handleChange",value:function(e){var t=e?e.id:null;"function"==typeof this.props.onChange&&this.props.onChange(t)}},{key:"handleNavigate",value:function(e,t){e.stopPropagation(),e.preventDefault();var n=this.findTreePath(this.props.tree,t);n||(n=this.props.visible.slice(0),n.push(t)),this.lazyLoad(n),this.props.actions.treeDropdownField.setVisible(this.props.id,n)}},{key:"handleKeyDown",value:function(e){var t=this.selectField.getFocusedOption();if(t)switch(e.keyCode){case 37:this.handleBack(e);break;case 39:t.count&&this.handleNavigate(e,t.id)}}},{key:"handleBack",value:function(e){e.stopPropagation(),e.preventDefault();var t=this.props.visible;t.length&&(t=t.slice(0,t.length-1)),this.lazyLoad(t),this.props.actions.treeDropdownField.setVisible(this.props.id,t)}},{key:"renderMenu",value:function(e){var t=this.getVisibleTree(),n=Object.assign({},t,{children:this.getDropdownOptions().filter(function(e){return null!==e.title})}),r=this.props.loading.indexOf(n.id||0)>-1,o=this.props.failed.indexOf(n.id||0)>-1,i=this.getBreadcrumbs();return f.default.createElement(j.default,{loading:r,failed:o,tree:n,breadcrumbs:i,renderMenuOptions:e,onBack:this.handleBack})}},{key:"renderOption",value:function(e){var t=this,n=null;if(e.count){var r=function(n){return t.handleNavigate(n,e.id)};n=f.default.createElement("button",{className:"treedropdownfield__option-button",onClick:r,onMouseDown:r,onTouchEnd:r},f.default.createElement("span",{className:"treedropdownfield__option-count"},e.count),f.default.createElement("span",{className:"icon font-icon-list"}))}return f.default.createElement("div",{className:"treedropdownfield__option flexbox-area-grow fill-width"},f.default.createElement("span",{className:"treedropdownfield__option__title flexbox-area-grow"},e.title),n)}},{key:"render",value:function(){var e=this,t={id:this.props.id,readOnly:this.props.readOnly,disabled:this.props.disabled},n=this.props.extraClass?"treedropdownfield "+this.props.extraClass:"treedropdownfield",r=this.getDropdownOptions(this.props.value),o=0===this.props.value?"":this.props.value;if(this.props.readOnly||this.props.disabled){var i=this.props.data.valueObject,a=i&&i.title||this.props.data.emptyString;return f.default.createElement("div",{className:n},f.default.createElement("span",null,a),f.default.createElement(D.FormControl,c({type:"hidden",name:this.props.name,value:this.props.value},t)))}return f.default.createElement(w.default,{searchable:!1,className:n,name:this.props.name,options:r,inputProps:t,menuRenderer:this.renderMenu,optionRenderer:this.renderOption,onChange:this.handleChange,onInputKeyDown:this.handleKeyDown,value:o,ref:function(t){e.selectField=t},placeholder:this.props.data.emptyString,labelKey:"title",valueKey:"id"})}}]),t}(p.Component);F.propTypes={extraClass:p.PropTypes.string,id:p.PropTypes.string,name:p.PropTypes.string.isRequired,onChange:p.PropTypes.func,value:p.PropTypes.oneOfType([p.PropTypes.string,p.PropTypes.number]),readOnly:p.PropTypes.bool,disabled:p.PropTypes.bool,tree:p.PropTypes.shape(S.default.propTypes),visible:p.PropTypes.array,loading:p.PropTypes.array,failed:p.PropTypes.array,data:p.PropTypes.shape({cacheKey:p.PropTypes.string,urlTree:p.PropTypes.string.isRequired,emptyString:p.PropTypes.string,valueObject:p.PropTypes.shape({id:p.PropTypes.number,title:p.PropTypes.string}),hasEmptyDefault:p.PropTypes.bool}),onLoadingError:p.PropTypes.func,actions:p.PropTypes.shape({treeDropdownField:p.PropTypes.shape({beginTreeUpdating:p.PropTypes.func,updateTreeFailed:p.PropTypes.func,updateTree:p.PropTypes.func,setVisible:p.PropTypes.func})})},F.defaultProps={value:"",extraClass:"",className:"",tree:{},visible:[],loading:[],failed:[]};var M=(0,h.connect)(l,u)(F);t.TreeDropdownField=F,t.ConnectedTreeDropdownField=M,t.default=(0,b.default)(M)},903:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=n(0),u=r(l),c=n(12),d=r(c),p=n(63),f=function(e){function t(){return o(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return a(t,e),s(t,[{key:"render",value:function(){return u.default.createElement("div",null,this.props.children)}}]),t}(d.default);t.default=(0,p.provideInjector)(f)},904:function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function a(e){return{actions:{schema:(0,f.bindActionCreators)(m,e)}}}function s(e){function t(){return{Component:e}}return(0,y.connect)(t,a)(b)}Object.defineProperty(t,"__esModule",{value:!0}),t.ConnectedFileSchemaHandler=t.FileSchemaHandler=void 0;var l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},u=function(){function e(e,t){var n=[],r=!0,o=!1,i=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){o=!0,i=e}finally{try{!r&&s.return&&s.return()}finally{if(o)throw i}}return n}return function(t,n){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),c=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),d=n(0),p=function(e){return e&&e.__esModule?e:{default:e}}(d),f=n(44),h=n(243),m=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(h),y=n(43),b=function(e){function t(e){r(this,t);var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.setOverrides=n.setOverrides.bind(n),n}return i(t,e),c(t,[{key:"componentWillMount",value:function(){this.setOverrides(this.props)}},{key:"componentWillUnmount",value:function(){this.setOverrides()}},{key:"setOverrides",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;if(e){if(e.schemaUrl){var t=Object.assign({},e.fileAttributes);delete t.ID;var n={fields:Object.entries(t).map(function(e){var t=u(e,2);return{name:t[0],value:t[1]}})};this.props.actions.schema.setSchemaStateOverrides(e.schemaUrl,n)}}else{var r=this.props.schemaUrl;r&&this.props.actions.schema.setSchemaStateOverrides(r,null)}}},{key:"render",value:function(){var e=this.props.Component,t=Object.assign({},this.props);return delete t.Component,p.default.createElement(e,l({setOverrides:this.setOverrides},t))}}]),t}(d.Component);b.propTypes={fileAttributes:d.PropTypes.object,Component:d.PropTypes.oneOfType([d.PropTypes.element,d.PropTypes.func]),schemaUrl:d.PropTypes.string,actions:d.PropTypes.object};var v=(0,y.connect)(function(){return{}},a())(b);t.FileSchemaHandler=b,t.ConnectedFileSchemaHandler=v,t.default=s},907:function(e,t,n){"use strict";var r=n(15);(function(e){return e&&e.__esModule?e:{default:e}})(r).default.entwine("ss",function(e){e(".permissioncheckboxset .valADMIN input").entwine({onmatch:function(){this._super()},onunmatch:function(){this._super()},onclick:function(e){this.toggleCheckboxes()},toggleCheckboxes:function(){var t=e(this).parents(".field:eq(0)").find(".checkbox").not(this);e(this).is(":checked")?t.each(function(){e(this).data("SecurityAdmin.oldChecked",e(this).attr("checked")),e(this).data("SecurityAdmin.oldDisabled",e(this).attr("disabled")),e(this).attr("disabled","disabled"),e(this).attr("checked","checked")}):t.each(function(){var t=e(this).data("SecurityAdmin.oldChecked"),n=e(this).data("SecurityAdmin.oldDisabled");null!==t&&e(this).attr("checked",t),null!==n&&e(this).attr("disabled",n)})}}),e(".permissioncheckboxset .valCMS_ACCESS_LeftAndMain input").entwine({getCheckboxesExceptThisOne:function(){return e(this).parents(".field:eq(0)").find("li").filter(function(t){var n=e(this).attr("class");return!!n&&n.match(/CMS_ACCESS_/)}).find(".checkbox").not(this)},onmatch:function(){this.toggleCheckboxes(),this._super()},onunmatch:function(){this._super()},onclick:function(e){this.toggleCheckboxes()},toggleCheckboxes:function(){var t=this.getCheckboxesExceptThisOne();e(this).is(":checked")?t.each(function(){e(this).data("PermissionCheckboxSetField.oldChecked",e(this).is(":checked")),e(this).data("PermissionCheckboxSetField.oldDisabled",e(this).is(":disabled")),e(this).prop("disabled","disabled"),e(this).prop("checked","checked")}):t.each(function(){e(this).prop("checked",e(this).data("PermissionCheckboxSetField.oldChecked")),e(this).prop("disabled",e(this).data("PermissionCheckboxSetField.oldDisabled"))})}})})},912:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function a(e){var t=null;if(!(e.status>=200&&e.status<300))throw t=new Error(e.statusText),t.response=e,t;return e}function s(e){var t=null;if(e instanceof FormData||"string"==typeof e)t=e;else{if(!e||"object"!==(void 0===e?"undefined":m(e)))throw new Error("Invalid body type");t=JSON.stringify(e)}return t}function l(e,t){switch(e){case"application/x-www-form-urlencoded":return w.default.stringify(t);case"application/json":case"application/x-json":case"application/x-javascript":case"text/javascript":case"text/x-javascript":case"text/x-json":return JSON.stringify(t);default:throw new Error("Can't encode format: "+e)}}function u(e,t){switch(e){case"application/x-www-form-urlencoded":return w.default.parse(t);case"application/json":case"application/x-json":case"application/x-javascript":case"text/javascript":case"text/x-javascript":case"text/x-json":return JSON.parse(t);default:throw new Error("Can't decode format: "+e)}}function c(e,t){return""===t?e:e.match(/\?/)?e+"&"+t:e+"?"+t}function d(e){return e.text().then(function(t){return u(e.headers.get("Content-Type"),t)})}function p(e,t){return Object.keys(t).reduce(function(n,r){var o=e[r];return!o||!0!==o.remove&&!0!==o.querystring?Object.assign(n,i({},r,t[r])):n},{})}function f(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{setFromData:!1},o=t;return o=c(o,l("application/x-www-form-urlencoded",Object.keys(n).reduce(function(t,o){var a=e[o],s=!0===r.setFromData&&!(a&&!0===a.remove),l=a&&!0===a.querystring&&!0!==a.remove;return s||l?Object.assign(t,i({},o,n[o])):t},{}))),o=Object.keys(e).reduce(function(t,r){var o=e[r].urlReplacement;return o?t.replace(o,n[r]):t},o)}Object.defineProperty(t,"__esModule",{value:!0});var h=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),m="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},y=n(175),b=r(y),v=n(297),g=r(v),_=n(244),w=r(_),T=n(150),P=r(T);g.default.polyfill();var O=function(){function e(){o(this,e),this.fetch=b.default}return h(e,[{key:"createEndpointFetcher",value:function(e){var t=this,n=Object.assign({method:"get",payloadFormat:"application/x-www-form-urlencoded",responseFormat:"application/json",payloadSchema:{},defaultData:{}},e),r={json:"application/json",urlencoded:"application/x-www-form-urlencoded"};return["payloadFormat","responseFormat"].forEach(function(e){r[n[e]]&&(n[e]=r[n[e]])}),function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},o=Object.assign({},r,{Accept:n.responseFormat,"Content-Type":n.payloadFormat}),i=P.default.recursive({},n.defaultData,e),a=f(n.payloadSchema,n.url,i,{setFromData:"get"===n.method.toLowerCase()}),s="get"!==n.method.toLowerCase()?l(n.payloadFormat,p(n.payloadSchema,i)):"",u="get"===n.method.toLowerCase()?[a,o]:[a,s,o];return t[n.method.toLowerCase()].apply(t,u).then(d)}}},{key:"get",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this.fetch(e,{method:"get",credentials:"same-origin",headers:t}).then(a)}},{key:"post",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r={"Content-Type":"application/x-www-form-urlencoded"};return this.fetch(e,{method:"post",credentials:"same-origin",body:s(t),headers:Object.assign({},r,n)}).then(a)}},{key:"put",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return this.fetch(e,{method:"put",credentials:"same-origin",body:s(t),headers:n}).then(a)}},{key:"delete",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return this.fetch(e,{method:"delete",credentials:"same-origin",body:s(t),headers:n}).then(a)}}]),e}(),C=new O;t.default=C},913:function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){var n=[],r=!0,o=!1,i=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){o=!0,i=e}finally{try{!r&&s.return&&s.return()}finally{if(o)throw i}}return n}return function(t,n){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=n(1869),s=function(e){return e&&e.__esModule?e:{default:e}}(a),l=function(){function e(t){r(this,e),this.setValues(t)}return i(e,[{key:"setValues",value:function(e){this.values=e}},{key:"getFieldValue",value:function(e){var t=this.values[e];return"string"!=typeof t&&(t=void 0===t||null===t||!1===t?"":t.toString()),t}},{key:"validateValue",value:function(e,t,n){switch(t){case"equals":var r=this.getFieldValue(n.field);return s.default.equals(e,r);case"numeric":return s.default.isNumeric(e);case"date":return s.default.isDate(e);case"alphanumeric":return s.default.isAlphanumeric(e);case"alpha":return s.default.isAlpha(e);case"regex":return s.default.matches(e,n.pattern);case"max":return e.length<=n.length;case"email":return s.default.isEmail(e);default:return console.warn("Unknown validation rule used: '"+t+"'"),!1}}},{key:"validateFieldSchema",value:function(e){return this.validateField(e.name,e.validation,null!==e.leftTitle?e.leftTitle:e.title,e.customValidationMessage)}},{key:"getMessage",value:function(e,t){var n="";if("string"==typeof t.message)n=t.message;else switch(e){case"required":n="{name} is required.";break;case"equals":n="{name} are not equal.";break;case"numeric":n="{name} is not a number.";break;case"date":n="{name} is not a proper date format.";break;case"alphanumeric":n="{name} is not an alpha-numeric value.";break;case"alpha":n="{name} is not only letters.";break;default:n="{name} is not a valid value."}return t.title&&(n=n.replace("{name}",t.title)),n}},{key:"validateField",value:function(e,t,n,r){var i=this,a={valid:!0,errors:[]};if(!t)return a;var s=this.getFieldValue(e);if(""===s&&t.required){var l=Object.assign({title:""!==n?n:e},t.required);return{valid:!1,errors:[r||this.getMessage("required",l)]}}return Object.entries(t).forEach(function(t){var r=o(t,2),l=r[0],u=r[1],c=Object.assign({title:e},{title:n},u);if("required"!==l&&!i.validateValue(s,l,c)){var d=i.getMessage(l,c);a.valid=!1,a.errors.push(d)}}),r&&!a.valid&&(a.errors=[r]),a}}]),e}();t.default=l},914:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},c=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),d=n(0),p=r(d),f=n(397),h=r(f),m=function(e,t,n){var r=function(r){function d(){return i(this,d),a(this,(d.__proto__||Object.getPrototypeOf(d)).apply(this,arguments))}return s(d,r),c(d,[{key:"render",value:function(){var r={},i=t;if(i){if(!Array.isArray(i)){if("string"!=typeof i)throw new Error("\n            withInjector() passed an argument for dependencies that is "+(void 0===i?"undefined":u(i))+". \n            Must be a string or array of named dependencies.\n          ");i=[i]}var a=i.map(this.context.injector.get);if(n&&"function"==typeof n){if(r=n.apply(void 0,o(a)),"object"!==(void 0===r?"undefined":u(r)))throw new Error("\n              mapDepedenciesToProps parameter passed to inject() \n              should return an object that maps prop names to dependencies\n             ")}else for(var s=0;s<i.length;s++)r[i[s]]=a[s]}var c=l({},this.props,r);return p.default.createElement(e,c)}}]),d}(p.default.Component);return r.contextTypes=h.default,r.displayName="inject(\n    "+(e.displayName||e.name||"Component")+"\n  )",r};t.default=m},915:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function s(e){var t=function(t){function n(){return o(this,n),i(this,(n.__proto__||Object.getPrototypeOf(n)).apply(this,arguments))}return a(n,t),l(n,[{key:"getChildContext",value:function(){return{injector:{get:p.default.get}}}},{key:"render",value:function(){return c.default.createElement(e,this.props)}}]),n}(c.default.Component);return t.childContextTypes={injector:c.default.PropTypes.shape({get:c.default.PropTypes.func})},t}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=n(0),c=r(u),d=n(396),p=r(d);t.default=s},916:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o=n(397),i=function(e){return e&&e.__esModule?e:{default:e}}(o),a=function(e){return e.contextTypes=r({},e.contextTypes,i.default),e.displayName="withInjector(\n    "+(e.displayName||e.name||"Component")+"\n  )",e};t.default=a},917:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:u,t=arguments[1];switch(t.type){case l.default.SET_BREADCRUMBS:return(0,a.default)(Object.assign([],t.payload.breadcrumbs));default:return e}}Object.defineProperty(t,"__esModule",{value:!0});var i=n(121),a=r(i),s=n(398),l=r(s),u=(0,a.default)([]);t.default=o},918:function(e,t,n){"use strict";function r(e){return{type:i.default.SET_CONFIG,payload:{config:e}}}Object.defineProperty(t,"__esModule",{value:!0}),t.setConfig=r;var o=n(399),i=function(e){return e&&e.__esModule?e:{default:e}}(o)},919:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments[1];switch(t.type){case l.default.SET_CONFIG:return(0,a.default)(Object.assign({},e,t.payload.config));default:return e}}Object.defineProperty(t,"__esModule",{value:!0});var i=n(121),a=r(i),s=n(399),l=r(s);t.default=o},920:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function i(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:c,t=arguments[1],n=null,r=null,i=null;switch(t.type){case u.default.CREATE_RECORD:case u.default.UPDATE_RECORD:case u.default.DELETE_RECORD:return(0,s.default)(Object.assign({},e,{}));case u.default.FETCH_RECORDS_REQUEST:case u.default.FETCH_RECORDS_FAILURE:return e;case u.default.FETCH_RECORDS_SUCCESS:if(!(r=t.payload.recordType))throw new Error("Undefined record type");return n=t.payload.data._embedded[r]||{},n=n.reduce(function(e,t){return Object.assign({},e,o({},t.ID,t))},{}),(0,s.default)(Object.assign({},e,o({},r,n)));case u.default.FETCH_RECORD_REQUEST:case u.default.FETCH_RECORD_FAILURE:return e;case u.default.FETCH_RECORD_SUCCESS:if(r=t.payload.recordType,i=t.payload.data,!r)throw new Error("Undefined record type");return(0,s.default)(Object.assign({},e,o({},r,Object.assign({},e[r],o({},i.ID,i)))));case u.default.DELETE_RECORD_REQUEST:case u.default.DELETE_RECORD_FAILURE:return e;case u.default.DELETE_RECORD_SUCCESS:return r=t.payload.recordType,n=e[r],n=Object.keys(n).reduce(function(e,r){return parseInt(r,10)!==parseInt(t.payload.id,10)?Object.assign({},e,o({},r,n[r])):e},{}),(0,s.default)(Object.assign({},e,o({},r,n)));default:return e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(121),s=r(a),l=n(400),u=r(l),c={};t.default=i},921:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function i(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:p,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;switch(t.type){case u.default.SET_SCHEMA:return(0,s.default)(Object.assign({},e,o({},t.payload.id,Object.assign({},e[t.payload.id],t.payload))));case u.default.SET_SCHEMA_STATE_OVERRIDES:var n=e[t.payload.id],r=t.payload.stateOverride,i=n&&n.state&&n.state.fields&&n.state.fields.map(function(e){var t=r&&r.fields&&r.fields.find(function(t){return t.name===e.name});return t?d.default.recursive(!0,e,t):e});return(0,s.default)(Object.assign({},e,o({},t.payload.id,Object.assign({},n,{stateOverride:r,state:Object.assign({},n&&n.state,t.payload.stateOverride,{fields:i})}))));case u.default.SET_SCHEMA_LOADING:return(0,s.default)(Object.assign({},e,o({},t.payload.id,Object.assign({},e[t.payload.id],{metadata:Object.assign({},e[t.payload.id]&&e[t.payload.id].metadata,{loading:t.payload.loading})}))));default:return e}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=i;var a=n(121),s=r(a),l=n(401),u=r(l),c=n(150),d=r(c),p=(0,s.default)({})},922:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function i(e,t,n){if(0===t.length)return n;var r=t,o=r.shift(),a=[],s=0;return e.children.forEach(function(e){e.id===o?(s++,a.push(i(e,r,n))):a.push(e)}),s?(0,u.default)({},e,{children:a}):(console.warn("Could not find "+o+" in tree to merge"),e)}function a(e){return e.length?e[e.length-1]:0}function s(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:h,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=(0,f.default)(e,t,m),r=function(e,t){return e.filter(function(e){return e!==t})},s=function(e,t){return e.find(function(e){return e===t})?e:[].concat(o(e),[t]).sort()};switch(t.type){case d.default.TREEFIELD_SET_VISIBLE:return n(function(){return{visible:t.payload.path}});case d.default.TREEFIELD_UPDATING_TREE:return n(function(e){return{loading:s(e.loading,a(t.payload.path)),failed:r(e.failed,a(t.payload.path))}});case d.default.TREEFIELD_UPDATED_TREE:return n(function(e){return{tree:i(e.tree,t.payload.path,t.payload.tree),loading:r(e.loading,a(t.payload.path)),failed:r(e.failed,a(t.payload.path))}});case d.default.TREEFIELD_UPDATE_FAILED:return n(function(e){return{loading:r(e.loading,a(t.payload.path)),failed:s(e.failed,a(t.payload.path))}});default:return e}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=s;var l=n(121),u=r(l),c=n(402),d=r(c),p=n(1868),f=r(p),h=(0,u.default)({fields:{}}),m=(0,u.default)({visible:[],tree:{},loading:[],failed:[]})},923:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=n(0),u=r(l),c=n(12),d=r(c),p=function(e){function t(){return o(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return a(t,e),s(t,[{key:"render",value:function(){return u.default.createElement("div",{className:"accordion",role:"tablist","aria-multiselectable":"true"},this.props.children)}}]),t}(d.default);t.default=p},924:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=n(0),u=r(l),c=n(12),d=r(c);n(1856);var p=function(e){function t(){return o(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return a(t,e),s(t,[{key:"render",value:function(){var e=this.props.groupid+"_Header",t=this.props.groupid+"_Items",n=t.replace(/\\/g,"_"),r=e.replace(/\\/g,"_"),o="#"+n,i={id:n,"aria-expanded":!0,className:"list-group list-group-flush collapse in",role:"tabpanel","aria-labelledby":e};return u.default.createElement("div",{className:"accordion__block"},u.default.createElement("a",{className:"accordion__title","data-toggle":"collapse",href:o,"aria-expanded":"true","aria-controls":t,id:r,role:"tab"},this.props.title),u.default.createElement("div",i,this.props.children))}}]),t}(d.default);t.default=p},925:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(0),o=function(e){return e&&e.__esModule?e:{default:e}}(r),i=function(e){var t=e.status,n=e.message,r=e.className;return t?o.default.createElement("span",{className:(r||"")+" label label-"+t+" label-pill"},n):null};i.propTypes={message:r.PropTypes.node,status:r.PropTypes.oneOf(["default","info","success","warning","danger","primary","secondary"]),className:r.PropTypes.string},t.default=i},926:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function s(e){return{crumbs:e.breadcrumbs}}Object.defineProperty(t,"__esModule",{value:!0}),t.Breadcrumb=void 0;var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=n(0),c=r(u),d=n(12),p=r(d),f=n(43),h=n(756),m=function(e){function t(){return o(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return a(t,e),l(t,[{key:"getLastCrumb",value:function(){return this.props.crumbs&&this.props.crumbs[this.props.crumbs.length-1]}},{key:"renderBreadcrumbs",value:function(){return this.props.crumbs?this.props.crumbs.slice(0,-1).map(function(e,t){return c.default.createElement("li",{key:t,className:"breadcrumb__item"},c.default.createElement(h.Link,{className:"breadcrumb__item-title",to:e.href,onClick:e.onClick},e.text))}):null}},{key:"renderLastCrumb",value:function(){var e=this.getLastCrumb();if(!e)return null;var t=["breadcrumb__icon"];return e.icon&&t.push(e.icon.className),c.default.createElement("div",{className:"breadcrumb__item breadcrumb__item--last"},c.default.createElement("h2",{className:"breadcrumb__item-title"},e.text,e.icon&&c.default.createElement("span",{className:t.join(" "),onClick:e.icon.action})))}},{key:"render",value:function(){return c.default.createElement("div",{className:"breadcrumb__container fill-height flexbox-area-grow"},c.default.createElement("div",{className:"breadcrumb__list-container"},c.default.createElement("ol",{className:"breadcrumb"},this.renderBreadcrumbs())),this.renderLastCrumb())}}]),t}(p.default);m.propTypes={crumbs:c.default.PropTypes.array},t.Breadcrumb=m,t.default=(0,f.connect)(s)(m)},927:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function s(e){var t=function(t){function n(){return o(this,n),i(this,(n.__proto__||Object.getPrototypeOf(n)).apply(this,arguments))}return a(n,t),u(n,[{key:"renderDescription",value:function(){return null===this.props.description?null:(0,y.default)("div",this.props.description,{className:"form__field-description"})}},{key:"renderMessage",value:function(){var e=this.props.meta,t=e?e.error:null;return!t||e&&!e.touched?null:d.default.createElement(v.default,l({className:"form__field-message"},t))}},{key:"renderLeftTitle",value:function(){var e=null!==this.props.leftTitle?this.props.leftTitle:this.props.title;return!e||this.props.hideLabels?null:(0,y.default)(h.ControlLabel,e,{className:"form__field-label"})}},{key:"renderRightTitle",value:function(){return!this.props.rightTitle||this.props.hideLabels?null:(0,y.default)(h.ControlLabel,this.props.rightTitle,{className:"form__field-label"})}},{key:"getHolderProps",value:function(){var e=["field",this.props.extraClass];return this.props.readOnly&&e.push("readonly"),{bsClass:this.props.bsClass,bsSize:this.props.bsSize,validationState:this.props.validationState,className:e.join(" "),controlId:this.props.id,id:this.props.holderId}}},{key:"renderField",value:function(){var t=d.default.createElement(e,this.props),n=this.props.data.prefix,r=this.props.data.suffix;return n||r?d.default.createElement(h.InputGroup,null,n&&d.default.createElement(h.InputGroup.Addon,null,n),t,r&&d.default.createElement(h.InputGroup.Addon,null,r)):t}},{key:"render",value:function(){return d.default.createElement(h.FormGroup,this.getHolderProps(),this.renderLeftTitle(),d.default.createElement("div",{className:"form__field-holder"},this.renderField(),this.renderMessage(),this.renderDescription()),this.renderRightTitle())}}]),n}(f.default);return t.propTypes={leftTitle:c.PropTypes.any,rightTitle:c.PropTypes.any,title:c.PropTypes.any,extraClass:c.PropTypes.string,holderId:c.PropTypes.string,id:c.PropTypes.string,description:c.PropTypes.any,hideLabels:c.PropTypes.bool,message:c.PropTypes.shape({extraClass:c.PropTypes.string,value:c.PropTypes.any,type:c.PropTypes.string}),data:c.PropTypes.oneOfType([c.PropTypes.array,c.PropTypes.shape({prefix:c.PropTypes.string,suffix:c.PropTypes.string})])},t.defaultProps={className:"",extraClass:"",leftTitle:null,rightTitle:null,data:{}},t}Object.defineProperty(t,"__esModule",{value:!0});var l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},u=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),c=n(0),d=r(c),p=n(12),f=r(p),h=n(39),m=n(124),y=r(m),b=n(389),v=r(b);t.default=s},928:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},l=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=n(0),c=r(u),d=n(28),p=r(d),f=n(389),h=r(f),m=function(e){function t(){return o(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return a(t,e),l(t,[{key:"componentDidMount",value:function(){if(this.props.autoFocus){var e=p.default.findDOMNode(this);if(e){var t=e.querySelector("input, select, textarea");t&&t.focus()}}}},{key:"renderMessages",value:function(){return Array.isArray(this.props.messages)?this.props.messages.map(function(e,t){return c.default.createElement(h.default,s({key:t,className:t?"":"message-box--panel-top"},e))}):null}},{key:"render",value:function(){var e=!1!==this.props.valid,t=this.props.mapFieldsToComponents(this.props.fields),n=this.props.mapActionsToComponents(this.props.actions),r=this.renderMessages(),o=["form"];!1===e&&o.push("form--invalid"),this.props.attributes&&this.props.attributes.className&&o.push(this.props.attributes.className);var i=Object.assign({},this.props.attributes,{onSubmit:this.props.handleSubmit,className:o.join(" ")});return c.default.createElement("form",i,t&&c.default.createElement("fieldset",null,r,this.props.afterMessages,t),n&&n.length?c.default.createElement("div",{className:"btn-toolbar",role:"group"},n):null)}}]),t}(u.Component);m.propTypes={autoFocus:u.PropTypes.bool,valid:u.PropTypes.bool,actions:u.PropTypes.array,afterMessages:u.PropTypes.node,attributes:u.PropTypes.shape({action:u.PropTypes.string.isRequired,className:u.PropTypes.string,encType:u.PropTypes.string,id:u.PropTypes.string,method:u.PropTypes.string.isRequired}),fields:u.PropTypes.array.isRequired,handleSubmit:u.PropTypes.func,mapActionsToComponents:u.PropTypes.func.isRequired,mapFieldsToComponents:u.PropTypes.func.isRequired,messages:u.PropTypes.arrayOf(u.PropTypes.shape({extraClass:u.PropTypes.string,value:u.PropTypes.any,type:u.PropTypes.string}))},t.default=m},929:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={CSRF_HEADER:"X-SecurityID"}},930:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=n(0),u=r(l),c=n(12),d=r(c),p=n(124),f=r(p),h=function(e){function t(e){o(this,t);var n=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.handleClick=n.handleClick.bind(n),n}return a(t,e),s(t,[{key:"render",value:function(){return u.default.createElement("button",this.getButtonProps(),this.getLoadingIcon(),(0,f.default)("span",this.props.title))}},{key:"getButtonProps",value:function(){return Object.assign({},void 0===this.props.attributes?{}:this.props.attributes,{id:this.props.id,name:this.props.name,className:this.getButtonClasses(),disabled:this.props.disabled,onClick:this.handleClick})}},{key:"getButtonClasses",value:function(){var e=["btn"],t=this.getButtonStyle();t&&e.push("btn-"+t),"string"!=typeof this.props.title&&e.push("btn--no-text");var n=this.getIcon();return n&&e.push("font-icon-"+n),this.props.loading&&e.push("btn--loading"),this.props.disabled&&e.push("disabled"),"string"==typeof this.props.extraClass&&e.push(this.props.extraClass),e.join(" ")}},{key:"getButtonStyle",value:function(){if(void 0!==this.props.data.buttonStyle)return this.props.data.buttonStyle;if(void 0!==this.props.buttonStyle)return this.props.buttonStyle;var e=this.props.extraClass.split(" ");return e.find(function(e){return e.indexOf("btn-")>-1})?null:"action_save"===this.props.name||e.find(function(e){return"ss-ui-action-constructive"===e})?"primary":"secondary"}},{key:"getIcon",value:function(){return this.props.icon||this.props.data.icon||null}},{key:"getLoadingIcon",value:function(){return this.props.loading?u.default.createElement("div",{className:"btn__loading-icon"},u.default.createElement("span",{className:"btn__circle btn__circle--1"}),u.default.createElement("span",{className:"btn__circle btn__circle--2"}),u.default.createElement("span",{className:"btn__circle btn__circle--3"})):null}},{key:"handleClick",value:function(e){"function"==typeof this.props.handleClick&&this.props.handleClick(e,this.props.name||this.props.id)}}]),t}(d.default);h.propTypes={id:u.default.PropTypes.string,name:u.default.PropTypes.string,handleClick:u.default.PropTypes.func,title:u.default.PropTypes.string,type:u.default.PropTypes.string,loading:u.default.PropTypes.bool,icon:u.default.PropTypes.string,disabled:u.default.PropTypes.bool,data:u.default.PropTypes.oneOfType([u.default.PropTypes.array,u.default.PropTypes.shape({buttonStyle:u.default.PropTypes.string})]),extraClass:u.default.PropTypes.string,attributes:u.default.PropTypes.object},h.defaultProps={title:"",icon:"",extraClass:"",attributes:{},data:{},disabled:!1},t.default=h},931:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=n(0),u=r(l),c=n(12),d=r(c),p=n(39),f=n(124),h=r(f),m=function(e){function t(e){o(this,t);var n=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.handleDismiss=n.handleDismiss.bind(n),n.state={visible:!0},n}return a(t,e),s(t,[{key:"handleDismiss",value:function(){"function"==typeof this.props.onDismiss?this.props.onDismiss():this.setState({visible:!1})}},{key:"getMessageStyle",value:function(){switch(this.props.type){case"good":case"success":return"success";case"info":return"info";case"warn":case"warning":return"warning";default:return"danger"}}},{key:"getMessageProps",value:function(){return{className:["message-box","message-box--"+(this.props.type||"no-type"),this.props.className,this.props.extraClass].join(" "),bsStyle:this.props.bsStyle||this.getMessageStyle(),bsClass:this.props.bsClass,onDismiss:this.props.closeLabel?this.handleDismiss:null,closeLabel:this.props.closeLabel}}},{key:"render",value:function(){if("boolean"!=typeof this.props.visible&&this.state.visible||this.props.visible){var e=(0,h.default)("div",this.props.value);if(e)return u.default.createElement(p.Alert,this.getMessageProps(),e)}return null}}]),t}(d.default);m.propTypes={extraClass:l.PropTypes.string,value:l.PropTypes.any,type:l.PropTypes.string,onDismiss:l.PropTypes.func,closeLabel:l.PropTypes.string,visible:l.PropTypes.bool},m.defaultProps={extraClass:"",className:""},t.default=m},932:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.schemaPropType=t.basePropTypes=void 0;var l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},u=function(){function e(e,t){var n=[],r=!0,o=!1,i=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){o=!0,i=e}finally{try{!r&&s.return&&s.return()}finally{if(o)throw i}}return n}return function(t,n){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),c=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),d=n(0),p=r(d),f=n(150),h=r(f),m=n(760),y=r(m),b=n(12),v=r(b),g=n(913),_=r(g),w=n(1855),T=r(w),P=n(63),O=function(e){function t(e){i(this,t);var n=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e)),r=e.schema.schema;return n.state={submittingAction:null},n.submitApi=T.default.createEndpointFetcher({url:r.attributes.action,method:r.attributes.method}),n.mapActionsToComponents=n.mapActionsToComponents.bind(n),n.mapFieldsToComponents=n.mapFieldsToComponents.bind(n),n.handleSubmit=n.handleSubmit.bind(n),n.handleAction=n.handleAction.bind(n),n.buildComponent=n.buildComponent.bind(n),n.validateForm=n.validateForm.bind(n),n}return s(t,e),c(t,[{key:"validateForm",value:function(e){var t=this;if("function"==typeof this.props.validate)return this.props.validate(e);if(!this.props.schema||!this.props.schema.schema)return{};var n=new _.default(e);return Object.entries(e).reduce(function(e,r){var i=u(r,1),a=i[0],s=(0,m.findField)(t.props.schema.schema.fields,a),l=n.validateFieldSchema(s),c=l.valid,d=l.errors;if(c)return e;var f=d.map(function(e,t){return p.default.createElement("span",{key:t,className:"form__validation-message"},e)});return Object.assign({},e,o({},a,{type:"error",value:{react:f}}))},{})}},{key:"handleAction",value:function(e){"function"==typeof this.props.handleAction&&this.props.handleAction(e,this.props.values),e.isPropagationStopped()||this.setState({submittingAction:e.currentTarget.name})}},{key:"handleSubmit",value:function(e){var t=this,n=this.state.submittingAction?this.state.submittingAction:this.props.schema.schema.actions[0].name,r=Object.assign({},e,o({},n,1)),i=this.props.responseRequestedSchema.join(),a={"X-Formschema-Request":i,"X-Requested-With":"XMLHttpRequest"},s=function(e){return t.submitApi(e||r,a).then(function(e){return t.setState({submittingAction:null}),e}).catch(function(e){throw t.setState({submittingAction:null}),e})};return"function"==typeof this.props.handleSubmit?this.props.handleSubmit(r,n,s):s()}},{key:"buildComponent",value:function(e){var t=e,n=null!==t.schemaComponent?this.context.injector.get(t.schemaComponent):this.getComponentForDataType(t.schemaType);if(null===n)return null;if(null!==t.schemaComponent&&void 0===n)throw Error("Component not found in injector: "+t.schemaComponent);t=Object.assign({},t,t.input),delete t.input;var r=this.props.createFn;return"function"==typeof r?r(n,t):p.default.createElement(n,l({key:t.id},t))}},{key:"mapFieldsToComponents",value:function(e){var t=this,n=this.props.baseFieldComponent;return e.map(function(e){var r=e;return e.children&&(r=Object.assign({},e,{children:t.mapFieldsToComponents(e.children)})),r=Object.assign({onAutofill:t.props.onAutofill,formid:t.props.form},r),"Structural"===e.schemaType||!0===e.readOnly?t.buildComponent(r):p.default.createElement(n,l({key:r.id},r,{component:t.buildComponent}))})}},{key:"getComponentForDataType",value:function(e){var t=this.context.injector.get;switch(e){case"String":case"Text":return t("TextField");case"Date":return t("DateField");case"Time":return t("TimeField");case"Datetime":return t("DatetimeField");case"Hidden":return t("HiddenField");case"SingleSelect":return t("SingleSelectField");case"Custom":return t("GridField");case"Structural":return t("CompositeField");case"Boolean":return t("CheckboxField");case"MultiSelect":return t("CheckboxSetField");default:return null}}},{key:"mapActionsToComponents",value:function(e){var t=this;return e.map(function(e){var n=Object.assign({},e);return e.children?n.children=t.mapActionsToComponents(e.children):(n.handleClick=t.handleAction,t.props.submitting&&t.state.submittingAction===e.name&&(n.loading=!0)),t.buildComponent(n)})}},{key:"normalizeFields",value:function(e,t){var n=this;return e.map(function(e){var r=t&&t.fields?t.fields.find(function(t){return t.id===e.id}):{},o=h.default.recursive(!0,(0,m.schemaMerge)(e,r),{schemaComponent:e.component});return e.children&&(o.children=n.normalizeFields(e.children,t)),o})}},{key:"normalizeActions",value:function(e){var t=this;return e.map(function(e){var n=h.default.recursive(!0,e,{schemaComponent:e.component});return e.children&&(n.children=t.normalizeActions(e.children)),n})}},{key:"render",value:function(){var e=this.props.schema.schema,t=this.props.schema.state,n=this.props.baseFormComponent,r=Object.assign({},e.attributes,{className:e.attributes.class,encType:e.attributes.enctype});delete r.class,delete r.enctype;var o=this.props,i=o.asyncValidate,a=o.onSubmitFail,s=o.onSubmitSuccess,l=o.shouldAsyncValidate,u=o.touchOnBlur,c=o.touchOnChange,d=o.persistentSubmitErrors,f=o.form,h=o.afterMessages,m=o.autoFocus,b={form:f,afterMessages:h,fields:this.normalizeFields(e.fields,t),actions:this.normalizeActions(e.actions),attributes:r,data:e.data,initialValues:(0,y.default)(e,t),onSubmit:this.handleSubmit,valid:t&&t.valid,messages:t&&Array.isArray(t.messages)?t.messages:[],mapActionsToComponents:this.mapActionsToComponents,mapFieldsToComponents:this.mapFieldsToComponents,asyncValidate:i,onSubmitFail:a,onSubmitSuccess:s,shouldAsyncValidate:l,touchOnBlur:u,touchOnChange:c,persistentSubmitErrors:d,validate:this.validateForm,autoFocus:m};return p.default.createElement(n,b)}}]),t}(v.default),C=d.PropTypes.shape({id:d.PropTypes.string,schema:d.PropTypes.shape({attributes:d.PropTypes.shape({class:d.PropTypes.string,enctype:d.PropTypes.string}),fields:d.PropTypes.array.isRequired}),state:d.PropTypes.shape({fields:d.PropTypes.array}),loading:d.PropTypes.boolean,stateOverride:d.PropTypes.shape({fields:d.PropTypes.array})}),E={createFn:d.PropTypes.func,handleSubmit:d.PropTypes.func,handleAction:d.PropTypes.func,asyncValidate:d.PropTypes.func,onSubmitFail:d.PropTypes.func,onSubmitSuccess:d.PropTypes.func,shouldAsyncValidate:d.PropTypes.func,touchOnBlur:d.PropTypes.bool,touchOnChange:d.PropTypes.bool,persistentSubmitErrors:d.PropTypes.bool,validate:d.PropTypes.func,values:d.PropTypes.object,submitting:d.PropTypes.bool,baseFormComponent:d.PropTypes.func.isRequired,baseFieldComponent:d.PropTypes.func.isRequired,responseRequestedSchema:d.PropTypes.arrayOf(d.PropTypes.oneOf(["schema","state","errors","auto"]))};O.propTypes=Object.assign({},E,{form:d.PropTypes.string.isRequired,schema:C.isRequired,autoFocus:d.PropTypes.bool}),O.defaultProps={responseRequestedSchema:["auto"],autoFocus:!1},t.basePropTypes=E,t.schemaPropType=C,t.default=(0,P.withInjector)(O)},933:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=n(0),u=r(l),c=n(23),d=r(c),p=n(39),f=n(12),h=r(f),m=n(1859),y=r(m),b=n(124),v=r(b),g=function(e){function t(e){o(this,t);var n=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.handleSubmit=n.handleSubmit.bind(n),n.handleHide=n.handleHide.bind(n),n.clearResponse=n.clearResponse.bind(n),n.handleLoadingError=n.handleLoadingError.bind(n),n}return a(t,e),s(t,[{key:"handleLoadingError",value:function(e){if(this.props.showErrorMessage){var t=e.errors&&e.errors[0];this.setState({response:t.value,error:!0})}"function"==typeof this.props.onLoadingError&&this.props.onLoadingError(e)}},{key:"getForm",value:function(){return this.props.schemaUrl?u.default.createElement(y.default,{schemaUrl:this.props.schemaUrl,handleSubmit:this.handleSubmit,handleAction:this.props.handleAction,onLoadingError:this.handleLoadingError}):null}},{key:"getResponse",value:function(){if(!this.state||!this.state.response)return null;var e="";return e=this.state.error?this.props.responseClassBad||"response error":this.props.responseClassGood||"response good",u.default.createElement("div",{className:e},(0,v.default)("span",{html:this.state.response}))}},{key:"clearResponse",value:function(){this.setState({response:null})}},{key:"handleHide",value:function(){this.clearResponse(),"function"==typeof this.props.handleHide&&this.props.handleHide()}},{key:"handleSubmit",value:function(e,t,n){var r=this;this.clearResponse();var o=null;if(!(o="function"==typeof this.props.handleSubmit?this.props.handleSubmit(e,t,n):n()))throw new Error("Promise was not returned for submitting");return o.then(function(e){return e&&r.setState({response:e.message,error:!1}),e}).catch(function(e){e.then(function(e){r.setState({response:e,error:!0})})}),o}},{key:"renderHeader",value:function(){return!1!==this.props.title?u.default.createElement(p.Modal.Header,{closeButton:!0},u.default.createElement(p.Modal.Title,null,this.props.title)):"function"==typeof this.props.handleHide?u.default.createElement("button",{type:"button",className:"close form-builder-modal__close-button",onClick:this.handleHide,"aria-label":d.default._t("Admin.CLOSE","Close")},u.default.createElement("span",{"aria-hidden":"true"},"×")):null}},{key:"render",value:function(){var e=this.getForm(),t=this.getResponse();return u.default.createElement(p.Modal,{show:this.props.show,onHide:this.handleHide,className:this.props.className,dialogClassName:this.props.dialogClassName,bsSize:this.props.bsSize},this.renderHeader(),u.default.createElement(p.Modal.Body,{className:this.props.bodyClassName},t,e,this.props.children))}}]),t}(h.default);g.propTypes={show:u.default.PropTypes.bool,title:u.default.PropTypes.oneOfType([u.default.PropTypes.string,u.default.PropTypes.bool]),className:u.default.PropTypes.string,bodyClassName:u.default.PropTypes.string,handleHide:u.default.PropTypes.func,schemaUrl:u.default.PropTypes.string,handleSubmit:u.default.PropTypes.func,handleAction:u.default.PropTypes.func,responseClassGood:u.default.PropTypes.string,responseClassBad:u.default.PropTypes.string,showErrorMessage:u.default.PropTypes.bool},g.defaultProps={show:!1,title:null},t.default=g},934:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function s(e,t){var n=t.data?t.data.recordType:null;return{config:e.config,records:n&&e.records[n]?e.records[n]:I}}function l(e){return{actions:(0,m.bindActionCreators)(M,e)}}Object.defineProperty(t,"__esModule",{value:!0});var u=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),c=function e(t,n,r){null===t&&(t=Function.prototype);var o=Object.getOwnPropertyDescriptor(t,n);if(void 0===o){var i=Object.getPrototypeOf(t);return null===i?void 0:e(i,n,r)}if("value"in o)return o.value;var a=o.get;return void 0!==a?a.call(r):void 0},d=n(0),p=r(d),f=n(23),h=r(f),m=n(44),y=n(43),b=n(12),v=r(b),g=n(889),_=r(g),w=n(887),T=r(w),P=n(888),O=r(P),C=n(248),E=r(C),j=n(886),k=r(j),S=n(885),R=r(S),x=n(884),D=r(x),F=n(1864),M=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(F),I={},N=function(e){function t(e){o(this,t);var n=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.deleteRecord=n.deleteRecord.bind(n),n.editRecord=n.editRecord.bind(n),n}return a(t,e),u(t,[{key:"componentDidMount",value:function(){c(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"componentDidMount",this).call(this);var e=this.props.data;this.props.actions.fetchRecords(e.recordType,e.collectionReadEndpoint.method,e.collectionReadEndpoint.url)}},{key:"render",value:function(){var e=this;if(this.props.records===I)return p.default.createElement("div",null,h.default._t("CampaignAdmin.LOADING","Loading..."));if(!Object.getOwnPropertyNames(this.props.records).length)return p.default.createElement("div",null,h.default._t("CampaignAdmin.NO_RECORDS","No campaigns created yet."));var t=p.default.createElement("th",{key:"holder",className:"grid-field__action-placeholder"}),n=this.props.data.columns.map(function(e){return p.default.createElement(O.default,{key:""+e.name},e.name)}),r=p.default.createElement(T.default,null,n.concat(t)),o=Object.keys(this.props.records).map(function(t){return e.createRow(e.props.records[t])});return p.default.createElement(_.default,{header:r,rows:o})}},{key:"createRowActions",value:function(e){return p.default.createElement(k.default,{className:"grid-field__cell--actions",key:"Actions"},p.default.createElement(R.default,{icon:"cog",handleClick:this.editRecord,record:e}),p.default.createElement(R.default,{icon:"cancel",handleClick:this.deleteRecord,record:e}))}},{key:"createCell",value:function(e,t){var n=this.props.data.handleDrillDown,r={className:n?"grid-field__cell--drillable":"",handleDrillDown:n?function(t){return n(t,e)}:null,key:""+t.name,width:t.width},o=t.field.split(".").reduce(function(e,t){return e[t]},e);return p.default.createElement(k.default,r,o)}},{key:"createRow",value:function(e){var t=this,n={className:this.props.data.handleDrillDown?"grid-field__row--drillable":"",key:""+e.ID},r=this.props.data.columns.map(function(n){return t.createCell(e,n)}),o=this.createRowActions(e);return p.default.createElement(E.default,n,r,o)}},{key:"deleteRecord",value:function(e,t){e.preventDefault();var n={};n[D.default.CSRF_HEADER]=this.props.config.SecurityID,confirm(h.default._t("CampaignAdmin.DELETECAMPAIGN","Are you sure you want to delete this record?"))&&this.props.actions.deleteRecord(this.props.data.recordType,t,this.props.data.itemDeleteEndpoint.method,this.props.data.itemDeleteEndpoint.url,n)}},{key:"editRecord",value:function(e,t){e.preventDefault(),void 0!==this.props.data&&void 0!==this.props.data.handleEditRecord&&this.props.data.handleEditRecord(e,t)}}]),t}(v.default);N.propTypes={data:p.default.PropTypes.shape({recordType:p.default.PropTypes.string.isRequired,headerColumns:p.default.PropTypes.array,collectionReadEndpoint:p.default.PropTypes.object,handleDrillDown:p.default.PropTypes.func,handleEditRecord:p.default.PropTypes.func})},t.default=(0,y.connect)(s,l)(N)},935:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=n(0),u=r(l),c=n(12),d=r(c),p=function(e){function t(e){o(this,t);var n=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.handleDrillDown=n.handleDrillDown.bind(n),n}return a(t,e),s(t,[{key:"render",value:function(){var e=["grid-field__cell"];void 0!==this.props.className&&e.push(this.props.className);var t={className:e.join(" "),onClick:this.handleDrillDown};return u.default.createElement("td",t,this.props.children)}},{key:"handleDrillDown",value:function(e){void 0!==this.props.handleDrillDown&&this.props.handleDrillDown(e)}}]),t}(d.default);p.PropTypes={className:u.default.PropTypes.string,width:u.default.PropTypes.number,handleDrillDown:u.default.PropTypes.func},t.default=p},936:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=n(0),u=r(l),c=n(12),d=r(c),p=n(248),f=r(p),h=function(e){function t(){return o(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return a(t,e),s(t,[{key:"render",value:function(){return u.default.createElement(f.default,null,this.props.children)}}]),t}(d.default);t.default=h},937:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=n(0),u=r(l),c=n(12),d=r(c),p=function(e){function t(){return o(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return a(t,e),s(t,[{key:"render",value:function(){return u.default.createElement("th",null,this.props.children)}}]),t}(d.default);p.PropTypes={width:u.default.PropTypes.number},t.default=p},938:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=n(0),u=r(l),c=n(12),d=r(c),p=function(e){function t(){return o(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return a(t,e),s(t,[{key:"render",value:function(){var e="grid-field__row "+this.props.className;return u.default.createElement("tr",{tabIndex:"0",className:e},this.props.children)}}]),t}(d.default);t.default=p},939:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=n(0),u=r(l),c=n(12),d=r(c),p=function(e){function t(){return o(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return a(t,e),s(t,[{key:"render",value:function(){return u.default.createElement("div",{className:"grid-field"},u.default.createElement("table",{className:"table table-hover grid-field__table"},u.default.createElement("thead",null,this.generateHeader()),u.default.createElement("tbody",null,this.generateRows())))}},{key:"generateHeader",value:function(){return void 0!==this.props.header?this.props.header:(this.props.data,null)}},{key:"generateRows",value:function(){return void 0!==this.props.rows?this.props.rows:(this.props.data,null)}}]),t}(d.default);p.propTypes={data:u.default.PropTypes.object,header:u.default.PropTypes.object,rows:u.default.PropTypes.array},t.default=p},940:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=n(0),u=r(l),c=n(12),d=r(c),p=n(39),f=function(e){function t(){return o(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return a(t,e),s(t,[{key:"getInputProps",value:function(){return{bsClass:this.props.bsClass,componentClass:"input",className:this.props.className+" "+this.props.extraClass,id:this.props.id,name:this.props.name,type:"hidden",value:this.props.value}}},{key:"render",value:function(){return u.default.createElement(p.FormControl,this.getInputProps())}}]),t}(d.default);f.propTypes={id:u.default.PropTypes.string,extraClass:u.default.PropTypes.string,name:u.default.PropTypes.string.isRequired,value:u.default.PropTypes.any},f.defaultProps={className:"",extraClass:"",value:""},t.default=f},941:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=n(0),u=r(l),c=n(12),d=r(c),p=n(894),f=r(p),h=function(e){function t(){return o(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return a(t,e),s(t,[{key:"render",value:function(){return u.default.createElement("div",{className:"list-group"},this.props.items.map(function(){return u.default.createElement(f.default,null)}))}}]),t}(d.default);h.propTypes={items:u.default.PropTypes.array},t.default=h},942:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=n(0),u=r(l),c=n(12),d=r(c),p=function(e){function t(e){o(this,t);var n=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.handleClick=n.handleClick.bind(n),n}return a(t,e),s(t,[{key:"render",value:function(){var e="list-group-item "+this.props.className;return u.default.createElement("a",{tabIndex:"0",className:e,onClick:this.handleClick},this.props.children)}},{key:"handleClick",value:function(e){this.props.handleClick&&this.props.handleClick(e,this.props.handleClickArg)}}]),t}(d.default);p.propTypes={handleClickArg:u.default.PropTypes.any,handleClick:u.default.PropTypes.func},t.default=p},943:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},l=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=n(0),c=r(u),d=n(12),p=r(d),f=function(e){function t(){return o(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return a(t,e),l(t,[{key:"getContent",value:function(){return{__html:this.props.value}}},{key:"getInputProps",value:function(){return{className:this.props.className+" "+this.props.extraClass,id:this.props.id,name:this.props.name}}},{key:"render",value:function(){return c.default.createElement("div",s({},this.getInputProps(),{dangerouslySetInnerHTML:this.getContent()}))}}]),t}(p.default);f.propTypes={id:c.default.PropTypes.string,name:c.default.PropTypes.string.isRequired,extraClass:c.default.PropTypes.string,value:c.default.PropTypes.string},f.defaultProps={extraClass:"",className:""},t.default=f},944:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=n(0),u=r(l),c=n(23),d=r(c),p=n(12),f=r(p),h=function(e){function t(e){o(this,t);var n=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.handleBackClick=n.handleBackClick.bind(n),n}return a(t,e),s(t,[{key:"handleBackClick",value:function(e){"function"==typeof this.props.onBack&&(e.preventDefault(),this.props.onBack(e))}},{key:"render",value:function(){var e=null,t=null,n="";this.props.itemLinks&&this.props.itemLinks.preview&&(this.props.itemLinks.preview.Stage?(t=this.props.itemLinks.preview.Stage.href,n=this.props.itemLinks.preview.Stage.type):this.props.itemLinks.preview.Live&&(t=this.props.itemLinks.preview.Live.href,n=this.props.itemLinks.preview.Live.type));var r=null,o=[];this.props.itemLinks&&this.props.itemLinks.edit&&(r=this.props.itemLinks.edit.href,o.push(u.default.createElement("a",{key:"edit",href:r,className:"btn btn-secondary-outline font-icon-edit"},u.default.createElement("span",{className:"btn__title"},d.default._t("Admin.EDIT","Edit"))))),e=this.props.itemId?t?n&&0===n.indexOf("image/")?u.default.createElement("div",{className:"preview__file-container panel--scrollable"},u.default.createElement("img",{alt:t,className:"preview__file--fits-space",src:t})):u.default.createElement("iframe",{className:"flexbox-area-grow preview__iframe",src:t}):u.default.createElement("div",{className:"preview__overlay"},u.default.createElement("h3",{className:"preview__overlay-text"},"There is no preview available for this item.")):u.default.createElement("div",{className:"preview__overlay"},u.default.createElement("h3",{className:"preview__overlay-text"},"No preview available."));var i="function"==typeof this.props.onBack&&u.default.createElement("button",{className:"btn btn-secondary font-icon-left-open-big toolbar__back-button hidden-lg-up",type:"button",onClick:this.handleBackClick},"Back");return u.default.createElement("div",{className:"flexbox-area-grow fill-height preview campaign-admin__campaign-preview"},e,u.default.createElement("div",{className:"toolbar toolbar--south"},i,u.default.createElement("div",{className:"btn-toolbar"},o)))}}]),t}(f.default);h.propTypes={itemLinks:u.default.PropTypes.object,itemId:u.default.PropTypes.number,onBack:u.default.PropTypes.func},t.default=h},945:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.TextField=void 0;var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=n(0),u=r(l),c=n(12),d=r(c),p=n(42),f=r(p),h=n(39),m=function(e){function t(e){o(this,t);var n=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.handleChange=n.handleChange.bind(n),n}return a(t,e),s(t,[{key:"render",value:function(){return u.default.createElement(h.FormControl,this.getInputProps())}},{key:"getInputProps",value:function(){var e={bsClass:this.props.bsClass,className:this.props.className+" "+this.props.extraClass,id:this.props.id,name:this.props.name,disabled:this.props.disabled,readOnly:this.props.readOnly,value:this.props.value,placeholder:this.props.placeholder,autoFocus:this.props.autoFocus};return this.isMultiline()?Object.assign(e,{componentClass:"textarea",rows:this.props.data.rows,cols:this.props.data.columns}):Object.assign(e,{componentClass:"input",type:this.props.type?this.props.type:null}),this.props.readOnly||Object.assign(e,{onChange:this.handleChange}),e}},{key:"isMultiline",value:function(){return this.props.data&&this.props.data.rows>1}},{key:"handleChange",value:function(e){"function"==typeof this.props.onChange&&this.props.onChange(e,{id:this.props.id,value:e.target.value})}}]),t}(d.default);m.propTypes={extraClass:u.default.PropTypes.string,id:u.default.PropTypes.string,name:u.default.PropTypes.string.isRequired,onChange:u.default.PropTypes.func,value:u.default.PropTypes.oneOfType([u.default.PropTypes.string,u.default.PropTypes.number]),readOnly:u.default.PropTypes.bool,disabled:u.default.PropTypes.bool,placeholder:u.default.PropTypes.string,type:u.default.PropTypes.string,autoFocus:u.default.PropTypes.bool},m.defaultProps={value:"",extraClass:"",className:"",type:"text"},t.TextField=m,t.default=(0,f.default)(m)},946:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=n(0),u=r(l),c=n(12),d=r(c),p=function(e){function t(e){o(this,t);var n=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.handleBackButtonClick=n.handleBackButtonClick.bind(n),n}return a(t,e),s(t,[{key:"render",value:function(){var e=["btn","btn-secondary","action","font-icon-left-open-big","toolbar__back-button","btn--no-text"],t={className:e.join(" "),onClick:this.handleBackButtonClick,href:"#",type:"button"};return u.default.createElement("div",{className:"toolbar toolbar--north"},u.default.createElement("div",{className:"toolbar__navigation fill-width"},this.props.showBackButton&&u.default.createElement("button",t),this.props.children))}},{key:"handleBackButtonClick",value:function(e){if(void 0!==this.props.handleBackButtonClick)return void this.props.handleBackButtonClick(e);e.preventDefault()}}]),t}(d.default);p.propTypes={handleBackButtonClick:u.default.PropTypes.func,showBackButton:u.default.PropTypes.bool,breadcrumbs:u.default.PropTypes.array},p.defaultProps={showBackButton:!1},t.default=p},947:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function l(e,t){var n=t.id,r=e.treeDropdownField&&e.treeDropdownField.fields?e.treeDropdownField.fields[n]:null;return r?{tree:r.tree||{},visible:r.visible||[],loading:r.loading||[],failed:r.failed||[]}:{}}function u(e){return{actions:{treeDropdownField:(0,m.bindActionCreators)(C,e)}}}Object.defineProperty(t,"__esModule",{value:!0}),t.ConnectedTreeDropdownField=t.TreeDropdownField=void 0;var c=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},d=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),p=n(0),f=r(p),h=n(43),m=n(44),y=n(42),b=r(y),v=n(175),g=r(v),_=n(758),w=r(_),T=n(23),P=r(T),O=n(403),C=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(O),E=n(395),j=r(E),k=n(179),S=r(k),R=n(383),x=r(R),D=n(39),F=function(e){function t(e){i(this,t);var n=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.render=n.render.bind(n),n.renderMenu=n.renderMenu.bind(n),n.renderOption=n.renderOption.bind(n),n.getBreadcrumbs=n.getBreadcrumbs.bind(n),n.getDropdownOptions=n.getDropdownOptions.bind(n),n.getSelectedOption=n.getSelectedOption.bind(n),n.getVisibleTree=n.getVisibleTree.bind(n),n.handleBack=n.handleBack.bind(n),n.handleChange=n.handleChange.bind(n),n.handleKeyDown=n.handleKeyDown.bind(n),n.handleNavigate=n.handleNavigate.bind(n),n.callFetch=n.callFetch.bind(n),n.lazyLoad=n.lazyLoad.bind(n),n.findTreeByID=n.findTreeByID.bind(n),n.findTreeByPath=n.findTreeByPath.bind(n),n.findTreePath=n.findTreePath.bind(n),n}return s(t,e),d(t,[{key:"componentDidMount",value:function(){this.loadTree([])}},{key:"componentWillReceiveProps",value:function(e){e.data.cacheKey!==this.props.data.cacheKey&&this.loadTree([])}},{key:"getVisibleTree",value:function(){return this.findTreeByPath(this.props.tree,this.props.visible)}},{key:"getBreadcrumbs",value:function(){var e=[],t=this.props.tree,n=!0,r=!1,o=void 0;try{for(var i,a=this.props.visible[Symbol.iterator]();!(n=(i=a.next()).done)&&"break"!==function(){var n=i.value;if(!(t=t.children.find(function(e){return e.id===n})))return"break";e.push(t)}();n=!0);}catch(e){r=!0,o=e}finally{try{!n&&a.return&&a.return()}finally{if(r)throw o}}return e}},{key:"getSelectedOption",value:function(){return this.props.value?this.findTreeByID(this.props.tree,this.props.value)||(this.props.data.valueObject&&this.props.data.valueObject.id===this.props.value?this.props.data.valueObject:{id:this.props.value,title:P.default._t("Admin.TREEDROPDOWN_LOADING","Loading..."),disabled:!1}):null}},{key:"getDropdownOptions",value:function(e){var t=this.getVisibleTree(),n=t?t.children.slice(0):[];if(e){var r=n.find(function(t){return t.id===e});r||(r=this.getSelectedOption()),n.unshift(r)}return this.props.data.hasEmptyDefault&&!this.props.visible.length&&n.unshift({id:"",title:this.props.data.emptyString,disabled:!1}),n&&n.length?n:[{id:null,title:null,disabled:!0}]}},{key:"callFetch",value:function(e){var t=x.default.parse(this.props.data.urlTree,!0);t.search="",e.length&&(t.query.ID=e[e.length-1]),t.query.format="json";var n=x.default.format(t);return(0,g.default)(n,{credentials:"same-origin"}).then(function(e){return e.json()})}},{key:"findTreeByPath",value:function(e,t){if(!e||0===Object.keys(e).length)return null;if(0===t.length)return e;var n=t.slice(0),r=n.shift(),o=e.children.find(function(e){return e.id===r});return o?this.findTreeByPath(o,n):null}},{key:"findTreeByID",value:function(e,t){if(!e||0===Object.keys(e).length)return null;if(e.id===t)return e;var n=!0,r=!1,o=void 0;try{for(var i,a=e.children[Symbol.iterator]();!(n=(i=a.next()).done);n=!0){var s=i.value,l=this.findTreeByID(s,t);if(null!==l)return l}}catch(e){r=!0,o=e}finally{try{!n&&a.return&&a.return()}finally{if(r)throw o}}return null}},{key:"findTreePath",value:function(e,t){if(!t)return[];if(!e||0===Object.keys(e).length)return null;if(e.id===t)return[e.id];if(!e.children)return null;var n=!0,r=!1,o=void 0;try{for(var i,a=e.children[Symbol.iterator]();!(n=(i=a.next()).done);n=!0){var s=i.value,l=this.findTreePath(s,t);if(null!==l)return e.id&&l.unshift(e.id),l}}catch(e){r=!0,o=e}finally{try{!n&&a.return&&a.return()}finally{if(r)throw o}}return null}},{key:"lazyLoad",value:function(e){var t=this;if(e.find(function(e){return[].concat(o(t.props.loading),o(t.props.failed)).indexOf(e)>-1}))return Promise.resolve({});var n=this.findTreeByPath(this.props.tree,e);return n&&(0===n.count||n.children.length)?Promise.resolve({}):this.loadTree(e)}},{key:"loadTree",value:function(e){var t=this;return this.props.actions.treeDropdownField.beginTreeUpdating(this.props.id,e),this.callFetch(e).then(function(n){var r=0===Object.keys(t.props.tree).length;if(t.props.actions.treeDropdownField.updateTree(t.props.id,e,n),r&&t.props.value&&0===e.length){var o=t.findTreePath(n,t.props.value);o&&(o.pop(),t.props.actions.treeDropdownField.setVisible(t.props.id,o))}return n}).catch(function(n){if(t.props.actions.treeDropdownField.updateTreeFailed(t.props.id,e),"function"==typeof t.props.onLoadingError)return t.props.onLoadingError({errors:[{value:n.message,type:"error"}]});throw n})}},{key:"handleChange",value:function(e){var t=e?e.id:null;"function"==typeof this.props.onChange&&this.props.onChange(t)}},{key:"handleNavigate",value:function(e,t){e.stopPropagation(),e.preventDefault();var n=this.findTreePath(this.props.tree,t);n||(n=this.props.visible.slice(0),n.push(t)),this.lazyLoad(n),this.props.actions.treeDropdownField.setVisible(this.props.id,n)}},{key:"handleKeyDown",value:function(e){var t=this.selectField.getFocusedOption();if(t)switch(e.keyCode){case 37:this.handleBack(e);break;case 39:t.count&&this.handleNavigate(e,t.id)}}},{key:"handleBack",value:function(e){e.stopPropagation(),e.preventDefault();var t=this.props.visible;t.length&&(t=t.slice(0,t.length-1)),this.lazyLoad(t),this.props.actions.treeDropdownField.setVisible(this.props.id,t)}},{key:"renderMenu",value:function(e){var t=this.getVisibleTree(),n=Object.assign({},t,{children:this.getDropdownOptions().filter(function(e){return null!==e.title})}),r=this.props.loading.indexOf(n.id||0)>-1,o=this.props.failed.indexOf(n.id||0)>-1,i=this.getBreadcrumbs();return f.default.createElement(j.default,{loading:r,failed:o,tree:n,breadcrumbs:i,renderMenuOptions:e,onBack:this.handleBack})}},{key:"renderOption",value:function(e){var t=this,n=null;if(e.count){var r=function(n){return t.handleNavigate(n,e.id)};n=f.default.createElement("button",{className:"treedropdownfield__option-button",onClick:r,onMouseDown:r,onTouchEnd:r},f.default.createElement("span",{className:"treedropdownfield__option-count"},e.count),f.default.createElement("span",{className:"icon font-icon-list"}))}return f.default.createElement("div",{className:"treedropdownfield__option flexbox-area-grow fill-width"},f.default.createElement("span",{className:"treedropdownfield__option__title flexbox-area-grow"},e.title),n)}},{key:"render",value:function(){var e=this,t={id:this.props.id,readOnly:this.props.readOnly,disabled:this.props.disabled},n=this.props.extraClass?"treedropdownfield "+this.props.extraClass:"treedropdownfield",r=this.getDropdownOptions(this.props.value),o=0===this.props.value?"":this.props.value;if(this.props.readOnly||this.props.disabled){var i=this.props.data.valueObject,a=i&&i.title||this.props.data.emptyString;return f.default.createElement("div",{className:n},f.default.createElement("span",null,a),f.default.createElement(D.FormControl,c({type:"hidden",name:this.props.name,value:this.props.value},t)))}return f.default.createElement(w.default,{searchable:!1,className:n,name:this.props.name,options:r,inputProps:t,menuRenderer:this.renderMenu,optionRenderer:this.renderOption,onChange:this.handleChange,onInputKeyDown:this.handleKeyDown,value:o,ref:function(t){e.selectField=t},placeholder:this.props.data.emptyString,labelKey:"title",valueKey:"id"})}}]),t}(p.Component);F.propTypes={extraClass:p.PropTypes.string,id:p.PropTypes.string,name:p.PropTypes.string.isRequired,onChange:p.PropTypes.func,value:p.PropTypes.oneOfType([p.PropTypes.string,p.PropTypes.number]),readOnly:p.PropTypes.bool,disabled:p.PropTypes.bool,tree:p.PropTypes.shape(S.default.propTypes),visible:p.PropTypes.array,loading:p.PropTypes.array,failed:p.PropTypes.array,data:p.PropTypes.shape({cacheKey:p.PropTypes.string,urlTree:p.PropTypes.string.isRequired,emptyString:p.PropTypes.string,valueObject:p.PropTypes.shape({id:p.PropTypes.number,title:p.PropTypes.string}),hasEmptyDefault:p.PropTypes.bool}),onLoadingError:p.PropTypes.func,actions:p.PropTypes.shape({treeDropdownField:p.PropTypes.shape({beginTreeUpdating:p.PropTypes.func,updateTreeFailed:p.PropTypes.func,updateTree:p.PropTypes.func,setVisible:p.PropTypes.func})})},F.defaultProps={value:"",extraClass:"",className:"",tree:{},visible:[],loading:[],failed:[]};var M=(0,h.connect)(l,u)(F);t.TreeDropdownField=F,t.ConnectedTreeDropdownField=M,t.default=(0,b.default)(M)},948:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=n(0),u=r(l),c=n(23),d=r(c),p=n(8),f=r(p),h=n(179),m=r(h),y=function(e){function t(e){o(this,t);var n=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.render=n.render.bind(n),n.renderOption=n.renderOption.bind(n),n.renderBreadcrumbs=n.renderBreadcrumbs.bind(n),n.handleBack=n.handleBack.bind(n),n}return a(t,e),s(t,[{key:"handleBack",value:function(e){e.stopPropagation(),e.preventDefault(),"function"==typeof this.props.onBack&&this.props.onBack(e)}},{key:"renderBreadcrumbs",value:function(){if(0===this.props.breadcrumbs.length)return null;var e=this.props.breadcrumbs.map(function(e){return e.title}).join(" / "),t=u.default.createElement("button",{className:"treedropdownfield__breadcrumbs-button"},u.default.createElement("span",{className:"icon font-icon-level-up"}));return u.default.createElement("div",{className:"Select-option treedropdownfield__breadcrumbs flexbox-area-grow fill-width",onClick:this.handleBack},t,u.default.createElement("span",{className:"treedropdownfield__breadcrumbs-crumbs flexbox-area-grow"},e))}},{key:"renderOption",value:function(e,t){if(!this.props.renderMenuOptions)return null;var n=this.props.renderMenuOptions,r=n.focusedOption,o=n.instancePrefix,i=n.onFocus,a=n.onSelect,s=n.optionClassName,l=n.optionComponent,c=n.optionRenderer,d=n.valueArray,p=n.onOptionRef,h=l,m=d.findIndex(function(t){return t.id===e.id})>-1,y=r&&e.id===r.id,b=(0,f.default)(s,{treedropdownfield__option:!0,"Select-option":!0,"is-selected":m,"is-focused":y,"is-disabled":e.disabled});return u.default.createElement(h,{className:b,instancePrefix:o,isDisabled:e.disabled,isFocused:y,isSelected:m,key:"option-"+t+"-"+e.id,onFocus:i,onSelect:a,option:e,optionIndex:t,ref:function(e){p(e,y)}},c(e,t))}},{key:"render",value:function(){var e=this;if(this.props.loading)return u.default.createElement("div",{className:"Select-option flexbox-area-grow fill-width"},u.default.createElement("span",{className:"Select-loading-zone","aria-hidden":"true"},u.default.createElement("span",{className:"Select-loading"})),u.default.createElement("span",{className:"treedropdownfield__menu-loading flexbox-area-grow"},d.default._t("Admin.TREEDROPDOWN_LOADING","Loading...")));if(this.props.failed)return u.default.createElement("div",{className:"Select-option"},d.default._t("Admin.TREEDROPDOWN_FAILED","Failed to load"));if(0===this.props.tree.count)return u.default.createElement("div",{className:"Select-option"},d.default._t("Admin.TREEDROPDOWN_NO_CHILDREN","No children"));var t=this.renderBreadcrumbs(),n=this.props.tree.children.map(function(t,n){return e.renderOption(t,n)});return u.default.createElement("div",{className:"treedropdownfield__menu"},t,n)}}]),t}(l.Component);y.propTypes={className:l.PropTypes.string,breadcrumbs:l.PropTypes.arrayOf(l.PropTypes.shape(m.default.propTypes)),loading:l.PropTypes.bool,failed:l.PropTypes.bool,tree:l.PropTypes.shape(m.default.propTypes),renderMenuOptions:l.PropTypes.object,onBack:l.PropTypes.func},t.default=y},949:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(0),o=function(){return null};o.propTypes={id:r.PropTypes.oneOfType([r.PropTypes.string,r.PropTypes.number]),title:r.PropTypes.string,disabled:r.PropTypes.bool,count:r.PropTypes.number,depth:r.PropTypes.number,expanded:r.PropTypes.bool,limited:r.PropTypes.bool,marked:r.PropTypes.bool,opened:r.PropTypes.bool,children:r.PropTypes.array},t.default=o},950:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function l(e,t){var n=e.schemas[t.schemaUrl],r=e.form&&e.form[t.schemaUrl];return{schema:n,submitting:r&&r.submitting,values:r&&r.values,stateOverrides:n&&n.stateOverride,loading:n&&n.metadata&&n.metadata.loading}}function u(e){return{actions:{schema:(0,h.bindActionCreators)(T,e),reduxForm:(0,h.bindActionCreators)({autofill:g.autofill,initialize:g.initialize},e)}}}Object.defineProperty(t,"__esModule",{value:!0});var c=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),d=n(0),p=r(d),f=n(43),h=n(44),m=n(175),y=r(m),b=n(121),v=r(b),g=n(759),_=n(760),w=n(243),T=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(w),P=n(150),O=r(P),C=n(883),E=r(C),j=n(1858),k=r(j),S=function(e){function t(e){i(this,t);var n=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.handleSubmit=n.handleSubmit.bind(n),n.clearSchema=n.clearSchema.bind(n),n.reduceSchemaErrors=n.reduceSchemaErrors.bind(n),n.handleAutofill=n.handleAutofill.bind(n),n}return s(t,e),c(t,[{key:"componentDidMount",value:function(){this.fetch()}},{key:"componentDidUpdate",value:function(e){this.props.schemaUrl!==e.schemaUrl&&(this.clearSchema(e.schemaUrl),this.fetch())}},{key:"componentWillUnmount",value:function(){this.clearSchema(this.props.schemaUrl)}},{key:"getMessages",value:function(e){var t={};return e&&e.fields&&e.fields.forEach(function(e){e.message&&(t[e.name]=e.message)}),t}},{key:"clearSchema",value:function(e){e&&((0,g.destroy)(e),this.props.actions.schema.setSchema(e,null))}},{key:"handleSubmit",value:function(e,t,n){var r=this,i=null,a=function(){return n().then(function(e){var t=e;if(t){t=r.reduceSchemaErrors(t),r.props.actions.schema.setSchema(r.props.schemaUrl,t);var n=t.schema||r.props.schema.schema;if(t.state){var i=t.state.fields.reduce(function(e,t){if(!n)return e;var r=(0,_.findField)(n.fields,t.name);return r&&"Structural"!==r.schemaType&&!0!==r.readOnly?Object.assign({},e,o({},t.name,t.value)):e},{});r.props.actions.reduxForm.initialize(r.props.schemaUrl,i)}}return t})};if(!(i="function"==typeof this.props.handleSubmit?this.props.handleSubmit(e,t,a):n()))throw new Error("Promise was not returned for submitting");return i.then(function(e){if(!e||!e.state)return e;var t=r.getMessages(e.state);if(Object.keys(t).length)throw new g.SubmissionError(t);return e})}},{key:"reduceSchemaErrors",value:function(e){if(!e.errors)return e;var t=Object.assign({},e);return t.state||(t=Object.assign({},t,{state:this.props.schema.state})),t=Object.assign({},t,{state:Object.assign({},t.state,{fields:t.state.fields.map(function(t){return Object.assign({},t,{message:e.errors.find(function(e){return e.field===t.name})})}),messages:e.errors.filter(function(e){return!e.field})})}),delete t.errors,(0,v.default)(t)}},{key:"overrideStateData",value:function(e){if(!this.props.stateOverrides||!e)return e;var t=this.props.stateOverrides.fields,n=e.fields;return t&&n&&(n=n.map(function(e){var n=t.find(function(t){return t.name===e.name});return n?O.default.recursive(!0,e,n):e})),Object.assign({},e,this.props.stateOverrides,{fields:n})}},{key:"callFetch",value:function(e){return(0,y.default)(this.props.schemaUrl,{headers:{"X-FormSchema-Request":e.join(",")},credentials:"same-origin"}).then(function(e){return e.json()})}},{key:"fetch",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],t=this,n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],r=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],o=["auto"];return e&&o.push("schema"),n&&o.push("state"),r&&o.push("errors"),this.props.loading?Promise.resolve({}):(this.props.actions.schema.setSchemaLoading(this.props.schemaUrl,!0),this.callFetch(o).then(function(e){if(t.props.actions.schema.setSchemaLoading(t.props.schemaUrl,!1),"function"==typeof t.props.onFetchingSchema&&t.props.onFetchingSchema(),e.errors&&"function"==typeof t.props.onLoadingError)return t.props.onLoadingError(e);if(void 0!==e.id){var n=Object.assign({},e,{id:t.props.schemaUrl,state:t.overrideStateData(e.state)});return t.props.actions.schema.setSchema(t.props.schemaUrl,n),n}return e}).catch(function(e){if(t.props.actions.schema.setSchemaLoading(t.props.schemaUrl,!1),"function"==typeof t.props.onLoadingError)return t.props.onLoadingError({errors:[{value:e.message,type:"error"}]});throw e}))}},{key:"handleAutofill",value:function(e,t){this.props.actions.reduxForm.autofill(this.props.schemaUrl,e,t)}},{key:"render",value:function(){if(!this.props.schema||!this.props.schema.schema||this.props.loading)return null;var e=Object.assign({},this.props,{form:this.props.schemaUrl,onSubmitSuccess:this.props.onSubmitSuccess,handleSubmit:this.handleSubmit,onAutofill:this.handleAutofill});return p.default.createElement(k.default,e)}}]),t}(d.Component);S.propTypes=Object.assign({},j.basePropTypes,{actions:d.PropTypes.shape({schema:d.PropTypes.object,reduxFrom:d.PropTypes.object}),schemaUrl:d.PropTypes.string.isRequired,schema:j.schemaPropType,form:d.PropTypes.string,submitting:d.PropTypes.bool,onFetchingSchema:d.PropTypes.func}),S.defaultProps={baseFormComponent:(0,g.reduxForm)()(E.default),baseFieldComponent:g.Field},t.default=(0,f.connect)(l,u)(S)},951:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function s(e){return{actions:{schema:(0,d.bindActionCreators)(v,e)}}}Object.defineProperty(t,"__esModule",{value:!0}),t.createInsertLinkModal=t.InsertLinkModal=void 0;var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=n(0),c=r(u),d=n(44),p=n(43),f=n(755),h=r(f),m=n(904),y=r(m),b=n(243),v=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(b),g=function(e){function t(e){o(this,t);var n=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.handleSubmit=n.handleSubmit.bind(n),e.setOverrides(e.show?e:null),n}return a(t,e),l(t,[{key:"componentWillReceiveProps",value:function(e){(e.show&&!this.props.show||!e.show&&this.props.show)&&e.setOverrides(e.show?e:null)}},{key:"getModalProps",value:function(){var e=Object.assign({},this.props,{handleSubmit:this.handleSubmit,handleHide:this.props.onHide});return delete e.onHide,delete e.onInsert,delete e.sectionConfig,e}},{key:"handleSubmit",value:function(e,t){switch(t){case"action_cancel":this.props.onHide();break;default:this.props.onInsert(e,t)}return Promise.resolve()}},{key:"render",value:function(){var e=this.getModalProps();return c.default.createElement(h.default,e)}}]),t}(u.Component);g.propTypes={show:u.PropTypes.bool,schemaUrl:u.PropTypes.string,onInsert:u.PropTypes.func.isRequired,onHide:u.PropTypes.func.isRequired,setOverrides:u.PropTypes.func.isRequired,actions:u.PropTypes.object},g.defaultProps={};var _=function(e,t){function n(n){var r=n.config.sections.find(function(t){return t.name===e});return{sectionConfig:r,schemaUrl:""+r.form[t].schemaUrl}}return(0,d.compose)((0,p.connect)(n,s),y.default)(g)};t.InsertLinkModal=g,t.createInsertLinkModal=_,t.default=(0,d.compose)((0,p.connect)(function(){return{}},s),y.default)(g)},952:function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function a(e){return{actions:{schema:(0,f.bindActionCreators)(m,e)}}}function s(e){function t(){return{Component:e}}return(0,y.connect)(t,a)(b)}Object.defineProperty(t,"__esModule",{value:!0}),t.ConnectedFileSchemaHandler=t.FileSchemaHandler=void 0;var l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},u=function(){function e(e,t){var n=[],r=!0,o=!1,i=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){o=!0,i=e}finally{try{!r&&s.return&&s.return()}finally{if(o)throw i}}return n}return function(t,n){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),c=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),d=n(0),p=function(e){return e&&e.__esModule?e:{default:e}}(d),f=n(44),h=n(243),m=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(h),y=n(43),b=function(e){function t(e){r(this,t);var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.setOverrides=n.setOverrides.bind(n),n}return i(t,e),c(t,[{key:"componentWillMount",value:function(){this.setOverrides(this.props)}},{key:"componentWillUnmount",value:function(){this.setOverrides()}},{key:"setOverrides",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;if(e){if(e.schemaUrl){var t=Object.assign({},e.fileAttributes);delete t.ID;var n={fields:Object.entries(t).map(function(e){var t=u(e,2);return{name:t[0],value:t[1]}})};this.props.actions.schema.setSchemaStateOverrides(e.schemaUrl,n)}}else{var r=this.props.schemaUrl;r&&this.props.actions.schema.setSchemaStateOverrides(r,null)}}},{key:"render",value:function(){var e=this.props.Component,t=Object.assign({},this.props);return delete t.Component,p.default.createElement(e,l({setOverrides:this.setOverrides},t))}}]),t}(d.Component);b.propTypes={fileAttributes:d.PropTypes.object,Component:d.PropTypes.oneOfType([d.PropTypes.element,d.PropTypes.func]),schemaUrl:d.PropTypes.string,actions:d.PropTypes.object};var v=(0,y.connect)(function(){return{}},a())(b);t.FileSchemaHandler=b,t.ConnectedFileSchemaHandler=v,t.default=s},954:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function a(e){var t=null;if(!(e.status>=200&&e.status<300))throw t=new Error(e.statusText),t.response=e,t;return e}function s(e){var t=null;if(e instanceof FormData||"string"==typeof e)t=e;else{if(!e||"object"!==(void 0===e?"undefined":m(e)))throw new Error("Invalid body type");t=JSON.stringify(e)}return t}function l(e,t){switch(e){case"application/x-www-form-urlencoded":return w.default.stringify(t);case"application/json":case"application/x-json":case"application/x-javascript":case"text/javascript":case"text/x-javascript":case"text/x-json":return JSON.stringify(t);default:throw new Error("Can't encode format: "+e)}}function u(e,t){switch(e){case"application/x-www-form-urlencoded":return w.default.parse(t);case"application/json":case"application/x-json":case"application/x-javascript":case"text/javascript":case"text/x-javascript":case"text/x-json":return JSON.parse(t);default:throw new Error("Can't decode format: "+e)}}function c(e,t){return""===t?e:e.match(/\?/)?e+"&"+t:e+"?"+t}function d(e){return e.text().then(function(t){return u(e.headers.get("Content-Type"),t)})}function p(e,t){return Object.keys(t).reduce(function(n,r){var o=e[r];return!o||!0!==o.remove&&!0!==o.querystring?Object.assign(n,i({},r,t[r])):n},{})}function f(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{setFromData:!1},o=t;return o=c(o,l("application/x-www-form-urlencoded",Object.keys(n).reduce(function(t,o){var a=e[o],s=!0===r.setFromData&&!(a&&!0===a.remove),l=a&&!0===a.querystring&&!0!==a.remove;return s||l?Object.assign(t,i({},o,n[o])):t},{}))),o=Object.keys(e).reduce(function(t,r){var o=e[r].urlReplacement;return o?t.replace(o,n[r]):t},o)}Object.defineProperty(t,"__esModule",{value:!0});var h=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),m="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},y=n(175),b=r(y),v=n(297),g=r(v),_=n(244),w=r(_),T=n(150),P=r(T);g.default.polyfill();var O=function(){function e(){o(this,e),this.fetch=b.default}return h(e,[{key:"createEndpointFetcher",value:function(e){var t=this,n=Object.assign({method:"get",payloadFormat:"application/x-www-form-urlencoded",responseFormat:"application/json",payloadSchema:{},defaultData:{}},e),r={json:"application/json",urlencoded:"application/x-www-form-urlencoded"};return["payloadFormat","responseFormat"].forEach(function(e){r[n[e]]&&(n[e]=r[n[e]])}),function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},o=Object.assign({},r,{Accept:n.responseFormat,"Content-Type":n.payloadFormat}),i=P.default.recursive({},n.defaultData,e),a=f(n.payloadSchema,n.url,i,{setFromData:"get"===n.method.toLowerCase()}),s="get"!==n.method.toLowerCase()?l(n.payloadFormat,p(n.payloadSchema,i)):"",u="get"===n.method.toLowerCase()?[a,o]:[a,s,o];return t[n.method.toLowerCase()].apply(t,u).then(d)}}},{key:"get",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this.fetch(e,{method:"get",credentials:"same-origin",headers:t}).then(a)}},{key:"post",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r={"Content-Type":"application/x-www-form-urlencoded"};return this.fetch(e,{method:"post",credentials:"same-origin",body:s(t),headers:Object.assign({},r,n)}).then(a)}},{key:"put",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return this.fetch(e,{method:"put",credentials:"same-origin",body:s(t),headers:n}).then(a)}},{key:"delete",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return this.fetch(e,{method:"delete",credentials:"same-origin",body:s(t),headers:n}).then(a)}}]),e}(),C=new O;t.default=C},955:function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=function(){function e(){r(this,e)}return o(e,null,[{key:"get",value:function(e){return window.ss.config[e]}},{key:"getAll",value:function(){return window.ss.config}},{key:"getSection",value:function(e){return window.ss.config.sections.find(function(t){return t.name===e})}},{key:"getCurrentSection",value:function(){}}]),e}();t.default=i},956:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e){return c.default.parse(e.replace(/^\?/,""))}function i(e){var t=null,n="";return e<1024?(t=e,n="bytes"):e<10240?(t=Math.round(e/1024*10)/10,n="KB"):e<1048576?(t=Math.round(e/1024),n="KB"):e<10485760?(t=Math.round(e/1048576*10)/10,n="MB"):e<1073741824&&(t=Math.round(e/1048576),n="MB"),(t||0===t)&&n||(t=Math.round(e/1073741824*10)/10,n="GB"),isNaN(t)?l.default._t("Admin.NO_SIZE","N/A"):t+" "+n}function a(e){return/[.]/.exec(e)?e.replace(/^.+[.]/,""):""}Object.defineProperty(t,"__esModule",{value:!0}),t.decodeQuery=o,t.fileSize=i,t.getFileExtension=a;var s=n(23),l=r(s),u=n(244),c=r(u)},957:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.inject=t.withInjector=t.provideInjector=void 0;var o=n(915),i=r(o),a=n(916),s=r(a),l=n(914),u=r(l),c=n(396),d=r(c);t.provideInjector=i.default,t.withInjector=s.default,t.inject=u.default,t.default=d.default},958:function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=function(){function e(){r(this,e),this.reset()}return o(e,[{key:"reset",value:function(){var e=this;this.childRoutes=[],this.rootRoute={path:"/",getChildRoutes:function(t,n){n(null,e.childRoutes)}}}},{key:"updateRootRoute",value:function(e){this.rootRoute=Object.assign({},this.rootRoute,e)}},{key:"add",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=this.findChildRoute(t),r=Object.assign({},{childRoutes:[]},e),o=r.childRoutes[r.childRoutes.length-1];o&&"**"===o.path||(o={path:"**"},r.childRoutes.push(o));var i=n.findIndex(function(t){return t.path===e.path});i>=0?n[i]=r:n.unshift(r)}},{key:"findChildRoute",value:function(e){var t=this.childRoutes;return e&&e.forEach(function(e){var n=t.find(function(t){return t.path===e});if(!n)throw new Error("Parent path "+e+" could not be found.");t=n.childRoutes}),t}},{key:"getRootRoute",value:function(){return this.rootRoute}},{key:"getChildRoutes",value:function(){return this.childRoutes}},{key:"remove",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=this.findChildRoute(t),r=n.findIndex(function(t){return t.path===e});return r<0?null:n.splice(r,1)[0]}}]),e}();window.ss=window.ss||{},window.ss.routeRegister=window.ss.routeRegister||new i,t.default=window.ss.routeRegister},959:function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i={},a=function(){function e(){r(this,e)}return o(e,[{key:"add",value:function(e,t){if(void 0!==i[e])throw new Error("Reducer already exists at '"+e+"'");i[e]=t}},{key:"getAll",value:function(){return i}},{key:"getByKey",value:function(e){return i[e]}},{key:"remove",value:function(e){delete i[e]}}]),e}();window.ss=window.ss||{},window.ss.reducerRegister=window.ss.reducerRegister||new a,t.default=window.ss.reducerRegister},960:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e){var t=u.default.getAbsoluteBase(),n=d.default.resolve(t,e);return 0!==n.indexOf(t)?n:n.substring(t.length-1)}function i(e){return new u.default.Route(e).match(u.default.current,{})}function a(){return u.default.absoluteBaseURL}function s(e){u.default.absoluteBaseURL=e;var t=document.createElement("a");t.href=e;var n=t.pathname;n=n.replace(/\/$/,""),n.match(/^[^\/]/)&&(n="/"+n),u.default.base(n)}Object.defineProperty(t,"__esModule",{value:!0});var l=n(1862),u=r(l),c=n(383),d=r(c);u.default.oldshow||(u.default.oldshow=u.default.show),u.default.setAbsoluteBase=s.bind(u.default),u.default.getAbsoluteBase=a.bind(u.default),u.default.resolveURLToBase=o.bind(u.default),u.default.show=function(e){return function(t,n,r,o){return e(u.default.resolveURLToBase(t),n,r,o)}}(u.default.oldshow),u.default.routeAppliesToCurrentLocation=i,window.ss=window.ss||{},window.ss.router=window.ss.router||u.default,t.default=window.ss.router},961:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){var n=[],r=!0,o=!1,i=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){o=!0,i=e}finally{try{!r&&s.return&&s.return()}finally{if(o)throw i}}return n}return function(t,n){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),o=n(23),i=function(e){return e&&e.__esModule?e:{default:e}}(o),a=function(e){return e.toString().slice(1,-1)},s=a(/((?:[,\s]+(?:[a-z0-9\-_]+)=(?:(?:[a-z0-9\-_]+)|(?:\d+\.\d+)|(?:'[^']*')|(?:"[^"]*")))*)/),l=/[,\s]+([a-z0-9\-_]+)=(?:([a-z0-9\-_]+)|(\d+\.\d+)|(?:'([^']*)')|(?:"([^"]*)"))/,u=a(/\[%s/),c=a(/\[\s*\/\s*%s\s*]/),d=a(/((?:.|\n|)*?)/),p=a(/\s*/),f={match:function(e,t,n){var r=i.default.sprintf(u,e),o=""+r+s+p+"\\]";t&&(o=""+o+d+i.default.sprintf(c,e));var a=new RegExp(o,"i"),l=a.exec(n);return l?{name:e,wrapped:t,properties:this.parseProperties(l[1]),original:l[0],content:t?l[2]:null}:null},parseProperties:function(e){for(var t=e,n={},r=t.match(l);r;){var o=r[1]||"",i=r[2]||r[3]||r[4]||r[5]||"";o&&(n[o]=i);var a=t.indexOf(r[0]);t=t.substr(a+r[0].length),r=t.match(l)}return n},serialise:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=t?{sep:",",quote:"",replacer:/[^a-z0-9\-_.]/gi}:{sep:" ",quote:'"',replacer:/"/g},o=Object.entries(e.properties).map(function(e){var t=r(e,2),o=t[0],i=t[1];return i?""+n.sep+o+"="+n.quote+(""+i).replace(n.replacer,"")+n.quote:null}).filter(function(e){return null!==e}).join("");return e.wrapped?"["+e.name+o+"]"+e.content+"[/"+e.name+"]":"["+e.name+o+"]"}};t.default=f},962:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=n(0),u=r(l),c=n(15),d=r(c),p=function(e){function t(){return o(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return a(t,e),s(t,[{key:"componentDidMount",value:function(){if(void 0!==this.props.cmsEvents){this.cmsEvents=this.props.cmsEvents;for(var e in this.cmsEvents)({}).hasOwnProperty.call(this.cmsEvents,e)&&(0,d.default)(document).on(e,this.cmsEvents[e].bind(this))}}},{key:"componentWillUnmount",value:function(){for(var e in this.cmsEvents)({}).hasOwnProperty.call(this.cmsEvents,e)&&(0,d.default)(document).off(e)}},{key:"emitCmsEvent",value:function(e,t){(0,d.default)(document).trigger(e,t)}}]),t}(l.Component);p.propTypes={cmsEvents:u.default.PropTypes.object},t.default=p},963:function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=function(){function e(){r(this,e),this.actions={}}return o(e,[{key:"addAction",value:function(e,t){this.actions[e]=this.getActions(e).concat([t])}},{key:"getActions",value:function(e){return this.actions[e]||[]}}]),e}();window.ss=window.ss||{},window.ss.tinymceactions=window.ss.tinymceactions||new i,t.default=window.ss.tinymceactions},964:function(e,t,n){"use strict";function r(e){var t=parseInt(e,10);return t>=0&&t<10?[i.default._t("Admin.WRITTEN_NUMBER_ZERO","zero"),i.default._t("Admin.WRITTEN_NUMBER_ONE","one"),i.default._t("Admin.WRITTEN_NUMBER_TWO","two"),i.default._t("Admin.WRITTEN_NUMBER_THREE","three"),i.default._t("Admin.WRITTEN_NUMBER_FOUR","four"),i.default._t("Admin.WRITTEN_NUMBER_FIVE","five"),i.default._t("Admin.WRITTEN_NUMBER_SIX","six"),i.default._t("Admin.WRITTEN_NUMBER_SEVEN","seven"),i.default._t("Admin.WRITTEN_NUMBER_EIGHT","eight"),i.default._t("Admin.WRITTEN_NUMBER_NINE","nine")][t]:t?String(t):null}Object.defineProperty(t,"__esModule",{value:!0}),t.default=r;var o=n(23),i=function(e){return e&&e.__esModule?e:{default:e}}(o)},965:function(e,t,n){"use strict";function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function o(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return function(o){if(!t.payload.fieldId)throw new Error("Invalid fieldId");var i=e.fields||{},s=i[t.payload.fieldId]?e.fields[t.payload.fieldId]:n;return(0,a.default)(Object.assign({},e,{fields:Object.assign({},i,r({},t.payload.fieldId,Object.assign({},s,o(s))))}))}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=o;var i=n(121),a=function(e){return e&&e.__esModule?e:{default:e}}(i)},966:function(e,t,n){"use strict";function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function o(e,t){return void 0===t?e:l.default.recursive(!0,e,{data:t.data,source:t.source,message:t.message,valid:t.valid,value:t.value})}function i(e,t){var n=null;if(!e)return n;n=e.find(function(e){return e.name===t});var r=!0,o=!1,a=void 0;try{for(var s,l=e[Symbol.iterator]();!(r=(s=l.next()).done);r=!0){var u=s.value;if(n)break;n=i(u.children,t)}}catch(e){o=!0,a=e}finally{try{!r&&l.return&&l.return()}finally{if(o)throw a}}return n}function a(e,t){return t?t.fields.reduce(function(t,n){var o=i(e.fields,n.name);return o?"Structural"===o.type||!0===o.readOnly?t:Object.assign({},t,r({},o.name,n.value)):t},{}):{}}Object.defineProperty(t,"__esModule",{value:!0}),t.schemaMerge=o,t.findField=i,t.default=a;var s=n(150),l=function(e){return e&&e.__esModule?e:{default:e}}(s)},967:function(e,t,n){"use strict";function r(e){return{type:i.default.SET_BREADCRUMBS,payload:{breadcrumbs:e}}}Object.defineProperty(t,"__esModule",{value:!0}),t.setBreadcrumbs=r;var o=n(398),i=function(e){return e&&e.__esModule?e:{default:e}}(o)},968:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={CREATE_RECORD:"CREATE_RECORD",UPDATE_RECORD:"UPDATE_RECORD",DELETE_RECORD:"DELETE_RECORD",FETCH_RECORDS_REQUEST:"FETCH_RECORDS_REQUEST",FETCH_RECORDS_FAILURE:"FETCH_RECORDS_FAILURE",FETCH_RECORDS_SUCCESS:"FETCH_RECORDS_SUCCESS",FETCH_RECORD_REQUEST:"FETCH_RECORD_REQUEST",FETCH_RECORD_FAILURE:"FETCH_RECORD_FAILURE",FETCH_RECORD_SUCCESS:"FETCH_RECORD_SUCCESS",DELETE_RECORD_REQUEST:"DELETE_RECORD_REQUEST",DELETE_RECORD_FAILURE:"DELETE_RECORD_FAILURE",DELETE_RECORD_SUCCESS:"DELETE_RECORD_SUCCESS"}},969:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){return["id"].reduce(function(e,n){return e.replace(":"+n,t[n])},e)}function i(e,t,n){var r={recordType:e},i={Accept:"text/json"},a=t.toLowerCase();return function(t){t({type:u.default.FETCH_RECORDS_REQUEST,payload:r});var s="get"===a?[o(n,r),i]:[o(n,r),{},i];return d.default[a].apply(d.default,s).then(function(e){return e.json()}).then(function(n){t({type:u.default.FETCH_RECORDS_SUCCESS,payload:{recordType:e,data:n}})}).catch(function(n){throw t({type:u.default.FETCH_RECORDS_FAILURE,payload:{error:n,recordType:e}}),n})}}function a(e,t,n){var r={recordType:e},i={Accept:"text/json"},a=t.toLowerCase();return function(t){t({type:u.default.FETCH_RECORD_REQUEST,payload:r});var s="get"===a?[o(n,r),i]:[o(n,r),{},i];return d.default[a].apply(d.default,s).then(function(e){return e.json()}).then(function(n){t({type:u.default.FETCH_RECORD_SUCCESS,payload:{recordType:e,data:n}})}).catch(function(n){throw t({type:u.default.FETCH_RECORD_FAILURE,payload:{error:n,recordType:e}}),n})}}function s(e,t,n,r){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{},a={recordType:e,id:t},s=n.toLowerCase(),l="get"===s?[o(r,a),i]:[o(r,a),{},i];return function(n){return n({type:u.default.DELETE_RECORD_REQUEST,payload:a}),d.default[s].apply(d.default,l).then(function(){n({type:u.default.DELETE_RECORD_SUCCESS,payload:{recordType:e,id:t}})}).catch(function(r){throw n({type:u.default.DELETE_RECORD_FAILURE,payload:{error:r,recordType:e,id:t}}),r})}}Object.defineProperty(t,"__esModule",{value:!0}),t.fetchRecords=i,t.fetchRecord=a,t.deleteRecord=s;var l=n(400),u=r(l),c=n(912),d=r(c)},970:function(e,t,n){"use strict";function r(e,t){return{type:s.default.SET_SCHEMA,payload:Object.assign({id:e},t)}}function o(e,t){return{type:s.default.SET_SCHEMA_STATE_OVERRIDES,payload:{id:e,stateOverride:t}}}function i(e,t){return{type:s.default.SET_SCHEMA_LOADING,payload:{id:e,loading:t}}}Object.defineProperty(t,"__esModule",{value:!0}),t.setSchema=r,t.setSchemaStateOverrides=o,t.setSchemaLoading=i;var a=n(401),s=function(e){return e&&e.__esModule?e:{default:e}}(a)}},[877]);